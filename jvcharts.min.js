(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
//add all required files

require('./jvVars.js');
require('./jvTip.js');
require('./jvBrush.js');
require('./jvComment.js');
require('./jvEdit.js');
require('./visuals/jvBar.js');
require('./visuals/jvPie.js');
require('./visuals/jvLine.js');
require('./visuals/jvScatter.js');
require('./visuals/jvArea.js');
require('./visuals/jvGantt.js');
require('./visuals/jvHeatmap.js');
require('./visuals/jvPack.js');
require('./visuals/jvRadial.js');
require('./visuals/jvSankey.js');
require('./visuals/jvSingleAxis.js');
require('./visuals/jvSunburst.js');
require('./visuals/jvTreemap.js');
require('./visuals/jvWordCloud.js');

//attach jv charts objects to the window
var jvCharts = require('./jvCharts.js');
var jvBrush = require('./jvBrush.js');
var jvComment = require('./jvComment.js');
var jvEdit = require('./jvEdit.js');
var jvSelect = require('./jvSelect');

//Comment out to remove from window object - if you are not using jvCharts as a minified file
window.jvCharts = jvCharts;
window.jvBrush = jvBrush;
window.jvComment = jvComment;
window.jvEdit = jvEdit;
window.jvSelect = jvSelect;

},{"./jvBrush.js":2,"./jvCharts.js":3,"./jvComment.js":4,"./jvEdit.js":5,"./jvSelect":6,"./jvTip.js":7,"./jvVars.js":8,"./visuals/jvArea.js":9,"./visuals/jvBar.js":10,"./visuals/jvGantt.js":11,"./visuals/jvHeatmap.js":12,"./visuals/jvLine.js":13,"./visuals/jvPack.js":14,"./visuals/jvPie.js":15,"./visuals/jvRadial.js":16,"./visuals/jvSankey.js":17,"./visuals/jvScatter.js":18,"./visuals/jvSingleAxis.js":19,"./visuals/jvSunburst.js":20,"./visuals/jvTreemap.js":21,"./visuals/jvWordCloud.js":22}],2:[function(require,module,exports){
'use strict';

/***  jvBrush ***/
function jvBrush(configObj) {
    'use strict';

    var brushObj = this;
    brushObj.chartDiv = configObj.chartDiv;
    brushObj.brushDiv = '';
    brushObj.jvChart = configObj.jvChart;
    brushObj.disabled = false;
    brushObj.toggleBrushMode = function (toggleBool) {
        if (toggleBool) {
            brushObj.startBrush();
        } else {
            brushObj.removeBrush();
        }
    };
    brushObj.filterCallbackFunction = configObj.filterCallbackFunction;
}

/********************************************* All Brush Mode Functions **************************************************/

jvBrush.prototype.removeBrush = function () {
    var brushObj = this,
        svg = brushObj.jvChart.svg;

    svg.selectAll('.brusharea').remove();
};

jvBrush.prototype.startBrush = function () {
    var brushObj = this,
        height = brushObj.jvChart.config.container.height,
        width = brushObj.jvChart.config.container.width,
        svg = brushObj.jvChart.svg;

    if (brushObj.jvChart.config.type === 'singleaxis') {
        brushObj.brushType = 'x';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brushX().extent([[0, 0], [width, height]]).on('end', brushEnd));
    } else {
        brushObj.brushType = 'xy';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brush().extent([[0, 0], [width, height]]).on('end', brushEnd));
    }

    /**brushEnd
     * @desc - function called at the end of the user brushing
     */
    function brushEnd() {
        var xScale = brushObj.jvChart.currentData.xAxisScale,
            yScale = brushObj.jvChart.currentData.yAxisScale,
            filteredXAxisLabels = [],
            filteredYAxisLabels = [],
            shouldReset = false,
            e = d3.event.selection,
            returnObj,
            filteredLabels = [],
            filteredConcepts = {},
            index,
            filterCol,
            filteredLabelsX,
            filteredLabelsY;

        if (e) {
            if (brushObj.brushType === 'xy') {
                if (xScale && typeof xScale.invert !== 'function') {
                    //means that the scale is ordinal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][0], e[1][0], xScale);
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                } else if (xScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][0], e[1][0], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                }

                if (yScale && typeof yScale.invert !== 'function') {
                    //means that the scale is oridnal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][1], e[1][1], yScale);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (yScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][1], e[1][1], yScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'y');
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'cloud') {
                    returnObj = calculateCloudBrush(e, brushObj.jvChart.currentData);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'heatmap') {
                    returnObj = calculateHeatmapBrush(e, brushObj.jvChart.currentData, brushObj.jvChart.config.margin);
                    filteredLabelsX = returnObj.filteredXAxisLabels;
                    filteredLabelsY = returnObj.filteredYAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                }
            } else if (brushObj.brushType === 'x') {
                returnObj = calculateBrushAreaLinear(e[0], e[1], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                filteredXAxisLabels = returnObj.filteredAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            }
        } else {
            shouldReset = true;
        }

        if (filteredXAxisLabels.length > 0 && filteredYAxisLabels.length > 0) {
            //merge axisLabels
            for (var j = 0; j < filteredXAxisLabels.length; j++) {
                index = filteredYAxisLabels.indexOf(filteredXAxisLabels[j]);
                if (index > -1) {
                    filteredLabels.push(filteredXAxisLabels[j]);
                }
            }
        } else if (filteredXAxisLabels.length > 0) {
            filteredLabels = filteredXAxisLabels;
        } else if (filteredYAxisLabels.length > 0) {
            filteredLabels = filteredYAxisLabels;
        }

        if (brushObj.jvChart.config.type === 'heatmap') {
            if (!shouldReset) {
                var filterColX = brushObj.jvChart.currentData.dataTable.x;
                var filterColY = brushObj.jvChart.currentData.dataTable.y;
                if (filteredLabelsX.length > 0) {
                    filteredConcepts[filterColX] = filteredLabelsX;
                }
                if (filteredLabelsY.length > 0) {
                    filteredConcepts[filterColY] = filteredLabelsY;
                }
            }
        } else {
            filterCol = brushObj.jvChart.currentData.dataTable.label;
        }
        filteredConcepts[filterCol] = filteredLabels;

        //calls back to update data with brushed data
        brushObj.filterCallbackFunction(filteredConcepts, shouldReset);
    }
};

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaOrdinal(mousePosMin, mousePosMax, scale) {
    var domain = scale.domain(),
        padding = scale.padding(),
        step = scale.step(),
        minIndex,
        maxIndex,
        paddingDistance = padding * step / 2,
        filteredAxisLabels;

    //determine min index
    if (mousePosMin % step > step - paddingDistance) {
        //don't include on min side
        minIndex = Math.floor(mousePosMin / step) + 1;
    } else {
        //include on min side
        minIndex = Math.floor(mousePosMin / step);
    }

    //determine max index
    if (mousePosMax % step < paddingDistance) {
        //don't include on max side
        maxIndex = Math.floor(mousePosMax / step) - 1;
    } else {
        //include on max side
        maxIndex = Math.floor(mousePosMax / step);
        if (maxIndex === domain.length) {
            maxIndex -= 1;
        }
    }

    filteredAxisLabels = domain.slice(minIndex, maxIndex + 1);

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @param data chartData
 * @param type visual type
 * @param axis - x / y
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaLinear(mousePosMin, mousePosMax, scale, data, type, axis) {
    var filteredAxisLabels = [],
        min,
        max,
        axisLabel;

    //switch min and max if scale is y due to svg drawing (y axis increases up the screen while mousePos decreases)
    if (axis === 'y') {
        max = scale.invert(mousePosMin);
        min = scale.invert(mousePosMax);
    } else {
        min = scale.invert(mousePosMin);
        max = scale.invert(mousePosMax);
    }

    if (type === 'bar') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'line' || type === 'area' || type === 'singleaxis') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'scatterplot') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    } else if (type === 'heatmap') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    }

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

function calculateCloudBrush(e, data) {
    for (var i = 0; i < data.length; i++) {
        var d = data[i];
        var mouseX0 = e[0][0];
        var mouseX1 = e[0][1];
        var mouseY0 = e[1][0];
        var mouseY1 = e[1][1];
    }

    return [];
}

function calculateHeatmapBrush(e, data) {
    var mouseXmin = e[0][0];
    var mouseYmin = e[0][1];
    var mouseXmax = e[1][0];
    var mouseYmax = e[1][1];
    var filteredXAxisLabels = [];
    var filteredYAxisLabels = [];
    var filteredData = [];
    var reset = true;

    for (var i = 0; i < mouseXmax / 20; i++) {
        if (i >= mouseXmin / 20) {
            filteredXAxisLabels.push(data.xAxisData.values[i]);
            reset = false;
        }
    }
    for (var i = 0; i < mouseYmax / 20; i++) {
        if (i >= mouseYmin / 20) {
            filteredYAxisLabels.push(data.yAxisData.values[i]);
            reset = false;
        }
    }

    //Might need when new PKQL pixel... comes out
    // for (var i = 0; i < data.chartData.length; i++) {
    //     var d = data.chartData[i];
    //     if(filteredXAxisLabels.includes(d[data.dataTable.x]) && filteredYAxisLabels.includes(d[data.dataTable.y])) {
    //         filteredDataX.push(d[data.dataTable.x]);
    //         filteredDataY.push(d[data.dataTable.y]);
    //     }
    // }

    return { filteredXAxisLabels: filteredXAxisLabels, filteredYAxisLabels: filteredYAxisLabels, shouldReset: reset };
}

module.exports = jvBrush;

},{}],3:[function(require,module,exports){
'use strict';
/***  jvCharts ***/

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var jvTip = require('./jvTip.js');

/**Create a jvCharts object
 * @constructor
 * @param {Object} configObj - Configuration object passed into jvCharts constructor
 * @param {string} configObj.type - The type of chart
 * @param {string} configObj.name - The name of the chart
 * @param {Object} configObj.container - The container of the chart
 * @param {Object} configObj.userOptions - UI options for the chart
 * @param {Object} configObj.tipConfig - Configuration object for jvTooltip
 * @param {Object} configObj.chartDiv - A div wrapper for the chart and other jv features
 */

var jvCharts = function () {
    function jvCharts(configObj) {
        _classCallCheck(this, jvCharts);

        var chart = this;
        chart.config = {
            type: configObj.type.toLowerCase(),
            name: configObj.name,
            container: configObj.container
        };

        chart.chartDiv = configObj.chartDiv;
        chart.localCallbackRelatedInsights = configObj.localCallbackRelatedInsights;
        configObj.options = cleanToolData(configObj.options);
        chart._vars = chart.getDefaultOptions(configObj.options);

        if (configObj.hasOwnProperty('infiniteScrollFunc')) {
            chart.infiniteScrollFunc = configObj.infiniteScrollFunc;
        }

        if (configObj.hasOwnProperty('sortColumnFunc')) {
            chart.sortColumnFunc = configObj.sortColumnFunc;
        }

        chart.tip = new jvTip({
            type: configObj.tipConfig.type,
            chartDiv: configObj.chartDiv
        });

        chart.showComments = false;
        chart.draw = {};
        chart.draw.showToolTip = true;
        chart.currentData = {};

        chart.toggleDefaultMode = function (toggleBool) {
            if (toggleBool) {
                var entireSvg = chart.chartDiv.select('.editable-svg');
                entireSvg.on('dblclick', function () {
                    if (typeof chart.localCallbackRelatedInsights === 'function') {
                        chart.localCallbackRelatedInsights();
                    }
                });
                entireSvg.on('click', false);
                chart.draw.showToolTip = true;
            } else {
                chart.draw.showToolTip = false;
                chart.removeHighlight();
            }
        };

        if (configObj.setData) {
            chart.data = { chartData: configObj.setData.data, dataTable: configObj.setData.dataTable, dataTableKeys: configObj.setData.dataTableKeys };
            chart.colors = configObj.setData.colors;
            if (configObj.setData.additionalInfo) {
                chart.data.additionalInfo = configObj.setData.additionalInfo;
            }
            if (configObj.setData.markerType) {
                chart.data.markerType = configObj.setData.markerType;
            }
            chart[chart.config.type].setData(chart, configObj.setData);
        }

        if (_typeof(chart[chart.config.type]) === 'object' && typeof chart[chart.config.type].paint === 'function') {
            chart[chart.config.type].paint(chart);
        } else {
            console.log('no paint function for: ' + chart.config.type);
        }
    }
    // end of constructor

    _createClass(jvCharts, [{
        key: 'setAxisData',
        value: function setAxisData(axis, data, keys) {
            var chart = this;
            var axisData = [];
            var chartData = data.chartData;
            var label = '';
            var maxStack = 0,
                dataTableKeys = data.dataTableKeys,
                dataType;

            if (!dataTableKeys) {
                dataTableKeys = keys;
            }

            //Step 1: find out what the label is for the axis
            if (axis === 'x') {
                if (data.dataTable) {
                    if (data.dataTable.hasOwnProperty('label')) {
                        label = data.dataTable.label;
                    } else {
                        console.error("Label doesn't exist in dataTable");
                    }
                } else {
                    console.log('DataTable does not exist');
                }

                dataType = 'STRING';

                //Replace underscores with spaces
                label = label.replace(/_/g, ' ');

                //loop through data to populate axisData
                for (var i = 0; i < chartData.length; i++) {
                    if (chartData[i][label] === null) {
                        axisData.push('NULL_VALUE');
                    } else if (chartData[i][label] === '') {
                        axisData.push('EMPTY_STRING');
                    } else if (chartData[i][label] || chartData[i][label] === 0) {
                        axisData.push(chartData[i][label]);
                    }
                }
            } else {
                //Find the max value for Y Data
                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType !== 'label') {
                        label = dataTableKeys[i].varKey;
                    }
                }

                dataType = getDataTypeFromKeys(label, dataTableKeys);

                //Add all values that are on yaxis to axis data
                for (var i = 0; i < chartData.length; i++) {
                    var stack = 0; //Keeps track of the maximum size of stacked data so that axis can be scaled to fit max size
                    for (var k in data.dataTable) {
                        if (chartData[i].hasOwnProperty(data.dataTable[k]) && k !== 'label') {
                            stack += chartData[i][data.dataTable[k]];
                            axisData.push(chartData[i][data.dataTable[k]]);
                        }
                    }
                    if (stack > maxStack) {
                        maxStack = stack;
                    }
                }
                //Replace underscores with spaces since label is retrieved from dataTableKeys
                label = label.replace(/_/g, ' ');
            }

            //Find the min and max of numeric data for building axes and add it to the returned object
            if (dataType === 'NUMBER') {
                if (chart._vars.stackToggle) {
                    var max = maxStack;
                } else {
                    var max = Math.max.apply(null, axisData);
                }

                var min = Math.min.apply(null, axisData);
                min = Math.min(0, min);

                //Check if there's an axis min/max set
                if (axis === 'x') {
                    if (chart._vars.xMin != null && chart._vars.xMin !== 'none') {
                        min = chart._vars.xMin;
                    }
                    if (chart._vars.xMax != null && chart._vars.xMax !== 'none') {
                        max = chart._vars.xMax;
                    }
                } else if (axis === 'y') {
                    if (chart._vars.yMin != null && chart._vars.yMin !== 'none') {
                        min = chart._vars.yMin;
                    }
                    if (chart._vars.yMax != null && chart._vars.yMax !== 'none') {
                        max = chart._vars.yMax;
                    }
                }

                if (dataType === 'NUMBER' && axisData.length === 1) {
                    if (axisData[0] >= 0) {
                        axisData.unshift(0);
                    } else {
                        axisData.push(0);
                    }
                }

                return {
                    'label': label,
                    'values': axisData,
                    'dataType': dataType,
                    'min': min,
                    'max': max
                };
            }

            return {
                'label': label,
                'values': axisData,
                'dataType': dataType
            };
        }

        /**setFlippedSeries
         *  flips series and returns flipped data
         *
         * @params chartData, dataTable, dataLabel
         * @returns Object of data and table for flipped series
         */

    }, {
        key: 'setFlippedSeries',
        value: function setFlippedSeries(dataTableKeys) {
            var chart = this;
            var chartData = chart.data.chartData;
            var dataTable = chart.data.dataTable;
            var dataLabel = chart.data.xAxisData.label;

            var flippedData = [];
            var flippedDataTable = {};
            var valueCount = 1;
            var filteredDataTableArray = [];

            for (var k in dataTable) {
                if (dataTable.hasOwnProperty(k)) {
                    var flippedObject = {};
                    if (dataTable[k] !== dataLabel) {
                        flippedObject[dataLabel] = dataTable[k];
                        for (var i = 0; i < chartData.length; i++) {
                            flippedObject[chartData[i][dataLabel]] = chartData[i][dataTable[k]];
                            if (filteredDataTableArray.indexOf(chartData[i][dataLabel]) === -1) {
                                flippedDataTable['value ' + valueCount] = chartData[i][dataLabel];
                                valueCount++;
                                filteredDataTableArray.push(chartData[i][dataLabel]);
                            }
                        }
                        flippedData.push(flippedObject);
                    }
                }
            }
            flippedDataTable.label = dataLabel;
            chart.flippedData = { chartData: flippedData, dataTable: flippedDataTable };

            if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                chart.flippedData.xAxisData = chart.setAxisData('x', chart.flippedData, dataTableKeys);
                chart.flippedData.yAxisData = chart.setAxisData('y', chart.flippedData, dataTableKeys);
                chart.flippedData.legendData = setBarLineLegendData(chart.flippedData);
            } else {
                console.log('Add additional chart type to set flipped series');
            }
        }

        /**organizeChartData
         *  reorders all data based on the sortLabel and sortType
         *  -Only for chartData, does not work with flipped data
         *
         * @params sortLabel , sortType
         * @returns [] sorted data
         */

    }, {
        key: 'organizeChartData',
        value: function organizeChartData(sortParam, sortType) {
            var chart = this,
                organizedData,
                dataType,
                dataTableKeys = chart.data.dataTableKeys,
                sortLabel = sortParam;

            //If sortLabel doesn't exist, sort on the x axis label by default
            if (sortLabel === 'none') {
                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType === 'label') {
                        sortLabel = dataTableKeys[i].uri;
                        break;
                    }
                }
            }

            //Remove underscores from sortLabel
            sortLabel = sortLabel.replace(/_/g, ' ');

            if (!chart.data.chartData[0][sortLabel]) {
                //Check if the sort label is a calculatedBy field
                var isValidSortLabel = false;
                for (var i = 0; i < dataTableKeys.length; i++) {
                    var obj1 = dataTableKeys[i];
                    if (obj1.operation.hasOwnProperty('calculatedBy') && obj1.operation.calculatedBy[0] === sortLabel) {
                        sortLabel = obj1.uri.replace(/_/g, ' ');
                        isValidSortLabel = true;
                        break;
                    }
                }
                //If it's not a valid sort label, return and don't sort the data
                if (!isValidSortLabel) {
                    console.error('Not a valid sort');
                    return;
                }
            }

            //Check the data type to determine which logic to flow through
            for (var i = 0; i < dataTableKeys.length; i++) {
                var obj = dataTableKeys[i];
                //Loop through dataTableKeys to find sortLabel
                if (obj.uri.replace(/_/g, ' ') === sortLabel) {
                    dataType = obj.type;
                    break;
                }
            }

            //Date sorting
            if (dataType != null && dataType === 'DATE') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    var c = new Date(a[sortLabel]);
                    var d = new Date(b[sortLabel]);
                    return c - d;
                });
            } else if (dataType != null && dataType === 'NUMBER') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        return a[sortLabel] - b[sortLabel];
                    }
                });
            } else {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        if (parseFloat(a[sortLabel]) < parseFloat(b[sortLabel])) {
                            //sort string ascending
                            return -1;
                        }
                        if (parseFloat(a[sortLabel]) > parseFloat(b[sortLabel])) {
                            return 1;
                        }
                        return 0;
                    }
                    if (a[sortLabel].toLowerCase() < b[sortLabel].toLowerCase()) {
                        //sort string ascending
                        return -1;
                    }
                    if (a[sortLabel].toLowerCase() > b[sortLabel].toLowerCase()) {
                        return 1;
                    }
                    return 0;
                });
            }

            switch (sortType) {
                case 'sortAscending':
                case 'ascending':
                    chart.data.chartData = organizedData;
                    break;
                case 'sortDescending':
                case 'descending':
                    chart.data.chartData = organizedData.reverse();
                    break;
                default:
                    chart.data.chartData = organizedData;
            }
        }

        /**setTipData
         *
         * creates data object to display in tooltip
         * @params
         * @returns {{}}
         */

    }, {
        key: 'setTipData',
        value: function setTipData(d, i) {
            var chart = this,
                data = chart.currentData.chartData;

            //Get Color from chartData and add to object
            var color = chart._vars.color;

            var title = d[chart.data.dataTable.label];
            var dataTable = {};

            if (chart.config.type === 'treemap') {
                for (var item in d) {
                    if (item === chart.data.dataTable.series || item === chart.data.dataTable.size) {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                title = data[i][chart.data.dataTable.label];
                for (var item in data[i]) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = data[i][item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'gantt') {
                //Calculate length of dates
                for (item in data[i]) {
                    if (data[i].hasOwnProperty(item) && item !== chart.data.dataTable.group) {
                        dataTable[item] = data[i][item];
                    }
                }

                var start, end, difference;

                //Calculting duration of date ranges to add to tooltip
                var numPairs = Math.floor(Object.keys(chart.data.dataTable).length / 2);
                for (var j = 1; j <= numPairs; j++) {
                    start = new Date(data[i][chart.data.dataTable['start ' + j]]);
                    end = new Date(data[i][chart.data.dataTable['end ' + j]]);
                    difference = end.getTime() - start.getTime();
                    dataTable['Duration ' + j] = Math.ceil(difference / (1000 * 60 * 60 * 24)) + ' days';
                }

                title = data[i][chart.data.dataTable.group];
            } else if (chart.config.type === 'pie' || chart.config.type === 'radial') {
                title = d.label;
                for (var item in d) {
                    if (item !== 'label') {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
                delete dataTable.outerRadius;
            } else if (chart.config.type === 'circlepack' || chart.config.type === 'sunburst') {
                title = d.data.name;
                dataTable[chart.data.dataTable.value] = d.value;
            } else if (chart.config.type === 'cloud') {
                title = d[chart.data.dataTable.label];
                dataTable[chart.data.dataTable.value] = d[chart.data.dataTable.value];
            } else if (chart.config.type === 'heatmap') {
                title = d.yAxisName + ' to ' + d.xAxisName;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'sankey') {
                title = d.source.name + ' to ' + d.target.name;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'singleaxis') {
                title = d.data[chart.data.dataTable.label];

                for (var item in chart.data.dataTable) {
                    if (item != 'label') {
                        dataTable[chart.data.dataTable[item]] = d.data[chart.data.dataTable[item]];
                    }
                }
            } else {
                for (var item in d) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
            }

            return { 'data': d, 'tipData': dataTable, 'index': i, 'title': title, 'color': color, 'viz': chart.config.type };
        }

        /************************************************ Draw functions ******************************************************/

        /**generateSVG
         *creates an SVG element on the panel
         *
         * @params container, margin, name
         *
         */

    }, {
        key: 'generateSVG',
        value: function generateSVG(legendData, customMarginParam, customSizeParam) {
            var chart = this,
                margin = {},
                container = {},
                dimensions = chart.chartDiv.node().getBoundingClientRect(),
                customMargins = customMarginParam,
                customSize = customSizeParam,
                textWidth;

            if (chart._vars.customMargins) {
                customMargins = chart._vars.customMargins;
            }

            //set margins
            if (!customMargins) {
                //declare margins if they arent passed in
                margin = {
                    top: 55,
                    right: 50,
                    left: 100,
                    bottom: 70
                };
                if (legendData != null) {
                    if (legendData.length <= 3) {
                        margin.bottom = 70;
                    } else if (legendData.length <= 6) {
                        margin.bottom = 85;
                    } else {
                        margin.bottom = 130;
                    }
                }
            } else {
                margin = customMargins;
            }

            //reduce margins if legend is toggled off
            //TODO make this better
            if (chart._vars.toggleLegend === false) {
                if (chart.config.type === 'pie' || chart.config.type === 'radial' || chart.config.type === 'circlepack' || chart.config.type === 'heatmap') {
                    margin.left = 40;
                } else if (chart.config.type === 'treemap' || chart.config.type === 'bar' || chart.config.type === 'gantt' || chart.config.type === 'scatter' || chart.config.type === 'line') {
                    margin.bottom = 40;
                }
            }

            //set yAxis margins
            if (chart.currentData && chart.currentData.yAxisData) {
                textWidth = getMaxWidthForAxisData('y', chart.currentData.yAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                margin.left = Math.ceil(textWidth) + 20;
            }

            //set xAxis top margins
            if (chart.config.type === 'heatmap' && chart.currentData && chart.currentData.xAxisData) {
                textWidth = getMaxWidthForAxisData('x', chart.currentData.xAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                //subtract space for tilt
                textWidth = Math.ceil(textWidth);
                if (textWidth > 100) {
                    textWidth = 120;
                }
                margin.top = Math.ceil(textWidth);
                customSize = {};
                //set container
                customSize.width = chart.currentData.xAxisData.values.length * 20;
                customSize.height = chart.currentData.yAxisData.values.length * 20;
                if (customSize.width < dimensions.width) {
                    margin.right = parseInt(dimensions.width) - margin.left - customSize.width - 10;
                }
                if (customSize.height < dimensions.height) {
                    margin.bottom = parseInt(dimensions.height) - margin.top - customSize.height - 10;
                }

                if (chart.config.type === 'heatmap' && !chart._vars.toggleLegend) {
                    var dummyObj = {};
                    dummyObj.values = chart.data.heatData;
                    dummyObj.values.sort(function (a, b) {
                        return a - b;
                    });
                    dummyObj.label = "";
                    dummyObj.min = dummyObj.values[0];
                    dummyObj.max = dummyObj.values[dummyObj.values.length - 1];

                    textWidth = getMaxWidthForAxisData('y', dummyObj, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                    chart.config.heatWidth = Math.ceil(textWidth) + 30;
                    margin.left = margin.left + chart.config.heatWidth;
                }
            }

            //set container attributes
            //Set svg size based on calculation margins or custom size if specified
            if (customSize && customSize.hasOwnProperty('height')) {
                container.height = customSize.height;
            } else {
                container.height = parseInt(dimensions.height) - margin.top - margin.bottom;
            }

            if (customSize && customSize.hasOwnProperty('width')) {
                container.width = customSize.width;
            } else {
                container.width = parseInt(dimensions.width) - margin.left - margin.right;
            }

            //add margin and container to chart config object
            chart.config.margin = margin;
            chart.config.container = container;

            //remove old svg if it exists
            chart.svg = chart.chartDiv.select('svg').remove();

            //svg layer
            if (chart.config.type === 'heatmap' || chart.config.type === 'singleaxis') {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('class', 'container').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            } else {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'full-width full-height editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            }

            //TODO move to edit mode
            if (chart._vars.backgroundColor !== 'none') {
                chart.colorBackground(chart._vars.backgroundColor);
            }
        }

        /**generateXAxis
         * creates x axis on the svg
         *
         * @params xAxisData
         */

    }, {
        key: 'generateXAxis',
        value: function generateXAxis(xAxisData, ticks) {
            //declare variables
            var chart = this,
                xAxis,

            //Need to getXAxisScale each time so that axis updates on resize
            xAxisScale = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars),
                containerHeight = chart.config.container.height,
                containerWidth = chart.config.container.width,
                xAxisClass = 'xAxisLabels editable editable-xAxis editable-text';

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (xAxisData.dataType === 'NUMBER') {
                xAxisClass += ' editable-num';
            }

            //remove previous xAxis container if its there
            chart.svg.selectAll('.xAxisContainer').remove();

            //Save the axis scale to chart object
            chart.currentData.xAxisScale = xAxisScale;

            var tickSize = 0;
            if (chart.currentData.xAxisData.dataType === 'NUMBER') {
                tickSize = 5;
            }

            //create xAxis drawing function
            if (chart.config.type === 'singleaxis') {
                xAxis = d3.axisTop(xAxisScale).tickSize(tickSize);
            } else {
                xAxis = d3.axisBottom(xAxisScale).tickSize(tickSize);
            }

            if (ticks) {
                xAxis.ticks(ticks);
            }

            var axisHeight = containerHeight;
            if (chart.config.type === 'singleaxis') {
                //For any axes that are on top of the data
                axisHeight = 0;
            }

            var xContent = chart.svg.append('g').attr('class', 'xAxisContainer').attr('transform', 'translate(0,' + axisHeight + ')');

            var xAxisGroup = xContent.append('g').attr('class', 'xAxis').transition().duration(0).call(xAxis);

            var formatValueType = jvFormatValueType(xAxisData.values);

            //Styling the axis
            xAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            //Styling for ticks
            xAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);

            //Styling the labels for each piece of data
            xAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
            .attr('class', xAxisClass).style('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).attr('transform', 'translate(0, 3)').text(function (d) {
                if (xAxisData.dataType === 'NUMBER' || chart._vars.rotateAxis) {
                    return jvFormatValue(d, formatValueType);
                }
                return d;
            });

            //Styling the label for the entire axis
            xContent.append('g').attr('class', 'xLabel').append('text').attr('class', 'xLabel editable editable-text editable-content').attr('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).text(function () {
                if (xAxisData.dataType === 'DATE') {
                    return '';
                }
                return xAxisData.label;
            }).attr('transform', 'translate(' + containerWidth / 2 + ', 33)');
        }

        /**FormatXAxisLabels
         *
         * If x-axis labels are too long/overlapping, they will be hidden/shortened
         */

    }, {
        key: 'formatXAxisLabels',
        value: function formatXAxisLabels(dataLength, recursion) {
            var chart = this,
                showAxisLabels = true,
                xAxisLength = chart.config.container.width,
                textWidth = [],
                formatValueType = null,
                dataType = chart.currentData.xAxisData.dataType,
                axisValues = chart.currentData.xAxisData.values;

            if (dataType === 'NUMBER') {
                formatValueType = jvFormatValueType(axisValues);
            }

            //create dummy text to determine computed text length for the axis labels
            //necessary to do this because axis labels getBBox() is returning 0 since they do not seem to be drawn yet
            chart.svg.append('g').selectAll('.dummyText').data(axisValues).enter().append('text').attr('font-family', 'sans-serif').attr('font-size', chart._vars.fontSize).text(function (d) {
                var returnVal = d;
                if (dataType === 'NUMBER') {
                    returnVal = jvFormatValue(d, formatValueType);
                }
                return returnVal;
            }).each(function () {
                //adding 10px buffer
                var thisWidth = this.getComputedTextLength() + 10;
                textWidth.push(thisWidth);
                this.remove(); //remove them just after displaying them
            });

            for (var i = 0; i < textWidth.length; i++) {
                var textEleWidth = textWidth[i];
                if (textEleWidth > xAxisLength / dataLength) {
                    showAxisLabels = false;
                }
            }

            if (showAxisLabels) {
                if (recursion) {
                    chart.generateXAxis(chart.currentData.xAxisData, dataLength);
                }
                chart.svg.selectAll('.xAxisLabels').style('display', 'block');
            } else if (dataLength > 1 && chart.currentData.xAxisData.dataType === 'NUMBER') {
                //recursively keep decreasing to figure out ticks length to repaint the xAxis if its numeric
                chart.formatXAxisLabels(dataLength - 1, true);
            } else {
                chart.svg.selectAll('.xAxis').selectAll('text').style('display', 'none');
            }
        }

        /**generateYAxis
         * creates y axis on the svg
         *
         * @params generateYAxis
         */

    }, {
        key: 'generateYAxis',
        value: function generateYAxis(yAxisData) {
            var chart = this,
                yAxisScale = jvCharts.getAxisScale('y', yAxisData, chart.config.container, chart._vars),
                yAxisClass = 'yAxisLabels editable editable-yAxis editable-text',
                maxYAxisLabelWidth,
                numberOfTicks = Math.floor(chart.config.container.height / 14),
                yAxis,
                yContent,
                yAxisGroup;

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (yAxisData.dataType === 'NUMBER') {
                yAxisClass += ' editable-num';
            }

            //Save y axis scale to chart object
            chart.currentData.yAxisScale = yAxisScale;

            //remove previous svg elements
            chart.svg.selectAll('.yAxisContainer').remove();
            chart.svg.selectAll('text.yLabel').remove();

            if (numberOfTicks > 10) {
                if (numberOfTicks < 20) {
                    numberOfTicks = 10;
                } else if (numberOfTicks < 30) {
                    numberOfTicks /= 2;
                } else {
                    numberOfTicks = 15;
                }
            }

            yAxis = d3.axisLeft().ticks(numberOfTicks) //Link to D3.svg.axis options: https://github.com/mbostock/d3/wiki/SVG-Axes
            .scale(yAxisScale) //Sets the scale to use in the axis
            .tickSize(5) //Sets the thickness of the axis line
            .tickPadding(5);

            //Hide Axis values if necessary
            if (yAxisData.hideValues) {
                yAxis.tickFormat('');
            }

            yContent = chart.svg.append('g').attr('class', 'yAxisContainer');

            yContent.append('g').attr('class', 'yLabel').append('text').attr('class', 'yLabel editable editable-text editable-content').attr('text-anchor', 'start').attr('font-size', chart._vars.fontSize).attr('fill-opacity', 0).attr('x', 0).attr('y', 0).attr('transform', 'translate(' + (-chart.config.margin.left + 10) + ', -10)').text(yAxisData.label).transition().duration(0).attr('fill-opacity', 1);

            yAxisGroup = yContent.append('g').attr('class', 'yAxis');

            yAxisGroup.transition().duration(0).call(yAxis);

            //Styling for Axis
            yAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            maxYAxisLabelWidth = 0;

            if (yAxisData.hideValues) {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke-width', 0);
            } else {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);
                //Styling for data labels on axis
                yAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
                .attr('class', yAxisClass).attr('transform', 'rotate(0)') //Add logic to rotate axis based on size of title
                .attr('font-size', chart._vars.fontSize).append('svg:title');

                var formatValueType = jvFormatValueType(yAxisData.values);

                yAxisGroup.selectAll('text').transition().text(function (d) {
                    if (chart._vars.rotateAxis) {
                        return d;
                    }
                    var maxLength = 13;
                    var current = '';
                    if (d.length > maxLength) {
                        current = d.substring(0, maxLength) + '...';
                    } else {
                        current = d;
                    }
                    return jvFormatValue(current, formatValueType);
                }).each(function (d, i, j) {
                    if (j[0].getBBox().width > maxYAxisLabelWidth) {
                        maxYAxisLabelWidth = j[0].getBBox().width;
                    }
                });

                if (maxYAxisLabelWidth > 0) {
                    chart._vars.yLabelWidth = Math.ceil(maxYAxisLabelWidth) + 20;
                }
            }
        }
        /************************************************ Legend functions ******************************************************/

    }, {
        key: 'generateLegend',
        value: function generateLegend(legendData, drawFunc) {
            var chart = this,
                svg = chart.svg;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateLegendElements(chart, legendData, drawFunc);
            if (drawFunc) {
                attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
            }

            if (chart._vars.thresholds !== 'none' && chart._vars.thesholdLegend === true) {
                if (chart.config.type === 'bar' || chart.config.type === 'area' || chart.config.type === 'line') {
                    if (chart.config.container.height > 200 && chart.config.container.width > 200) {
                        generateThresholdLegend(chart);
                    }
                }
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**generateVerticalLegend
         *
         * creates and draws a vertical legend on the svg element
         * @params svg, legendData, options, container, chartData, xAxisData, yAxisData, chartType
         * @returns {{}}
         */

    }, {
        key: 'generateVerticalLegend',
        value: function generateVerticalLegend(paintFunc) {
            var chart = this,
                svg = chart.svg,
                legendData = chart.currentData.legendData;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateVerticalLegendElements(chart, legendData, paintFunc);
            if (paintFunc !== 'generatePack') {
                attachClickEventsToLegend(chart, legendElements, paintFunc, legendData);
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**
         *
         * Generates a clip path that contains the contents of the chart area to the view of the chart area container
         * i.e - don't want bars going below the x axis
         */

    }, {
        key: 'generateClipPath',
        value: function generateClipPath() {
            var chart = this,
                svg = chart.svg,
                type = chart.config.type;

            svg.append('clipPath').attr('id', 'clip').append('rect').attr('x', 0).attr('y', 0).attr('width', chart.config.container.width).attr('height', chart.config.container.height);

            //Break this out into logic for all other vizzes that have overflow issues
            var containerName = '.' + type + '-container';
            svg.select(containerName).attr('clip-path', 'url(#clip)');
        }
    }, {
        key: 'setThreshold',
        value: function setThreshold(data) {
            var chart = this,
                thresholds = chart._vars.thresholds,
                length = thresholds ? Object.keys(thresholds).length : 0;

            if (thresholds !== 'none') {
                for (var i = length - 1; i > -1; i--) {
                    var threshold = thresholds[i];
                    //console.log(typeof data == "date");
                    if (data >= Number(threshold.threshold)) {
                        return 'rect-' + i;
                    }
                }
            }
        }
    }, {
        key: 'generateLineThreshold',
        value: function generateLineThreshold() {
            var chart = this,
                svg = chart.svg,
                width = chart.config.container.width,
                height = chart.config.container.height,
                thresholds = chart._vars.thresholds,
                length = Object.keys(chart._vars.thresholds).length;

            var x = chart.currentData.xAxisScale;
            var y = chart.currentData.yAxisScale;

            if (thresholds !== 'none') {
                for (var i = 0; i < length; i++) {
                    var threshold = thresholds[i];
                    if (chart._vars.rotateAxis) {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                    } else {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                    }
                }
            }
        }
    }, {
        key: 'colorBackground',
        value: function colorBackground(color) {
            var chart = this;
            var chartDiv = chart.chartDiv;
            chart._vars.backgroundColor = color;
            chartDiv.style('background-color', '' + color);
        }

        /**displayValues
         *
         * toggles data values that are displayed on the specific type of chart on the svg
         * @params svg, barData, options, xAxisData, yAxisData, container
         * @returns {{}}
         */

    }, {
        key: 'displayValues',
        value: function displayValues() {
            //TODO receive data similar to generateBar
            var chart = this,
                svg = chart.svg,
                container = chart.config.container,
                barData = chart.data.chartData,
                xAxisData = chart.currentData.xAxisData,
                yAxisData = chart.currentData.yAxisData,
                legendOptions = chart._vars.legendOptions;

            //If series is flipped, use flipped data; initialize with the full data set
            if (chart._vars.seriesFlipped) {
                barData = chart.flippedData.chartData;
                legendOptions = chart._vars.flippedLegendOptions;
            }

            if (chart._vars.displayValues === true) {
                svg.selectAll('.displayValueContainer').remove();

                var data = []; //Only stores values for bars
                var barDataNew = JSON.parse(JSON.stringify(barData)); //Copy of barData

                if (legendOptions) {
                    //Checking which legend elements are toggled on resize
                    for (var j = 0; j < barDataNew.length; j++) {
                        for (var i = 0; i < legendOptions.length; i++) {
                            if (legendOptions[i].toggle === false) {
                                delete barDataNew[j][legendOptions[i].element];
                            }
                        }
                    }
                }

                for (var i = 0; i < barDataNew.length; i++) {
                    //barDataNew used
                    var val = values(barDataNew[i], chart.currentData.dataTable, chart.config.type);
                    data.push(val.slice(0, barDataNew[i].length));
                }

                var posCalc = getPosCalculations(barDataNew, chart._vars, xAxisData, yAxisData, container, chart);

                var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
                var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

                //var format = getFormatExpression("displayValues");

                if (chart._vars.rotateAxis) {
                    //Add a container for display values over each bar group
                    var displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = y.paddingOuter() * y.step() + y.step() * i;
                        return 'translate(0,' + translate + ')';
                    });

                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return posCalc.width(d, i, j) + posCalc.x(d, i, j);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return posCalc.y(d, i, j) + posCalc.height(d, i, j) / 2;
                    }).attr('dy', '.35em').attr('text-anchor', 'start').attr('fill', chart._vars.fontColor).text(function (d) {
                        var returnText = Math.round(d * 100) / 100; //round to 2 decimals
                        return jvFormatValue(returnText);
                    }).attr('font-size', chart._vars.fontSize);
                } else {
                    //Add a display values container over each bar group
                    var displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = x.paddingOuter() * x.step() + x.step() * i;
                        return 'translate(' + translate + ',0)';
                    });

                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return Math.round(posCalc.y(d, i, j)); //+ posCalc.height(d, i, j) - 5);
                    }).attr('text-anchor', 'middle').attr('fill', chart._vars.fontColor).text(function (d, i, j) {
                        var returnText = Math.round(d * 100) / 100; //Round to 2 decimals
                        //return format(returnText);//expression(d);
                        return jvFormatValue(returnText);
                    }).attr('font-size', chart._vars.fontSize);
                }
            } else {
                svg.selectAll('.displayValueContainer').remove();
            }
        }
    }, {
        key: 'drawGridlines',
        value: function drawGridlines(axisData) {
            var chart = this;

            chart.svg.selectAll('g.gridLines').remove();
            chart.svg.append('g').attr('class', 'gridLines');
            var scaleData;

            //Determine if gridlines are horizontal or vertical based on rotateAxis
            if (chart._vars.rotateAxis === true || chart.config.type === 'gantt' || chart.config.type === 'singleaxis') {
                var gridLineHeight = chart.config.container.height;
                var xAxisScale = jvCharts.getAxisScale('x', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = xAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('x2', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('y1', function (d, i) {
                    return 0;
                }).attr('y2', function (d, i) {
                    if (i > 0) {
                        return gridLineHeight;
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', function () {
                    return chart._vars.axisColor;
                }).attr('stroke-width', '1px');
            } else {
                var gridLineWidth = chart.config.container.width;
                var yAxisScale = jvCharts.getAxisScale('y', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = yAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', 0).attr('x2', function (d, i) {
                    if (i > 0) {
                        return gridLineWidth;
                    }
                    return 0;
                }).attr('y1', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('y2', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', '#e6e6e6').attr('stroke-width', '1px');
            }
        }

        /**getBarDataFromOptions
        * ^^ not just a bar function, line and area also use it
        *
        * Assigns the correct chart data to current data using the chart.options
        */

    }, {
        key: 'getBarDataFromOptions',
        value: function getBarDataFromOptions() {
            var chart = this;
            //creating these two data variables to avoid having to reference the chart obejct everytime
            var flipped = chart.flippedData;
            var data = chart.data;

            var dataObj = {};
            if (chart._vars.seriesFlipped) {
                dataObj.chartData = flipped.chartData;
                dataObj.legendData = flipped.legendData;
                dataObj.dataTable = flipped.dataTable;
                chart._vars.color = flipped.color;
                if (chart._vars.rotateAxis === true) {
                    dataObj.xAxisData = flipped.yAxisData;
                    dataObj.yAxisData = flipped.xAxisData;
                } else {
                    dataObj.xAxisData = flipped.xAxisData;
                    dataObj.yAxisData = flipped.yAxisData;
                }
            } else {
                dataObj.chartData = data.chartData;
                dataObj.legendData = data.legendData;
                dataObj.dataTable = data.dataTable;
                chart._vars.color = data.color;
                if (chart._vars.rotateAxis === true) {
                    dataObj.xAxisData = data.yAxisData;
                    dataObj.yAxisData = data.xAxisData;
                } else {
                    dataObj.xAxisData = data.xAxisData;
                    dataObj.yAxisData = data.yAxisData;
                }
            }

            return dataObj;
        }

        /************************************************ Utility functions ******************************************************/

        /**highlightItems
         *
         * highlights items on the svg element
         * @params items, svg
         * @returns {{}}
         */

    }, {
        key: 'highlightItem',
        value: function highlightItem(items, tag, highlightIndex, highlightUri) {
            var chart = this,
                svg = chart.svg;

            //TODO remove if statements
            if (highlightIndex >= 0) {
                if (chart.config.type === 'pie') {
                    //set all circles stroke width to 0
                    svg.select('.pie-container').selectAll(tag).attr('stroke', chart._vars.pieBorder).attr('stroke-width', 1);
                    //highlight necessary pie slices
                    svg.select('.pie-container').selectAll(tag).filter('.highlight-class-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'scatterplot') {
                    //set all circles stroke width to 0
                    svg.select('.scatter-container').selectAll(tag).attr('stroke-width', 0);
                    //highlight necessary scatter dots
                    svg.select('.scatter-container').selectAll(tag).filter('.scatter-circle-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else if (highlightUri) {
                if (chart.config.type === 'bar') {
                    //set all bars stroke width to 0
                    svg.select('.bar-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary bars
                    svg.select('.bar-container').selectAll('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'line' || chart.config.type === 'area') {
                    //set all circles stroke width to 0
                    svg.select('.line-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary cirlces
                    svg.select('.line-container').selectAll(tag).filter('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else {
                console.log('need to pass highlight index to highlight item');
            }
        }

        /**
        *@desc Removes highlights that were applied with related insights
        *
        */

    }, {
        key: 'removeHighlight',
        value: function removeHighlight() {
            var chart = this;
            var svg = chart.svg;
            if (chart.config.type === 'pie') {
                //set all circles stroke width to 0
                svg.select('.pie-container').selectAll('path').attr('stroke', chart._vars.pieBorder).attr('stroke-width', 0);
            }
            if (chart.config.type === 'scatterplot') {
                svg.select('.scatter-container').selectAll('circle').attr('stroke-width', 0);
            }
            if (chart.config.type === 'bar') {
                svg.select('.bar-container').selectAll('rect').attr('stroke', 0).attr('stroke-width', 0);
            }
            if (chart.config.type === 'line' || chart.config.type === 'area') {
                svg.select('.line-container').selectAll('circle').attr('stroke', 0).attr('stroke-width', 0);
            }
        }
    }]);

    return jvCharts;
}();

function jvFormatValue(val, formatType) {
    if (!isNaN(val)) {
        var formatNumber = d3.format('.0f');

        if (formatType === 'billions') {
            return formatNumber(val / 1e9) + 'B';
        } else if (formatType === 'millions') {
            return formatNumber(val / 1e6) + 'M';
        } else if (formatType === 'thousands') {
            return formatNumber(val / 1e3) + 'K';
        } else if (formatType === 'decimals') {
            formatNumber = d3.format('.2f');
            return formatNumber(val);
        } else if (formatType === 'nodecimals') {
            return formatNumber(val);
        }

        if (val === 0) {
            return 0;
        }

        if (Math.abs(val) >= 1000000000) {
            //Billions
            return formatNumber(val / 1e9) + 'B';
        } else if (Math.abs(val) >= 1000000) {
            //Millions
            return formatNumber(val / 1e6) + 'M';
        } else if (Math.abs(val) >= 1000) {
            //Thousands
            return formatNumber(val / 1e3) + 'K';
        } else if (Math.abs(val) <= 10) {
            //2 decimals
            formatNumber = d3.format('.2f');
        }
        return formatNumber(val);
    }
    return val;
}

/**
 * @param the set of values that you want to format uniformly
 * @return '' the level of formatting for the group of data
 * Problem with jvFormatValue function is that if you pass in values 10, 20... 90, 100, 1120, 120
 * you will get the formats 10.00, 20.00 .... 100, 110, 120 when you want 10, 20, ... 100, 110
 * --Format the value based off of the highest number in the group
 */
function jvFormatValueType(values) {
    if (values != null) {
        var max = Math.max.apply(null, values);
        //After getting the max, check the min
        var min = Math.min.apply(null, values);
        var range = max - min;
        var incrememnt = Math.abs(Math.round(range / 10)); //10 being the number of axis labels to show

        if (Math.abs(incrememnt) >= 1000000000) {
            return 'billions';
        } else if (Math.abs(incrememnt) >= 1000000) {
            return 'millions';
        } else if (Math.abs(incrememnt) >= 1000) {
            return 'thousands';
        } else if (Math.abs(incrememnt) <= 10) {
            return 'decimals';
        } else if (Math.abs(incrememnt) >= 10) {
            return 'nodecimals';
        }
    }
    return '';
}

/**getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '',
        p;
    if (option === 'currency') {
        expression = d3.format('$,');
    }
    if (option === 'fixedCurrency') {
        expression = d3.format('($.2f');
    }
    if (option === 'percent') {
        p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format('.' + p + '%');
    }
    if (option === 'millions') {
        p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix('.' + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(',.0f');
    }
    if (option === 'none' || option === '') {
        expression = d3.format('');
    }
    if (option === 'displayValues') {
        expression = d3.format(',.2f');
    }

    return expression;
}

/**getToggledData
 *
 * Gets the headers of the data to be drawn and filters the data based on that
 * @params chartData, dataHeaders
 */
function getToggledData(chartData, dataHeaders) {
    var legendElementToggleArray = getLegendElementToggleArray(dataHeaders, chartData.legendData);
    var data = JSON.parse(JSON.stringify(chartData.chartData));
    if (legendElementToggleArray) {
        for (var j = 0; j < data.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].toggle === false) {
                    delete data[j][legendElementToggleArray[i].element];
                }
            }
        }
    }
    return data;
}

/**getLegendElementToggleArray
 *
 * Gets an array of legend elements with true/false tags for if toggled
 * @params selectedHeaders, allHeaders
 */
function getLegendElementToggleArray(selectedHeaders, allHeaders) {
    var legendElementToggleArray = [];
    for (var i = 0; i < allHeaders.length; i++) {
        legendElementToggleArray.push({ element: allHeaders[i] });
    }

    for (var i = 0; i < legendElementToggleArray.length; i++) {
        for (var j = 0; j < selectedHeaders.length; j++) {
            if (legendElementToggleArray[i].element === selectedHeaders[j]) {
                legendElementToggleArray[i].toggle = true;
                continue;
            }
        }
        if (legendElementToggleArray[i].toggle !== true) {
            legendElementToggleArray[i].toggle = false;
        }
    }
    return legendElementToggleArray;
}

/**generateLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legend,
        legendRow = 0,
        legendColumn = 0,
        legendDataLength = legendData.length;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //if legend headers don't exist, set them equal to legend data
    if (!chart._vars.legendHeaders && !chart._vars.seriesFlipped) {
        chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
    } else if (!chart._vars.flippedLegendHeaders && chart._vars.seriesFlipped) {
        chart._vars.flippedLegendHeaders = JSON.parse(JSON.stringify(legendData));
    }
    //Set legend element toggle array based on if series is flipped
    if (!chart._vars.seriesFlipped) {
        var legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    } else {
        var flippedLegendElementToggleArray = getLegendElementToggleArray(chart._vars.flippedLegendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1) - 5; //Increment row when column limit is reached
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        return getColors(chart._vars.color, i, legendData[i]);
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', function (d, i) {
        if (!legendElementToggleArray && !chart._vars.seriesFlipped || chart._vars.seriesFlipped && !flippedLegendElementToggleArray) {
            return '1';
        }
        if (!chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true || chart._vars.seriesFlipped && flippedLegendElementToggleArray[i].toggle === true) {
            return '1';
        }
        return '0.2';
    });

    legendRow = 0;
    legendColumn = 0;

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos + 17;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1); //Increment row when column limit is reached
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (chart.config.type === 'gantt') {
            elementName = legendData[i].slice(0, -5); //Removing last 5 characters of legend label---i.e plannedSTART -> planned
        }
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createCarousel(chart, legendData, drawFunc);
    }
    //Centers the legend in the panel
    if (legend) {
        var legendWidth = legend.node().getBBox().width;
        legend.attr('transform', 'translate(' + (container.width - legendWidth) / 2 + ', 30)');
    }

    return legendRectangles;
}

/**updateDataFromLegend
 *
 * Returns a list of data headers that should be displayed in viz
 * based off what is toggled on/off in legend
 * @params legendData
 */
function updateDataFromLegend(legendData) {
    var data = [];
    var legendElement = legendData[0];
    for (var i = 0; i < legendElement.length; i++) {
        if (legendElement[i].attributes.opacity.value !== '0.2') {
            //If not white, add it to the updated data array
            data.push(legendElement[i].__data__);
        }
    }
    return data;
}

/**createCarousel
 *
 * Draws the horizontal legend carousel
 * @params chart, legendData, drawFunc
 */
function createCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(0,0)').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 12.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + ' / ' + chart._vars.legendIndexMax;
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(85,0)').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });

    //Centers the legend polygons in the panel
    if (legendPolygon) {
        var legendPolygonWidth = legendPolygon.node().getBBox().width;
        legendPolygon.attr('transform', 'translate(' + (container.width - legendPolygonWidth) / 2 + ',' + (container.height + 105) + ')');
    }
}

/**getPlotData
 *
 * Returns only data values to be plotted; input is the data object
 * @params objectData, chart
 */
function getPlotData(objectData, chart) {
    var data = [];
    var objDataNew = JSON.parse(JSON.stringify(objectData)); //Copy of barData
    for (var i = 0; i < objDataNew.length; i++) {
        var group = [];
        for (var j = 0; j < chart.currentData.legendData.length; j++) {
            if (typeof objDataNew[i][chart.currentData.legendData[j]] !== 'undefined') {
                group.push(objDataNew[i][chart.currentData.legendData[j]]);
            }
        }
        data.push(group);
    }
    return data;
}

/**getPosCalculations
 *Holds the logic for positioning all bars on a bar chart (depends on toolData)
 *
 * @params svg, barData, options, xAxisData, yAxisData, container
 * @returns {{}}
 */
function getPosCalculations(barData, _vars, xAxisData, yAxisData, container, chart) {
    var x = jvCharts.getAxisScale('x', xAxisData, container, _vars),
        y = jvCharts.getAxisScale('y', yAxisData, container, _vars),
        scaleFactor = 1,
        data = [],
        size = Object.keys(chart.currentData.dataTable).length - 1,
        positionFunctions = {};

    for (var i = 0; i < barData.length; i++) {
        var val = [];
        for (var key in barData[i]) {
            if (barData[i].hasOwnProperty(key)) {
                val.push(barData[i][key]);
            }
        }
        data.push(val.slice(1, barData[i].length));
    }

    if (_vars.rotateAxis === true && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return 0;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function () {
            return y.bandwidth() * 0.95;
        };
        positionFunctions.x = function (d, i, j) {
            var increment = 0; //Move the x up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return x(increment) === 0 ? 1 : x(increment);
        };
        positionFunctions.y = function () {
            return 0;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() * 0.95;
        };
    } else if (_vars.rotateAxis === true && _vars.stackToggle === false) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function (d) {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
        positionFunctions.x = function (d) {
            return x(0) - x(d) > 0 ? x(d) : x(0);
        };
        positionFunctions.y = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function () {
            return 0;
        };
        positionFunctions.y = function (d, i, j) {
            var increment = 0; //Move the y up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return y(parseFloat(d) + increment);
        };
        positionFunctions.width = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.height = function (d) {
            return container.height - y(d);
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === false) {
        positionFunctions.startx = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.y = function (d) {
            return y(0) - y(d) > 0 ? y(d) : y(0);
        };
        positionFunctions.width = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.height = function (d) {
            return Math.abs(y(0) - y(d));
        };
    }
    return positionFunctions;
}

/**getColors
 *
 * gets the colors to apply to the specific chart
 * @params colorObj, index, label
 * @returns {{}}
 */
function getColors(colorObj, paramIndex, label) {
    var index = paramIndex;

    //logic to return the color if the colorObj passed in
    //is an object with the label being the key
    if (typeof label !== 'undefined' && colorObj.hasOwnProperty(label) && colorObj[label]) {
        return colorObj[label];
    }

    var cleanedColors = [];

    if (!Array.isArray(colorObj)) {
        cleanedColors = [];
        for (var k in colorObj) {
            if (colorObj.hasOwnProperty(k)) {
                if (colorObj[k]) {
                    cleanedColors.push(colorObj[k]);
                }
            }
        }
    } else {
        cleanedColors = colorObj;
    }

    //logic to return a repeating set of colors assuming that
    //the user changed data (ex: flip series on bar chart)
    if (!cleanedColors[index]) {
        while (index > cleanedColors.length - 1) {
            index = index - cleanedColors.length;
        }
    }
    return cleanedColors[index];
}

function getAxisScale(whichAxis, axisData, container, _vars, paddingType) {
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (paddingType === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }
    var axisScale, axis;

    whichAxis === 'x' ? axis = container.width : axis = container.height;

    if (axisData.dataType === 'DATE') {
        for (var i = 0; i < axisData.values.length; i++) {
            axisData.values[i] = new Date(axisData.values[i]);
        }

        var maxDate = Math.max.apply(null, axisData.values);
        var minDate = Math.min.apply(null, axisData.values);

        axisScale = d3.scaleTime().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, axis]);
    } else if (axisData.dataType === 'STRING') {
        axisScale = d3.scaleBand().domain(axisData.values).range([0, axis]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (axisData.dataType === 'NUMBER') {
        var domain;
        if (_vars.xReversed || _vars.yReversed) {
            if (_vars.xReversed && whichAxis === 'x' || whichAxis === 'y' && !_vars.yReversed) {
                domain = [axisData.max, axisData.min];
            }
            if (_vars.yReversed && whichAxis === 'y' || whichAxis === 'x' && !_vars.xReversed) {
                domain = [axisData.min, axisData.max];
            }
        } else {
            whichAxis === 'x' ? domain = [axisData.min, axisData.max] : domain = [axisData.max, axisData.min];
        }

        if (_vars.hasOwnProperty('axisType') && _vars.axisType === 'Logarithmic') {
            domain[1] = 0.1;
            axisScale = d3.scaleLog().base(10).domain(domain).rangeRound([0, axis]);
        } else {
            axisScale = d3.scaleLinear().domain(domain).rangeRound([0, axis]);
        }
    } else {
        console.error('Axis is not a valid data type');
    }
    return axisScale;
}

/**getXScale
 *
 * get the scale for the x axis
 * @params xAxisData, container, padding
 * @returns {{}}
 */
function getXScale(xAxisData, container, padding) {
    var xAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    //check if values length is greater than two incase the labels are all numbers. if it is a linear scale then there will only be a min and max
    if (xAxisData.dataType === 'DATE') {
        for (var i = 0; i < xAxisData.values.length; i++) {
            xAxisData.values[i] = new Date(xAxisData.values[i]);
        }

        var maxDate = Math.max.apply(null, xAxisData.values);
        var minDate = Math.min.apply(null, xAxisData.values);

        xAxisScale = d3.time.scale().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, container.width]);
    } else if (xAxisData.dataType === 'STRING' || xAxisData.values.length > 2) {
        xAxisScale = d3.scaleBand().domain(xAxisData.values).range([0, container.width]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (xAxisData.dataType === 'NUMBER') {
        var max = xAxisData.values[xAxisData.values.length - 1];
        var min = xAxisData.values[0];

        xAxisScale = d3.scaleBand().domain([min, max]).rangeRound([0, container.width]);
    }
    return xAxisScale;
}

/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container) {
    var yAxisScale;

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scaleOrdinal().domain(yAxisData.values).range([0, container.height]);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
    }
    return yAxisScale;
}

/************************************************ Data functions ******************************************************/

/**
 * @function
 * @param {string} label - The field that is checked for type
 * @param {Object} dataTableKeys - Object that contains the data type for each column of data
 */
function getDataTypeFromKeys(label, dataTableKeys) {
    var type;

    for (var i = 0; i < dataTableKeys.length; i++) {
        //Replace underscores with spaces
        if (dataTableKeys[i].varKey.replace(/_/g, ' ') === label.replace(/_/g, ' ')) {
            if (dataTableKeys[i].hasOwnProperty('type')) {
                type = dataTableKeys[i].type;
                if (type === 'STRING') {
                    type = 'STRING';
                } else if (type === 'DATE') {
                    type = 'DATE';
                } else if (type === 'NUMBER') {
                    type = 'NUMBER';
                } else {
                    type = 'NUMBER';
                }
                break;
            }
        }
    }
    return type;
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/**setChartColors
 *  cleans incoming colors for consistency
 *
 * @params colorArray, legendData
 * @returns object with colors
 */

function setChartColors(toolData, legendData, defaultColorArray) {
    //function handles 3 color inputs
    //toolData as an array in toolData
    //toolData as an object
    //toolData as 'none'
    //any other case will result in using defaultColorArray

    var colors = {},
        usedColors = [],
        unaccountedLegendElements = [];

    //toolData is array
    if (Array.isArray(toolData)) {
        if (toolData.length > 0) {
            colors = createColorsWithDefault(legendData, toolData);
        } else {
            colors = createColorsWithDefault(legendData, defaultColorArray);
        }
    } else if (toolData === Object(toolData)) {
        for (var i = 0; i < legendData.length; i++) {
            var obj = legendData[i];
            if (toolData.hasOwnProperty(obj)) {
                usedColors.push(toolData[obj]);
            } else {
                unaccountedLegendElements.push(legendData[i]);
            }
        }
        //check if object has desired keys
        if (usedColors.length === legendData.length) {
            colors = toolData;
        } else if (usedColors.length > 0) {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        } else {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        }
    } else {
        colors = createColorsWithDefault(legendData, defaultColorArray);
    }

    return colors;
}

function createColorsWithDefault(legendData, colors) {
    var mappedColors = {},
        count = 0;
    for (var i = 0; i < legendData.length; i++) {
        if (count > colors.length - 1) {
            count = 0;
        }
        mappedColors[legendData[i]] = colors[count];
        count++;
    }
    return mappedColors;
}

/**cleanToolData
 *  cleans incoming toolData for consistency
 *
 * @param toolData
 * @returns object with tooldata
 */
function cleanToolData(options) {
    var data = {};
    if (options) {
        data = options;
    }
    if (!data.hasOwnProperty('rotateAxis')) {
        data.rotateAxis = false;
    }
    if (data.hasOwnProperty('stackToggle')) {
        if (data.stackToggle === 'stack-data') {
            data.stackToggle = true;
        } else {
            data.stackToggle = false;
        }
    } else {
        data.stackToggle = false;
    }
    if (data.hasOwnProperty('colors')) {
        data.color = data.colors;
    }
    if (!data.hasOwnProperty('thresholds')) {
        data.thresholds = [];
    }
    return data;
}

function getMaxWidthForAxisData(axis, axisData, _vars, dimensions, margin, chartDiv, type) {
    var maxAxisText = '',
        formatType;
    //Dynamic left margin for charts with y axis
    if (_vars.rotateAxis) {
        //get length of longest text label and make the axis based off that
        var maxString = '',
            height = parseInt(dimensions.height) - margin.top - margin.bottom;

        //check if labels should be shown
        if (height !== 0 && height / axisData.values.length < parseInt(_vars.fontSize)) {
            axisData.hideValues = true;
        } else {
            for (var i = 0; i < axisData.values.length; i++) {
                var currentStr = axisData.values[i].toString();
                if (currentStr.length > maxString.length) {
                    maxString = currentStr;
                }
            }
            maxAxisText = maxString;
        }
    } else if (!!_vars.yLabelFormat || !!_vars.xLabelFormat) {
        var labelFormat = _vars.yLabelFormat;
        if (axis === 'x') {
            labelFormat = _vars.xLabelFormat;
        }

        formatType = jvFormatValueType(axisData.values);
        var expression = getFormatExpression(labelFormat);
        if (expression !== '') {
            maxAxisText = expression(axisData.max);
        } else {
            maxAxisText = jvFormatValue(axisData.max);
        }
    } else {
        formatType = jvFormatValueType(axisData.values);
        if (!axisData.hasOwnProperty('max')) {
            var maxLength = 0;
            for (var i = 0; i < axisData.values.length; i++) {
                if (axisData.values[i].length > maxLength) {
                    maxLength = axisData.values[i].length;
                    maxAxisText = axisData.values[i];
                }
            }
        } else {
            maxAxisText = jvFormatValue(axisData.max, formatType);
        }
    }

    if (type === 'heatmap') {
        //also need to check width of label
        if (maxAxisText.length < axisData.label.length + 5) {
            //need added space
            if (axis === 'x') {
                maxAxisText = axisData.label;
            } else {
                maxAxisText = axisData.label + 'Extra';
            }
        }
    }

    //Create dummy svg to place max sized text element on
    var dummySVG = chartDiv.append('svg').attr('class', 'dummy-svg');

    //Create dummy text element
    var axisDummy = dummySVG.append('text').attr('font-size', function () {
        if (axis === 'y' && _vars.yLabelFontSize !== 'none') {
            return _vars.yLabelFontSize;
        }
        if (axis === 'x' && _vars.xLabelFontSize !== 'none') {
            return _vars.xLabelFontSize;
        }
        return _vars.fontSize;
    }).attr('x', 0).attr('y', 0).text(maxAxisText);

    //Calculate the width of the dummy text
    var width = axisDummy.node().getBBox().width;
    //Remove the svg and text element
    chartDiv.select('.dummy-svg').remove();
    return width;
}

function values(object, dataTableAlign, type) {
    var valuesArray = [];

    if (type === 'bar' || type === 'pie' || type === 'line' || type === 'area') {
        //for (var key in object) {
        for (var i = 1; i < _.keys(dataTableAlign).length; i++) {
            if (dataTableAlign.hasOwnProperty('value ' + i)) {
                if (object[dataTableAlign['value ' + i]] != null) {
                    //!= checks for null
                    valuesArray.push(object[dataTableAlign['value ' + i]]);
                }
            }
        }
    } else {
        for (var key in object) {
            if (object.hasOwnProperty(key)) {
                valuesArray.push(object[key]);
            }
        }
    }
    return valuesArray;
}
/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container, padding, yReversed) {
    var yAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scale.ordinal().domain(yAxisData.values).rangePoints([0, container.height]).rangeRoundBands([0, container.height], leftPadding, rightPadding);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        if (yReversed) {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([container.height, 0]);
        } else {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
        }
    }
    return yAxisScale;
}
/**getZScale
 *
 * gets the scale for the z axis
 * @params zAxisData, container, padding
 * @returns {{}}
 */
function getZScale(zAxisData, container, _vars) {
    var zAxisScale;

    zAxisScale = d3.scaleLinear().domain([d3.min(zAxisData.values), d3.max(zAxisData.values)]).rangeRound([_vars.NODE_MIN_SIZE, _vars.NODE_MAX_SIZE]).nice();
    return zAxisScale;
}

/**generateEventGroups
 *
 *
 * @params chartContainer, barData, chart
 */
function generateEventGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        dataToPlot = jvCharts.getPlotData(barData, chart),
        eventGroups;

    //Invisible rectangles on screen that represent bar groups. Used to show/hide tool tips on hover
    eventGroups = chartContainer.data(dataToPlot).enter().append('rect').attr('class', 'event-rect').attr('x', function (d, i) {
        //sets the x position of the bar)
        return chart._vars.rotateAxis ? 0 : container.width / barData.length * i;
    }).attr('y', function (d, i) {
        //sets the y position of the bar
        return chart._vars.rotateAxis ? container.height / barData.length * i : 0;
    }).attr('width', function () {
        //sets the x position of the bar)
        return chart._vars.rotateAxis ? container.width : container.width / barData.length;
    }).attr('height', function () {
        //sets the y position of the bar
        return chart._vars.rotateAxis ? container.height / barData.length : container.height;
    }).attr('fill', 'transparent').attr('class', function (d, i) {
        return 'event-rect editable-bar bar-col-' + String(barData[i][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '<dot>');
    });

    return eventGroups;
}

function generateThresholdLegend(chart) {
    var svg = chart.svg;

    var colorLegendData = [];
    if (chart._vars.thresholds !== 'none') {
        for (var j = 0; j < Object.keys(chart._vars.thresholds).length; j++) {
            colorLegendData.push(chart._vars.thresholds[j].thresholdName);
        }
    }

    var gLegend = svg.append('g').attr('class', 'thresholdLegendContainer');

    var legend = gLegend.selectAll('.thresholdLegend').data(colorLegendData).enter().append('g').attr('class', 'thresholdLegend').attr('transform', function (d, i) {
        var height = 19;
        var offset = 19 * colorLegendData.length / 2;
        var horz = -2 * 12;
        var vert = i * height - offset;
        return 'translate(' + horz + ',' + vert + ')';
    });

    legend.append('rect').attr('width', 12).attr('height', 12).style('fill', function (d, i) {
        return chart._vars.thresholds[i].thresholdColor;
    });

    legend.append('text').attr('x', 24).attr('y', 8).attr('font-size', '.75em').text(function (d) {
        return d;
    });

    //Centers the legend in the panel
    if (gLegend) {
        var legendWidth = gLegend.node().getBBox().width;
        gLegend.attr('transform', 'translate(' + (chart.config.container.width - legendWidth) + ',' + 10 * colorLegendData.length + ')');
    }
}

function attachClickEventsToLegend(chart, legendElements, drawFunc) {
    //Adding the click event to legend rectangles for toggling on/off

    legendElements.on('click', function () {
        var selectedRect = d3.select(this);
        if (selectedRect._groups[0][0].attributes.opacity.value !== '0.2') {
            selectedRect.attr('opacity', '0.2');
        } else {
            selectedRect.attr('opacity', '1');
        }

        //Gets the headers of the data to be drawn
        var dataHeaders = updateDataFromLegend(legendElements._groups);

        //Sets the legendData to the updated headers
        if (chart._vars.seriesFlipped) {
            chart._vars.flippedLegendHeaders = dataHeaders;
        } else {
            chart._vars.legendHeaders = dataHeaders;
        }

        //Plots the data
        if (chart._vars.seriesFlipped) {
            chart[drawFunc](chart.flippedData);
        } else {
            chart[drawFunc](chart.data);
        }
    });
}

/**generateVerticalLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateVerticalLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legend,
        legendDataLength = legendData.length,
        legendElementToggleArray;

    chart._vars.gridSize = 20;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //Check to see if legend element toggle array needs to be set
    if (chart._vars.legendIndexMax >= 0) {
        if (!chart._vars.legendHeaders) {
            chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
        }

        legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend').attr('transform', 'translate(' + 18 + ',' + 20 + ')');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', '3').attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1;
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        if (!legendElementToggleArray && !chart._vars.seriesFlipped || chart._vars.seriesFlipped && !legendElementToggleArray) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        if (!chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true || chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        return chart._vars.emptyLegendSquare;
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', '1');

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', chart._vars.gridSize + 7).attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1 + 10;
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createVerticalCarousel(chart, legendData, drawFunc);
    }

    return legendRectangles;
}

/**createVerticalCarousel
 *
 * Draws the vertical legend carousel
 * @params chart, legendData, drawFunc
 */
function createVerticalCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(0,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 242.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + ' / ' + chart._vars.legendIndexMax;
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(85,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });
}

//Bind functions to prototype or jvCharts object
jvCharts.getColors = getColors;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.createColorsWithDefault = createColorsWithDefault;
jvCharts.values = values;
jvCharts.getYScale = getYScale;
jvCharts.getZScale = getZScale;
jvCharts.getLegendElementToggleArray = getLegendElementToggleArray;
jvCharts.generateLegendElements = generateLegendElements;
jvCharts.updateDataFromLegend = updateDataFromLegend;
jvCharts.createCarousel = createCarousel;
jvCharts.generateThresholdLegend = generateThresholdLegend;
jvCharts.attachClickEventsToLegend = attachClickEventsToLegend;
jvCharts.generateVerticalLegendElements = generateVerticalLegendElements;
jvCharts.createVerticalCarousel = createVerticalCarousel;
jvCharts.getToggledData = getToggledData;
jvCharts.getPlotData = getPlotData;
jvCharts.getPosCalculations = getPosCalculations;
jvCharts.getXScale = getXScale;
jvCharts.getYScale = getYScale;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.jvFormatValue = jvFormatValue;
jvCharts.getFormatExpression = getFormatExpression;
jvCharts.generateEventGroups = generateEventGroups;
jvCharts.jvFormatValueType = jvFormatValueType;
jvCharts.getAxisScale = getAxisScale;
jvCharts.setChartColors = setChartColors;
jvCharts.getDataTypeFromKeys = getDataTypeFromKeys;
jvCharts.cleanToolData = cleanToolData;

module.exports = jvCharts;

},{"./jvTip.js":7}],4:[function(require,module,exports){
"use strict";

/***  jvComment ***/
function jvComment(configObj) {
    "use strict";

    var commentObj = this;
    commentObj.chartDiv = configObj.chartDiv;
    commentObj.showComments = false;
    commentObj.comments = configObj.comments ? configObj.comments : {};
    commentObj.disabled = false;
    commentObj.drawCommentNodes();
    commentObj.toggleCommentMode = function (toggleBool) {
        var entireSvg = commentObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.on('dblclick', function (d) {
                commentObj.makeComment(this);
            });
            entireSvg.on('click', false);
        } else {
            commentObj.removeComment();
        }
    };
    commentObj.saveCallbackFunction = configObj.saveCallbackFunction;
    commentObj.getMode = configObj.getMode;
}
/********************************************* All Comment Mode Functions **************************************************/

jvComment.prototype.makeComment = function (event) {
    var commentObj = this;

    commentObj.showComments = false;
    commentObj.chartDiv.selectAll(".commentbox-readonly").remove();

    if (commentObj.chartDiv.selectAll(".commentbox")._groups[0].length === 0 && commentObj.chartDiv.selectAll(".commentbox-edit")._groups[0].length === 0) {
        var x = parseInt(d3.mouse(event)[0]);
        var y = parseInt(d3.mouse(event)[1]);

        //calculate position of overlay div
        var commentHeight = 145,
            commentWidth = 200,
            position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

        commentObj.chartDiv.append('div').attr("class", "commentbox").attr("id", "commentbox").style("opacity", 1).html("<div class='title'><b>Add New Comment</b></div>" + "<textarea placeholder='Enter comment...' form='commentform' style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment' id = 'textarea1'></textarea>" + "<br><button class='commentbox-close' id ='cancel'><i class='fa fa-close'></i></button>" + "<button class='smss-btn commentbox-submit' id = 'submit'>Submit Comment</button>").style("position", "absolute").style("left", position.x + "px").style("top", position.y + "px");

        //Autofocus on the text area
        document.getElementById("textarea1").focus();

        commentObj.chartDiv.selectAll(".commentbox").select("#cancel").on("click.delete", function () {
            commentObj.removeComment();
        });

        var commentType = 'svgMain';

        commentObj.chartDiv.selectAll(".commentbox").select("#submit").on("click.save", function () {
            var commentText = commentObj.chartDiv.select("#commentbox").select("#textarea1")._groups[0][0].value,
                newCommentObj = {
                'commentText': commentText,
                'groupID': 0,
                'type': commentType,
                'binding': {
                    'x': x,
                    'y': y,
                    'xChartArea': commentObj.chartDiv._groups[0][0].clientWidth,
                    'yChartArea': commentObj.chartDiv._groups[0][0].clientHeight,
                    'currentX': x,
                    'currentY': y
                }
            };
            commentObj.chartDiv.select(".commentbox").remove();
            if (isNaN(commentObj.comments.maxId)) {
                commentObj.comments.maxId = -1;
            }
            commentObj.saveCallbackFunction(newCommentObj, ++commentObj.comments.maxId, 'add');
        });
    }
};

jvComment.prototype.removeComment = function () {
    var commentObj = this;
    var chartDiv = commentObj.chartDiv;
    chartDiv.selectAll('.commentbox').remove();
};

jvComment.prototype.showAllComments = function () {
    var commentObj = this;

    //Remove any comment boxes if comments are being toggled
    commentObj.chartDiv.selectAll(".commentbox").remove();
    commentObj.chartDiv.selectAll(".commentbox-edit").remove();

    if (commentObj.showComments === false) {
        for (var i in commentObj.comments.list) {

            if (!commentObj.comments.list[i]['binding']) {
                console.log("Comment is in old format, will not display");
                return;
            }

            var value = commentObj.comments.list[i];

            var chartAreaWidth = commentObj.chartDiv._groups[0][0].clientWidth;
            var chartAreaHeight = commentObj.chartDiv._groups[0][0].clientHeight;

            var x = commentObj.comments.list[i]['binding'].x / commentObj.comments.list[i]['binding'].xChartArea * chartAreaWidth;
            var y = commentObj.comments.list[i]['binding'].y / commentObj.comments.list[i]['binding'].yChartArea * chartAreaHeight;

            var commentText = value['commentText'];

            var commentHeight = 80,
                commentWidth = 185,
                position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

            commentObj.chartDiv.append('div').attr("class", "commentbox-readonly").attr("id", "commentbox-readonly" + i).style("position", "absolute").style("opacity", 1)
            //.style("border", "1px solid black")
            .html("<textarea readonly style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment'>" + commentText + "</textarea>").style("left", position.x + "px").style("top", position.y + "px");
        }
        commentObj.showComments = true;
        //chart.toolBar.select("#topBarButton"+chart.config.name+"showallcomments").select('button').classed('toggled', true);
    } else {
        commentObj.chartDiv.selectAll(".commentbox-readonly").remove();
        commentObj.showComments = false;
        //chart.toolBar.select("#topBarButton"+chart.config.name+"showallcomments").select('button').classed('toggled', false);
    }
};

jvComment.prototype.drawCommentNodes = function () {
    var commentObj = this;

    var comments = commentObj.comments.list;
    var chartDiv = commentObj.chartDiv;
    var svg = chartDiv.select("svg");

    svg.selectAll(".min-comment").remove();

    for (var i in comments) {

        if (typeof chartDiv._groups == 'undefined') {
            console.log("Comment data is in old format, will not display or chart div doesnt exist");
            return;
        }

        if (!comments[i]['binding'] || !chartDiv._groups[0][0]) {
            console.log("Comment data is in old format, will not display or chart div doesnt exist");
            return;
        }

        var chartAreaWidth = chartDiv._groups[0][0].clientWidth;
        var chartAreaHeight = chartDiv._groups[0][0].clientHeight;

        var x = comments[i]['binding'].x / comments[i]['binding'].xChartArea * chartAreaWidth;
        var y = comments[i]['binding'].y / comments[i]['binding'].yChartArea * chartAreaHeight;

        comments[i]['binding'].currentX = comments[i]['binding'].x / comments[i]['binding'].xChartArea * chartAreaWidth;
        comments[i]['binding'].currentY = comments[i]['binding'].y / comments[i]['binding'].yChartArea * chartAreaHeight;

        var commentNode = svg.append("text").attr("class", "min-comment").attr("id", "node" + i).attr("fill", "#e6e6e6").attr("x", x).attr("y", y).attr("font-family", "FontAwesome").attr("stroke", "darkgray").attr('font-size', function (d) {
            return '15px';
        }).text(function (d) {
            return "\uF0E5";
        }).attr("opacity", 1).on("dblclick.comment", function (node) {
            //Edit text or delete the comment
            if (chartDiv.selectAll(".commentbox-edit")._groups[0].length === 0 && chartDiv.selectAll(".commentbox")._groups[0].length === 0) {
                //No comments are open
                if (commentObj.getMode() === 'comment-mode') {
                    commentObj.showComments = false;
                    chartDiv.selectAll(".commentbox-readonly").remove();
                    var commentText = "";
                    var currentComment;

                    for (var j in commentObj.comments.list) {
                        if (Math.round(commentObj.comments.list[j]['binding'].currentX) === Math.round(this.x.baseVal[0].value)) {
                            if (Math.round(commentObj.comments.list[j]['binding'].currentY) === Math.round(this.y.baseVal[0].value)) {
                                commentText = commentObj.comments.list[j].commentText;
                                x = commentObj.comments.list[j]['binding'].currentX;
                                y = commentObj.comments.list[j]['binding'].currentY;
                                currentComment = j;
                            }
                        }
                    }
                    var commentHeight = 145,
                        commentWidth = 200,
                        position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);
                    chartDiv.append('div').attr("class", "commentbox-edit").style("opacity", 1).style("left", position.x + "px").style("top", position.y + "px").style("position", "absolute")
                    //.style("border", "1px solid black")
                    .html("<div class='title'><b>Edit Comment</b></div>" + "<textarea id='edit' style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment'>" + commentText + "</textarea>" + "<br><button class='commentbox-close' id ='cancel-edit'><i class='fa fa-close'></i></button>" + "<button class='smss-btn' id ='delete'>Delete</button>" + "<button class='smss-btn' id = 'save'>Save</button>");

                    chartDiv.selectAll(".commentbox-edit").select("#delete").on("click.delete", function () {
                        chartDiv.select(".commentbox-edit").remove();
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select("#node" + currentComment).attr("display", "none");

                        //redraw comment nodes with new indexes
                        commentObj.saveCallbackFunction(commentObj.comments.list[currentComment], currentComment, 'remove');
                    });

                    chartDiv.selectAll(".commentbox-edit").select("#save").on("click.save", function () {
                        var commentText = chartDiv.select(".commentbox-edit").select("#edit")._groups[0][0].value;
                        commentObj.comments.list[currentComment].commentText = commentText;
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select(".commentbox-edit").remove();
                        commentObj.saveCallbackFunction(commentObj.comments.list[currentComment], currentComment, 'edit');
                    });

                    chartDiv.selectAll(".commentbox-edit").select("#cancel-edit").on("click.cancel-edit", function () {
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select(".commentbox-edit").remove();
                    });
                } else {
                    return null;
                }
            }
        }).on("mouseenter.comment", function (d) {
            //Show hover over box when mouse enters node
            if (commentObj.showComments === false) {
                var commentText = "";

                for (var j in commentObj.comments.list) {
                    if (Math.round(commentObj.comments.list[j]['binding'].currentX) === Math.round(this.x.baseVal[0].value)) {
                        if (Math.round(commentObj.comments.list[j]['binding'].currentY) === Math.round(this.y.baseVal[0].value)) {
                            commentText = commentObj.comments.list[j]['commentText'];
                            x = commentObj.comments.list[j]['binding'].currentX;
                            y = commentObj.comments.list[j]['binding'].currentY;
                        }
                    }
                }

                var commentHeight = 80,
                    commentWidth = 185,
                    position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

                var commentDiv = chartDiv.append('div').attr("class", "commentbox-readonly").style("opacity", 1).style("position", "absolute")
                //.style("border", "1px solid black")
                .html("<textarea readonly rows='4' style='resize:none' cols='27' class='textarea' name='comment'>" + commentText + "</textarea>").style("left", position.x + "px").style("top", position.y + "px");
            }
        }).on("mouseout.comment", function (d) {
            //Remove hover over box when mouse moves away
            if (commentObj.showComments === false) {
                chartDiv.select(".commentbox-readonly").remove();
            }
        });
    }
};

/******************************* Utility functions **********************************************/

jvComment.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var commentObj = this;
    var position = {};
    if (mouseX > parseInt(commentObj.chartDiv.style('width')) / 2) {
        position.x = mouseX - divWidth - 5;
    } else {
        position.x = mouseX + 10;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

module.exports = jvComment;

},{}],5:[function(require,module,exports){
'use strict';

/***  jvEdit ***/
function jvEdit(configObj) {
    "use strict";

    var editObj = this;
    editObj.chartDiv = configObj.chartDiv;
    editObj.editOptions = '';
    editObj.vizOptions = configObj.vizOptions ? configObj.vizOptions : {};
    editObj.fontSizeIncrement = 0;
    editObj.disabled = false;
    editObj.chartDiv.selectAll('.edit-div').remove();
    editObj.editDiv = editObj.chartDiv.append('div').attr('class', 'edit-div semoss-d3-tip absolute');
    editObj.applyAllEdits();
    editObj.saveVizOptions = configObj.saveVizOptionsFunction;
    editObj.toggleEditMode = function (toggleBool) {
        var entireSvg = editObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.selectAll(".event-rect").attr("display", "none");
            entireSvg.on('click', function () {
                //edit mode events
                //going to be mouseover to highlight options for whatever piece you hover over
                var classText = d3.select(d3.event.target).attr('class');
                if (classText) {
                    if (classText.indexOf('editable') >= 0) {
                        editObj.displayEdit(this, classText);
                    }
                }
            });
            entireSvg.selectAll('.editable').classed('pointer', true);
            entireSvg.on('dblclick', false);
        } else {
            editObj.removeEdit();
            entireSvg.selectAll('.editable').classed('pointer', false);
            entireSvg.selectAll(".event-rect").attr("display", "block");
        }
    };
}

/********************************************* All Edit Mode Functions **************************************************/

/** displayEdit
 *
 * Displays the edit div, grabbing it from the template
 *
 */
jvEdit.prototype.displayEdit = function (event, options) {
    var editObj = this;

    //return if you click on the same element twice, no need to display a second edit div if the current one is still open
    if (editObj.editOptions === options) {
        return;
    }
    editObj.editDiv.html('');
    editObj.editOptions = options;
    var mouseX = d3.mouse(event)[0],
        mouseY = d3.mouse(event)[1];

    //get the edit template html and then determine which pieces to show
    $.get('resources/js/jvCharts/src/editOptionsTemplate.html', function (data) {
        //assign html to editDiv (basically displays the div)
        editObj.editDiv.html(data);

        //optionValues - an array of strings.
        //      String is the id to the element in the editDiv form.
        //      This string contains the specific option that is being changed

        //itemToChange
        //      String that is the class of the svg element to be changed on the viz itself


        var optionValues = [],
            itemToChange = '',
            editOptionElement = editObj.editDiv.select("#edit-option-element");

        //if statements to determine which edit options to display
        if (options.indexOf('editable-yAxis') >= 0) {
            editOptionElement.html('&nbsp;for Y Axis');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'yAxis';
        } else if (options.indexOf('editable-xAxis') >= 0) {
            editOptionElement.html('&nbsp;for X Axis');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'xAxis';
        } else if (options.indexOf('yLabel') >= 0) {
            editOptionElement.html('&nbsp;for Y Label');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'yLabel';
        } else if (options.indexOf('xLabel') >= 0) {
            editOptionElement.html('&nbsp;for X Label');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'xLabel';
        } else if (options.indexOf('legendText') >= 0) {
            editOptionElement.html('&nbsp;for Legend Item');
            editOptionElement.style('visibility', 'visible');
            itemToChange = options.substring(options.indexOf('editable-legend-')).split(' ')[0];
        } else if (options.indexOf('editable-bar') >= 0) {
            editOptionElement.html('&nbsp;for Bar Chart');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-bar").style('display', 'block');
            optionValues.push('editable-bar');
            itemToChange = options.substring(options.indexOf('bar-col-')).split(' ')[0];
        } else if (options.indexOf('editable-pie') >= 0) {
            editOptionElement.html('&nbsp;for Pie Slice');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-pie").style('display', 'block');
            optionValues.push('editable-pie');
            itemToChange = options.substring(options.indexOf('pie-slice-')).split(' ')[0];
        } else if (options.indexOf('editable-scatter') >= 0) {
            editOptionElement.html('&nbsp;for Scatter Plot');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-scatter").style('display', 'block');
            optionValues.push('editable-scatter');
            itemToChange = options.substring(options.indexOf('scatter-circle-')).split(' ')[0];
        } else if (options.indexOf('editable-svg') >= 0) {
            editOptionElement.html('&nbsp;for All Text');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-text-size-buttons").style('display', 'block');
            //editObj.editDiv.select(".editable-default-and-apply").style('display', 'none');
            optionValues.push('editable-text-size');
            itemToChange = 'svg';
        } else {
            console.log("Still need to add option to display edit");
        }

        if (options.indexOf('editable-num') >= 0) {
            editObj.editDiv.select(".editable-num-format").style('display', 'block');
            optionValues.push('editable-num-format');
        }
        if (options.indexOf('editable-text') >= 0) {
            editObj.editDiv.select(".editable-text-color").style('display', 'block');
            optionValues.push('editable-text-color');
            editObj.editDiv.select(".editable-text-size").style('display', 'block');
            optionValues.push('editable-text-size');
        }
        if (options.indexOf('editable-content') >= 0) {
            editObj.editDiv.select(".editable-content").style('display', 'block');
            optionValues.push('editable-content');
        }

        //populate edit div with initial values
        if (editObj.vizOptions[itemToChange]) {
            populateSelectionsEditMode(editObj.editDiv, editObj.vizOptions[itemToChange]);
        }
        editObj.editDiv.style('display', 'block').style("left", 0 + 'px').style("top", 0 + 'px');

        //calculate position of overlay div
        var editHeight = parseFloat(editObj.editDiv.style('height')),
            editWidth = parseFloat(editObj.editDiv.style('width')),
            position = editObj.overlayDivPosition(editWidth, editHeight, mouseX, mouseY);

        //show the new edit div
        editObj.editDiv.style("left", position.x + 'px').style("top", position.y + 'px');

        //add submit, default, and exit listeners to the div
        editObj.editDiv.select('#submitEditMode').on("click", function () {
            submitEditMode(editObj, optionValues, itemToChange);
            editObj.removeEdit();
        });
        editObj.editDiv.select('#submitEditModeDefault').on("click", function () {
            submitEditMode(editObj, optionValues, itemToChange, true);
            editObj.removeEdit();
        });
        editObj.editDiv.select('#exitEditMode').on("click", function () {
            editObj.removeEdit();
        });
        editObj.fontSizeIncrement = 0;
        //Adding click events for increase/decrease font size buttons
        editObj.editDiv.select("#increaseFontSize").on("click", function () {
            editObj.increaseFontSize();
        });
        editObj.editDiv.select("#decreaseFontSize").on("click", function () {
            editObj.decreaseFontSize();
        });
    });
};

/** increaseFontSize
 *
 * Increases the font size by 1 when increased via edit options for all text
 *
 */
jvEdit.prototype.increaseFontSize = function () {
    var editObj = this,
        fontIncrement = 1,
        maxSize = 28;
    if (editObj.fontSizeIncrement < maxSize) {
        editObj.changeFontSize(fontIncrement);
        editObj.fontSizeIncrement++;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** decreaseFontSize
 *
 * Decreases the font size by 1 when decreased via edit options for all text
 *
 */
jvEdit.prototype.decreaseFontSize = function () {
    var editObj = this,
        fontDecrement = -1,
        minSize = -12;
    //min size is neg 12 because default size is 12px on our charts
    if (editObj.fontSizeIncrement > minSize) {
        editObj.changeFontSize(fontDecrement);
        editObj.fontSizeIncrement--;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** changeFontSize
 *
 * Increases or decreases font size by a certain increment
 *
 */
jvEdit.prototype.changeFontSize = function (increment) {
    var editObj = this,
        newSize;

    editObj.chartDiv.selectAll('text').each(function (d, i) {
        var thisDiv = this,
            textSize = 12;
        if (thisDiv.getAttribute('font-size')) {
            textSize = thisDiv.getAttribute('font-size');
        }
        newSize = parseInt(textSize) + increment;
        thisDiv.setAttribute('font-size', newSize);
    });
};

/** populateSelectionsEditMode
 *
 * Initially populates the editDiv if there are vizOptions
 *
 */
function populateSelectionsEditMode(editDiv, vizOptions) {
    for (var option in vizOptions) {
        if (vizOptions.hasOwnProperty(option)) {
            var selectedObject = editDiv.select('#' + option)._groups[0][0];
            //default color inputs to gray
            if (vizOptions[option] === 'default') {
                if (selectedObject.type === 'color') {
                    if (selectedObject.id.indexOf('text') > 0) {
                        selectedObject.value = '#000000';
                    } else {
                        selectedObject.value = '#aaaaaa';
                    }
                }
            } else {
                selectedObject.value = vizOptions[option];
            }
        }
    }
}

/** submitEditMode
 *
 *
 */
function submitEditMode(editObj, optionValues, itemToChange, defaultBtnClicked) {
    var optionArray = optionValues,
        selectedEditOptions = {},
        editValue,
        selectedObj;

    for (var i = 0; i < optionArray.length; i++) {
        if (optionArray[i].indexOf('editable-legend') > 0) {
            //change item to change for legend elements
            itemToChange = optionArray[i];
        }
        selectedObj = editObj.editDiv.select('#' + optionArray[i]);
        //see if selected object exists
        if (selectedObj && selectedObj._groups[0] && selectedObj._groups[0][0]) {
            editValue = selectedObj._groups[0][0].value;
            //get selected option from edit div
            if (optionArray[i] === 'editable-content' && editValue === '') {
                //dont add an empty string to the viz options for editable content
                break;
            }
            selectedEditOptions[optionArray[i]] = editValue;
            if (!selectedEditOptions[optionArray[i]] && optionArray[i].indexOf('content') < 0) {
                selectedEditOptions[optionArray[i]] = 'default';
            }
        }
    }

    if (defaultBtnClicked) {
        if (itemToChange === 'svg') {
            delete editObj.vizOptions['text'];
        }
        delete editObj.vizOptions[itemToChange];
    } else {
        editObj.vizOptions[itemToChange] = selectedEditOptions;
    }

    if (itemToChange === 'svg') {
        delete editObj.vizOptions['svg'];
    }

    //save vizOptions
    editObj.saveVizOptions(editObj.vizOptions);
}

jvEdit.prototype.applyEditMode = function (itemToChange, options) {
    var editObj = this;
    var object = editObj.chartDiv.select("." + itemToChange);
    var objectGroups = object._groups;
    var objectTagName = objectGroups[0][0] ? objectGroups[0][0].tagName.toLowerCase() : null;

    if (itemToChange === 'text') {
        //do something if it is all the text that is being changed
        object = editObj.chartDiv.selectAll("text");
    }

    //options by tagName
    if (objectTagName === 'g') {
        object = editObj.chartDiv.select("." + itemToChange).selectAll('text');
    } else if (objectTagName === 'rect') {
        if (options['editable-bar']) {
            object.attr('fill', options['editable-bar']);
        }
    } else if (objectTagName === 'circle') {
        if (options['editable-scatter']) {
            object.attr('fill', options['editable-scatter']);
        }
    } else if (objectTagName === 'path') {
        if (options['editable-pie']) {
            object.attr('fill', options['editable-pie']);
        }
    }

    //standard options
    //If a text increment exists, apply it based on the sign of the variable
    if (options.hasOwnProperty('editable-text-increment')) {
        editObj.changeFontSize(options['editable-text-increment']);
    }
    if (options.hasOwnProperty('editable-text-size')) {
        object.style('font-size', options['editable-text-size']);
    }
    if (options.hasOwnProperty('editable-text-color')) {
        object.style('fill', options['editable-text-color']);
    }
    if (options.hasOwnProperty('editable-num-format')) {
        var expression = getFormatExpression(options['editable-num-format']);
        object.transition().text(function (d) {
            if (!isNaN(d) && typeof expression === 'function') {
                return expression(d);
            }
            return d;
        });
    }
    if (options.hasOwnProperty('editable-content')) {
        if (options['editable-content'].length > 0) {
            object.html(options['editable-content']);
        }
    }
    editObj.removeEdit();
};

jvEdit.prototype.applyAllEdits = function () {
    var editObj = this;

    for (var option in editObj.vizOptions) {
        if (editObj.vizOptions.hasOwnProperty(option) && editObj.chartDiv.select(option)) {
            editObj.applyEditMode(option, editObj.vizOptions[option]);
        }
    }
};

jvEdit.prototype.removeEdit = function () {
    var editObj = this;
    if (editObj.editDiv) {
        editObj.editDiv.html('');
        editObj.editDiv.style('display', 'none');
    }
    editObj.editOptions = '';
};

/******************************* Utility functions **********************************************/

jvEdit.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var editObj = this;
    var position = {};
    if (mouseX > parseInt(editObj.chartDiv.style('width')) / 2) {
        position.x = mouseX - divWidth;
    } else {
        position.x = mouseX;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

/** getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '';
    if (option === "currency") {
        expression = d3.format("$,");
    }
    if (option === "fixedCurrency") {
        expression = d3.format("($.2f");
    }
    if (option === "percent") {
        var p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format("." + p + "%");
    }
    if (option === "millions") {
        var p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix("." + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(",.0f");
    }
    if (option === 'none' || option === '') {
        expression = d3.format("");
    }

    return expression;
}

function getYAxisLabelWidth(textSize) {}

module.exports = jvEdit;

},{}],6:[function(require,module,exports){
"use strict";

/***  jvEdit ***/
function jvSelect(configObj) {
    "use strict";

    var selectObj = this;
    selectObj.chartDiv = configObj.chartDiv;
    selectObj.toggleSelectMode = function (toggleBool) {
        var entireSvg = selectObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.on('click', function () {
                var target = d3.select(d3.event.target);
                console.log(target);
            });
            entireSvg.on('dblclick', false);
        } else {}
    };
}

/********************************************* Select Mode Functions **************************************************/

module.exports = jvSelect;

},{}],7:[function(require,module,exports){
"use strict";

/***  jvTip ***/

function jvTip(configObj) {
    "use strict";

    var tip = this;

    tip.type = configObj.type;
    tip.chartDiv = configObj.chartDiv;

    //Create initial div
    tip.chartDiv.select('.jv-tooltip').remove();

    tip.chartDiv.append("div").attr("class", "tooltip jv-tooltip").style("pointer-events", "none");
}

jvTip.prototype.showTip = function () {
    var tip = this;
    //todo position tip properly
    tip.toolTip.style("display", "block");
};

jvTip.prototype.hideTip = function () {
    var tip = this;
    if (tip.toolTip) {
        tip.toolTip.style("display", "none");
    }
};

/************************************************* Viz Specific Functions ***********************************************************************************************************/

jvTip.prototype.generateSimpleTip = function (dataObj, dataTable, event) {
    var tip = this;
    //Logic to determine where tooltip will be placed on page
    var leftOfMouse = false,
        topOfMouse = false;
    if (event.offsetX > tip.chartDiv._groups[0][0].clientWidth / 2) {
        leftOfMouse = true;
    }
    if (event.offsetY < tip.chartDiv._groups[0][0].clientHeight / 2) {
        topOfMouse = true;
    }
    if (dataObj.hasOwnProperty('title') && dataObj.title === '') {
        dataObj.title = 'Empty';
    }

    tip.toolTip = tip.chartDiv.select(".tooltip").html(function () {
        if (dataObj.viz === 'clusters' || dataObj.viz === 'circleviewplot' || dataObj.viz === 'scatterplot' || dataObj.viz === 'treemap' || dataObj.viz === 'singleaxis') {
            return generateSingleColorHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'radial' || dataObj.viz === 'pie') {
            return generatePieHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'circlepack' || dataObj.viz === 'jvsunburst') {
            return generatePackHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'heatmap' || dataObj.viz === 'cloud') {
            return generateHeatmapHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'sankey') {
            return generateSankeyHTML(dataObj, dataTable);
        } else {
            return generateSimpleHTML(dataObj, dataTable);
        }
    }).style("right", "auto").style("left", "auto").style("top", "auto").style("bottom", "auto").style("display", "block").style("opacity", 1);

    var fullPage = d3.select('html')._groups[0][0];
    var relativePositioning = fullPage.clientWidth - tip.chartDiv._groups[0][0].clientWidth;

    if (relativePositioning > 10) {
        tip.toolTip.style("left", event.target.getBBox().x + "px");
        tip.toolTip.style("top", event.target.getBBox().y + "px");
    } else {
        if (leftOfMouse) {
            tip.toolTip.style("right", tip.chartDiv._groups[0][0].clientWidth - event.offsetX + "px");
        } else {
            tip.toolTip.style("left", event.offsetX + "px");
        }

        if (topOfMouse) {
            tip.toolTip.style("top", event.offsetY + "px");
        } else {
            tip.toolTip.style("bottom", tip.chartDiv._groups[0][0].clientHeight - event.offsetY + "px");
        }
    }

    if (dataObj.viz === 'heatmap') {
        tip.toolTip.style("width", "300px");
    }

    return tip.tooltip;
};

function generateSimpleHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div><div class='title sm-left-margin xs-top-margin sm-right-margin'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-right-margin'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.color[item] + "'>" + "</div>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSingleColorHTML(dataObj, dataTable) {
    var tooltipText,
        tooltipColor,
        showColorCircle = true,
        colorCircle = "";

    if (!!dataObj.color[dataObj.data[dataTable.series]]) {
        tooltipColor = dataObj.color[dataObj.data[dataTable.series]];
    } else if (!!dataObj.color[dataTable.label] && dataObj.viz !== 'singleaxis') {
        tooltipColor = dataObj.color[dataTable.label];
    } else {
        showColorCircle = false;
    }

    if (showColorCircle) {
        colorCircle = "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + tooltipColor + "'>" + "</div>";
    } else {
        colorCircle = "<div class='inline smright margin sm-left-margin'>";
    }

    tooltipText = "<div class='inline'>" + colorCircle + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b>" + "</div>" + "<hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePackHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.data.color + "'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateHeatmapHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.color + "'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePieHTML(dataObj, dataTable) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.color[dataObj.data.label] + "'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + dataTable[item] + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSankeyHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function formatValue(val) {
    if (!isNaN(val)) {
        var formatNumber = d3.format(",.0f");
        if (val >= 1000000) {
            //millions
            // var p = d3.precisionPrefix(1e5, 1.3e6);
            // formatNumber = d3.formatPrefix("." + p, 1.3e6);
            formatNumber = d3.format(",.2f");
        } else if (val <= 100) {
            //2 decimals
            formatNumber = d3.format(",.2f");
        }
        return formatNumber(val);
    }
    return val;
}

module.exports = jvTip;

},{}],8:[function(require,module,exports){
'use strict';

var jvCharts = require('./jvCharts.js');

jvCharts.prototype.getDefaultOptions = getDefaultOptions;

function getDefaultOptions() {
    var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    console.log(userOptions);
    var _vars = {};

    //General Styles/Attributes
    //colors
    _vars.gray = "#cccccc";
    _vars.white = '#FFFFFF';
    _vars.black = '#000000';
    _vars.light = '#BBBBBB';
    _vars.backgroundColor = 'none';
    _vars.strokeWidth = "2px";

    _vars.thresholds = 'none'; //if not none, expected to be an array
    _vars.thresholdLegend = false;

    //Action Attributes
    _vars.highlightBorderColor = _vars.black;
    _vars.highlightBorderWidth = "2px";

    //Component Specific Styles/Attributes
    _vars.axisColor = _vars.gray;
    _vars.axisWidth = _vars.strokeWidth;
    _vars.displayValues = false;
    _vars.toggleLegend = false;
    _vars.legendMax = 9;
    _vars.gridSize = 12;
    _vars.xReversed = false;
    _vars.yReversed = false;

    //font styles
    _vars.fontSize = '12px';
    _vars.fontColor = _vars.black;
    _vars.xLabelFontSize = 'none';
    _vars.yLabelFontSize = 'none';

    //Heatmap Specific Styles/Attributes
    _vars.color = "#ff0000";
    _vars.toggleLegend = false;
    _vars.buckets = "10";
    _vars.colorLabel = 'none';
    _vars.min = "0";
    _vars.max = "10";
    _vars.domainArray = "";
    _vars.step = "1";
    _vars.quantiles = true;
    _vars.heatLegendSpacing = 2;
    _vars.heatGridSize = 20;
    _vars.colors = ["#fbf2d2", "#fdedb5", "#fee7a0", "#ffda84", "#ffc665", "#feb44e", "#fea743", "#fd9b3f", "#fd8c3c", "#fd7735", "#fd602f", "#fb4b29", "#f43723", "#ea241e", "#e0161c", "#d60b20", "#c80324", "#b10026", "#870025", "#620023"];

    //pie specific
    _vars.pieBorder = _vars.white;
    _vars.emptyLegendSquare = _vars.white;

    //add user options
    for (var key in userOptions) {
        if (userOptions.hasOwnProperty(key)) {
            _vars[key] = userOptions[key];
        }
    }
    return _vars;
}

},{"./jvCharts.js":3}],9:[function(require,module,exports){
'use strict';

var jvCharts = require('../visuals/jvLine.js');

jvCharts.prototype.area = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.fillArea = fillArea;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {

    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/** paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(chart) {
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //Overwrite any pre-existing zoom
    chart.config.zoomEvent = null;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

/**
 *
 */
function fillArea(lineData) {

    var chart = this,
        svg = chart.svg,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,

    //lineData = chart.currentData.chartData,
    container = chart.config.container,
        colors = chart._vars.color;

    //If a legend element is toggled off, use the new list of headers
    if (chart._vars.hasOwnProperty('legendHeaders')) {
        legendData = chart._vars.legendHeaders;
    }

    //Get the X and Y Scale
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    //If axis are normal
    if (!chart._vars.rotateAxis) {
        var area = d3.area().x(function (d) {
            return x(d.x);
        }).y0(container.height).y1(function (d) {
            return y(d.y);
        });
    } else {
        var area = d3.area().y(function (d) {
            return y(d.y);
        }).x1(0).x0(function (d) {
            return x(d.x);
        });
    }

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {
            if (typeof legendData !== "undefined") {
                //Accounting for legend toggles
                if (legendData[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    if (!chart._vars.rotateAxis) {
                        data[legendData[k]].push({
                            'x': lineData[i][xAxisData.label],
                            'y': parseFloat(lineData[i][legendData[k]])
                        });
                    } else {
                        data[legendData[k]].push({
                            'y': lineData[i][yAxisData.label],
                            'x': parseFloat(lineData[i][legendData[k]])
                        });
                    }
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (!chart._vars.rotateAxis) {
                    data[legendData[k]].push({
                        'x': lineData[i][xAxisData.label],
                        'y': parseFloat(lineData[i][legendData[k]])
                    });
                } else {
                    data[legendData[k]].push({
                        'y': lineData[i][yAxisData.label],
                        'x': parseFloat(lineData[i][legendData[k]])
                    });
                }
            }
        }
    }

    svg.selectAll(".area").remove();

    var ii = 0;
    for (var i in data) {
        svg.append("path").datum(data[i]).attr("class", function (d) {
            if (chart._vars.colorLine == true && chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                return "area area-threshold";
            } else {
                return "area";
            }
        }).attr("d", area).attr("fill", function (d) {
            return jvCharts.getColors(colors, k, i);
        }).attr("opacity", 0.6).attr("transform", function (d, i) {
            if (chart._vars.rotateAxis) {
                var translation = container.height / lineData.length / 2;
                return "translate(0, " + translation + ")";
            } else {
                var translation = container.width / lineData.length / 2;
                return "translate(" + translation + ", 0)";
            }
        }).attr("pointer-events", "none");
        ii++;
    }
}

module.exports = jvCharts;

},{"../visuals/jvLine.js":13}],10:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.bar = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateBarThreshold = generateBarThreshold;
jvCharts.prototype.generateBars = generateBars;

/**paint
 *
 * The initial starting point for bar chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(chart) {
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateBars');
    chart.generateBars(dataObj);

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

/**Sets the data for the bar chart prior to painting
 *  @function
 * @params {Object} data - Data passed into the chart
 * @params {Object} dataTable - Shows which data column is associated with each field in visual panel
 * @params {Object} dataTableKeys - Contains the data type for each column of data
 * @params {Object} colors - Colors object used to color the bars
 */
function setData(chart) {
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.hasOwnProperty('sortType') && chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);
    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/************************************************ Bar functions ******************************************************/
function generateBarThreshold() {
    var chart = this,
        svg = chart.svg,
        type = chart.config.type,
        width = chart.config.container.width,
        height = chart.config.container.height,
        thresholds = chart._vars.thresholds,
        length = thresholds !== 'none' ? Object.keys(thresholds).length : 0;

    var x = chart.currentData.xAxisScale;
    var y = chart.currentData.yAxisScale;

    if (thresholds !== 'none') {
        for (var i = 0; i < length; i++) {
            var threshold = thresholds[i];
            if (!chart._vars.xAxisThreshold) {
                if (chart._vars.rotateAxis) {
                    svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                } else {
                    svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                }
            }

            if (chart._vars.colorChart == true) {
                var thresholdRects = d3.selectAll('rect.rect-' + i);
                thresholdRects.attr('fill', threshold.thresholdColor);
            }
        }
    }
}

/**generateBars
 *
 * Does the actual painting of bars on the bar chart
 * @params barData
 */

function generateBars(barData) {
    var chart = this,
        svg = chart.svg;

    //Used to draw line that appears when tool tips are visible
    var tipLineX = 0,
        tipLineWidth = 0,
        tipLineHeight = 0,
        tipLineY = 0;

    //Removes any existing bar containers and creates a new one
    svg.selectAll('g.bar-container').remove();
    var bars = svg.append('g').attr('class', 'bar-container').selectAll('g');

    //Add logic to filter bardata
    var dataHeaders = chart._vars.seriesFlipped ? chart._vars.flippedLegendHeaders ? chart._vars.flippedLegendHeaders : barData.legendData : chart._vars.legendHeaders ? chart._vars.legendHeaders : barData.legendData;

    var barDataNew = jvCharts.getToggledData(barData, dataHeaders);

    generateBarGroups(bars, barDataNew, chart);

    var eventGroups = jvCharts.generateEventGroups(bars, barDataNew, chart);

    //Add listeners

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);

            svg.selectAll('.tip-line').remove();

            var mouseItem = d3.select(this);
            tipLineX = mouseItem.node().getBBox().x;
            tipLineWidth = mouseItem.node().getBBox().width;
            tipLineHeight = mouseItem.node().getBBox().height;
            tipLineY = mouseItem.node().getBBox().y;

            //Draw line in center of event-rect
            svg.append('line').attr('class', 'tip-line').attr('x1', function () {
                return chart._vars.rotateAxis ? 0 : tipLineX + tipLineWidth / 2;
            }).attr('x2', function () {
                return chart._vars.rotateAxis ? tipLineWidth : tipLineX + tipLineWidth / 2;
            }).attr('y1', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : 0;
            }).attr('y2', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : tipLineHeight;
            }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', 'black').attr('stroke-width', '1px');
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateBarThreshold();
}

/**generateBarGroups
 *
 * Paints the groups of the bars
 * @params chartContainer, barData, chart
 */
function generateBarGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        colors = chart._vars.color;

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    var posCalc = jvCharts.getPosCalculations(barData, chart._vars, xAxisData, yAxisData, container, chart);

    var dataToPlot = jvCharts.getPlotData(barData, chart);

    var barGroups;
    if (xAxisData.dataType === 'STRING' || !xAxisData.hasOwnProperty('min')) {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(' + (x.paddingOuter() * x.step() + x.step() * i) + ',0)';
        });
    } else if (xAxisData.dataType === 'NUMBER') {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(0,' + (y.paddingOuter() * y.step() + y.step() * i) + ')';
        });
    }

    //Creates bars within bar groups
    var externalCounterForJ = -1;
    var bars = barGroups.selectAll('rect').data(function (d) {
        return d;
    }).enter().append('rect').attr('class', function (d, i, j) {
        if (i === 0) {
            externalCounterForJ++;
        }
        var label = String(barData[externalCounterForJ][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '<dot>'),
            legendVal = String(chart.currentData.legendData[i]).replace(/\s/g, '_').replace(/\./g, '<dot>');

        var xAxisValue = barData[externalCounterForJ][chart.currentData.dataTable.label];
        if (chart._vars.xAxisThreshold) {
            var thresholdDir = chart.setThreshold(xAxisValue);
        } else {
            var thresholdDir = chart.setThreshold(d);
        }

        return 'editable editable-bar bar-col-' + label + '-index-' + legendVal + ' highlight-class-' + label + ' rect ' + thresholdDir;
    }).attr('x', function (d, i, j) {
        return posCalc.startx(d, i);
    }).attr('y', function (d, i) {
        return posCalc.starty(d, i);
    }).attr('width', function (d, i) {
        return posCalc.startwidth(d, i);
    }).attr('height', function (d, i, j) {
        return posCalc.startheight(d, i);
    }).attr('fill', function (d, i) {
        if (chart._vars.seriesFlipped) {
            var color = jvCharts.getColors(colors, i, chart._vars.flippedLegendHeaders[i]);
        } else {
            var color = jvCharts.getColors(colors, i, chart._vars.legendHeaders[i]);
        }
        return color;
    }).attr('rx', 0).attr('ry', 0).attr('opacity', 0.9).attr('clip-path', function (d) {
        if (d > 30000000) {
            return 'url(#clip-above)';
        }
        return 'url(#clip-below)';
    });

    bars.transition().duration(800).ease(d3.easePolyOut).attr('x', function (d, i, j) {
        return posCalc.x(d, i, j);
    }).attr('y', function (d, i, j) {
        return posCalc.y(d, i, j);
    }).attr('width', function (d, i, j) {
        return posCalc.width(d, i);
    }).attr('height', function (d, i, j) {
        return posCalc.height(d, i);
    });

    return barGroups; //returns the bar containers
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],11:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.gantt = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateGanttBars = generateGanttBars;
jvCharts.prototype.setGanttLegendData = setGanttLegendData;
jvCharts.prototype.setGanttAxisData = setGanttAxisData;

/************************************************ Gantt functions ******************************************************/

/**
*
* @param data
* @param dataTable
* @param colors
*/
function setData(chart) {
    chart.data.legendData = chart.setGanttLegendData(chart.data);
    chart.data.xAxisData = chart.setGanttAxisData(chart, 'x');
    chart.data.yAxisData = chart.setGanttAxisData(chart, 'y');
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function setGanttLegendData(data) {
    var legendArray = [];
    for (var i = 1; i <= Object.keys(data.dataTable).length; i++) {
        if (data.dataTable.hasOwnProperty(["start " + i])) {
            //check to make sure it has a matching end date
            if (data.dataTable.hasOwnProperty(["end " + i])) {
                legendArray.push(data.dataTable["start " + i]);
            }
        }
    }
    return legendArray;
}

function setGanttAxisData(chart, axis) {
    var axisData = [],
        data = chart.data,
        chartData = data.chartData,
        dataType;

    if (axis === 'x') {
        var label = data.dataTable.group;
        dataType = 'DATE';

        var numBars = data.legendData.length;
        //Loop through dataTable and assign labels based on how many groups there are
        var valueContainer = [];
        valueContainer.push(data.dataTable["start 1"]);
        valueContainer.push(data.dataTable["end 1"]);
        for (var i = 1; i < numBars; i++) {
            valueContainer.push(data.dataTable["start " + (i + 1)]);
            valueContainer.push(data.dataTable["end " + (i + 1)]);
        }

        //Get all the start and end dates and add them to axis data
        for (var i = 0; i < valueContainer.length; i++) {
            for (var ii = 0; ii < chartData.length; ii++) {
                if (chartData[ii][valueContainer[i]] != null) {
                    axisData.push(chartData[ii][valueContainer[i]]);
                }
            }
        }

        //Add any axis formatting to this object, need to use when painting
        chart._vars.xAxisFormatting = {};
    } else {
        dataType = "STRING";
        var label = data.dataTable.group;

        //Add any axis formatting to this object, need to use when painting
        chart._vars.yAxisFormatting = {};

        for (var i = 0; i < chartData.length; i++) {
            axisData.push(chartData[i][label]);
        }
    }

    return {
        'label': label,
        'values': axisData,
        'dataType': dataType
    };
}

function paint(chart) {
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data;

    chart.generateSVG(chart.currentData.legendData);
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateGanttBars');
    chart.drawGridlines(chart.currentData.xAxisData);
    chart.generateGanttBars(chart.currentData);
    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function generateGanttBars(ganttData) {
    var chart = this,
        svg = chart.svg,
        colors = ganttData.color,
        container = chart.config.container,
        yAxisData = ganttData.yAxisData;

    //Remove existing bars from page
    svg.selectAll("g.bar-container").remove();
    var bars = svg.append("g").attr("class", "bar-container"),
        dataHeaders = chart._vars.legendHeaders ? chart._vars.legendHeaders : ganttData.legendData,
        ganttDataNew = jvCharts.getToggledData(ganttData, dataHeaders),
        x = jvCharts.getAxisScale('x', ganttData.xAxisData, container, chart._vars),
        y = jvCharts.getAxisScale('y', ganttData.yAxisData, container, chart._vars),
        sampleData = ganttDataNew;

    chart._vars.rotateAxis = true;

    var numBars = ganttData.legendData.length;
    var ganttBars = [];
    //create array of start dates and end dates to iterate through
    var startDates = [];
    var endDates = [];
    for (var i = 1; i <= numBars; i++) {
        startDates.push(chart.currentData.dataTable["start " + i]);
        endDates.push(chart.currentData.dataTable["end " + i]);
    }

    for (var ii = 0; ii < numBars; ii++) {
        ganttBars[ii] = bars.selectAll(".gantt-bar" + ii).data(sampleData).enter().append("rect").attr("class", "gantt-bar" + ii).attr("width", function (d, i) {
            return 0;
        }).attr("height", function (d, i) {
            return y.bandwidth() / numBars;
        }).attr("x", function (d, i) {
            if (d[startDates[ii]]) {
                return x(new Date(d[startDates[ii]]));
            } else {
                return 0;
            }
        }).attr("y", function (d, i) {
            return y(d[yAxisData.label]) + y.bandwidth() / numBars * ii;
        }).attr("rx", 3).attr("ry", 3).attr("fill", function (d, i, j) {
            var typeVal = chart.currentData.dataTable["Type" + (ii + 1)];
            if (chart._vars.legendHeaders) {
                var color = jvCharts.getColors(colors, 0, chart._vars.legendHeaders[ii]);
            } else {
                var color = jvCharts.getColors(colors, 0, chart.currentData.legendData[ii]);
            }
            return color;
        });

        ganttBars[ii].transition().duration(400).delay(100).attr("width", function (d, i) {
            var width = x(new Date(d[endDates[ii]])) - x(new Date(d[startDates[ii]])); //(x(d.StartDate) - x(d.EndDate));
            if (width >= 0) {
                return width;
            } else {
                return 0;
            }
        });
    }

    var dataToPlot = jvCharts.getPlotData(ganttDataNew, chart);
    var eventGroups = bars.selectAll(".event-rect").data(dataToPlot).enter().append('rect').attr("class", "event-rect").attr("x", 0).attr("y", function (d, i) {
        return container.height / ganttDataNew.length * i;
    }).attr("width", container.width).attr("height", function (d, i) {
        return container.height / ganttDataNew.length;
    }).attr("fill", "transparent").attr("transform", "translate(0,0)");
    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mousemove", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mouseout", function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var currentDate = new Date();
    var dateData = [currentDate];
    //Draws a line representing the current date
    svg.selectAll(".currentDateLine").data(dateData).enter().append("line").attr("x1", function (d, i) {
        return x(d);
    }).attr("x2", function (d, i) {
        return x(d);
    }).attr("y1", function (d, i) {
        return "0px";
    }).attr("y2", function (d, i) {
        return chart.config.container.height;
    }).attr("class", "currentDateLine").attr("stroke", "black").attr("stroke-width", "2px").attr("stroke-dasharray", "3, 3");

    svg.selectAll(".currentDateLabel").data(dateData).enter().append("text").text(function () {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!

        var yyyy = today.getFullYear();
        if (dd < 10) {
            dd = '0' + dd;
        }
        if (mm < 10) {
            mm = '0' + mm;
        }
        var today = mm + '/' + dd + '/' + yyyy;
        return today;
    }).attr("x", function (d, i) {
        return x(d);
    }).attr("y", function (d, i) {
        return "-10px";
    }).attr("text-anchor", "middle");
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],12:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.heatmap = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateHeatMap = generateHeatMap;

/************************************************ HeatMap functions ******************************************************/

function quantized(chart, min, max) {
    var bucketCount = chart._vars.buckets;
    var sectionValue = (max - min) / bucketCount;
    var quantizedArray = [];
    for (var i = 0; i < bucketCount; i++) {
        quantizedArray[i] = min + i * sectionValue;
    }
    return quantizedArray;
}

/**setHeatMapData
 *  gets heatmap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    var axisNames = setHeatAxisNames(chart.data);
    chart.data.xAxisData = axisNames.xAxisData;
    chart.data.yAxisData = axisNames.yAxisData;
    chart.data.processedData = setProcessedData(chart.data, chart.data.xAxisData.values, chart.data.yAxisData.values);
    //define color object for chartData
    chart._vars.color = jvCharts.setChartColors(chart._vars.color, chart.data.xAxisData.values, chart.colors);
    chart.data.heatData = setHeatmapLegendData(chart, chart.data);
}

function setHeatmapLegendData(chart, data) {
    var heatData;
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount;
    chart._vars.colors = organizeColors(chart);

    data.heatScores.sort(function (a, b) {
        return a - b;
    });

    chart.data.colorScale = d3.scaleQuantile().domain(data.heatScores).range(chart._vars.colors);

    if (chart._vars.quantiles === true) {
        var temp = chart.data.colorScale.quantiles();
        if (temp[0] === 0) {
            heatData = chart.data.colorScale.quantiles();
        } else {
            heatData = [0].concat(chart.data.colorScale.quantiles());
        }
    } else {
        bucketCount = bucketMapper[chart._vars.buckets - 1];
        heatData = quantized(chart, data.heatScores[0], data.heatScores[data.heatScores.length - 1]);
    }

    return heatData;
}

function organizeColors(chart) {
    var colorSelectedBucket = [];
    for (var c in chart._vars.colors) {
        colorSelectedBucket.push(chart._vars.colors[c]);
    }

    var sValue = chart._vars.buckets;
    var newColors = [];
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount = bucketMapper[sValue - 1];
    for (var i = 0; i < bucketCount; i++) {
        if (i >= bucketCount / 2) {
            newColors[i] = colorSelectedBucket[Math.round((i + 1) / bucketCount * 20) - 1];
        } else {
            newColors[i] = colorSelectedBucket[Math.round(i / bucketCount * 20)];
        }
    }
    var colors = newColors.slice(0);
    return colors;
}

function setHeatAxisNames(data) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var xAxisArray = [];
    var yAxisArray = [];
    var returnObj = {};
    for (var i = 0; i < data.dataTableKeys.length; i++) {
        if (data.dataTableKeys[i].vizType === 'x') {
            returnObj.xAxisData = {};
            returnObj.xAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.xAxisData.label = data.dataTable.x;
        }
        if (data.dataTableKeys[i].vizType === 'y') {
            returnObj.yAxisData = {};
            returnObj.yAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.yAxisData.label = data.dataTable.y;
        }
    }

    for (var i = 0; i < chartData.length; i++) {
        if (xAxisArray.indexOf(chartData[i][xAxisName]) === -1) {
            xAxisArray.push(chartData[i][xAxisName]);
            //TODO make into 1 function for min max... waste of space
            if (returnObj.xAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                }

                if (!returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                }
            }
        }
        if (yAxisArray.indexOf(chartData[i][yAxisName]) === -1) {
            yAxisArray.push(chartData[i][yAxisName]);
            if (returnObj.yAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                }

                if (!returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                }
            }
        }
    }
    returnObj.xAxisData.values = xAxisArray;
    returnObj.yAxisData.values = yAxisArray;

    return returnObj;
}

function setProcessedData(data, xAxisArray, yAxisArray) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var heat = data.dataTable.heat;
    var dataArray = [];
    data.heatScores = [];
    /*Assign each name a number and place matrix coordinates inside of dataArray */
    for (var i = 0; i < chartData.length; i++) {
        dataArray.push({
            value: chartData[i][heat],
            xAxisName: chartData[i][xAxisName],
            yAxisName: chartData[i][yAxisName]
        });
        //This array stores the values as numbers
        data.heatScores.push(chartData[i][heat]);
        for (var j = 0; j < xAxisArray.length; j++) {
            if (xAxisArray[j] === dataArray[i].xAxisName) {
                dataArray[i].xAxis = j;
                break;
            }
        }
        for (var j = 0; j < yAxisArray.length; j++) {
            if (yAxisArray[j] === dataArray[i].yAxisName) {
                dataArray[i].yAxis = j;
                break;
            }
        }
    }
    return dataArray;
}

function paint(chart) {
    chart._vars.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship
    var customMargin = {
        top: 0,
        right: 40,
        left: 0,
        bottom: 20
    };
    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, customMargin);
    //chart.generateLegend(chart.currentData.legendData, 'generateHeatMap');
    chart.generateHeatMap();
}

/**generateHeatMap
 *
 * paints the HeatMap on the chart
 * @params HeatMapData
 */
function generateHeatMap() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.colors,
        container = chart.config.container,
        minContainer = 300,
        quantiles = chart._vars.quantiles,
        data = chart.data.processedData,
        toggleLegend = !chart._vars.toggleLegend,
        heatMapData = chart.currentData,
        gridSize = chart._vars.heatGridSize,
        legendSpacing = chart._vars.heatLegendSpacing;

    var div = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);

    var vis = svg.append('g').attr('transform', 'translate(0,0)').attr('class', 'heatmap');

    var yAxisTitle = vis.selectAll('.heatmap').data([heatMapData.dataTable.y]);

    yAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', -21).attr('y', -5).attr('text-anchor', 'end').text(function (d) {
        return d;
    });

    yAxisTitle.exit().remove();
    var formatType = jvCharts.jvFormatValueType(chart.currentData.yAxisData.values);

    var yAxis = vis.selectAll('.yAxis').data(heatMapData.yAxisData.values).enter().append('text').text(function (d) {
        return jvCharts.jvFormatValue(d, formatType);
    }).attr('x', 0).attr('y', function (d, i) {
        return i * gridSize;
    }).style('text-anchor', 'end').style('font-size', chart._vars.fontSize).attr('transform', 'translate(-6,' + gridSize / 1.5 + ')').attr('class', function (d, i) {
        return 'rowLabel pointer';
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        console.log(d);
        //fade all rects except in this row
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.yAxisData.values.length; i++) {
                if (chart.currentData.yAxisData.values[i] === d && d) {
                    if (r.yAxis != i) {
                        return true;
                    }
                }
            }
        });
    });

    var xAxisTitle = vis.selectAll('.xAxisTitle').data([heatMapData.dataTable.x]);

    xAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', 6).attr('y', 9).attr('transform', function (d, i) {
        return 'translate(' + -gridSize + ', -20)rotate(-45)';
    }).text(function (d) {
        return d;
    });

    xAxisTitle.exit().remove();

    var xAxis = vis.selectAll('.xAxis').data(heatMapData.xAxisData.values).enter().append('svg:g');

    formatType = jvCharts.jvFormatValueType(chart.currentData.xAxisData.values);

    xAxis.append('text').text(function (d) {
        return jvCharts.jvFormatValue(d, formatType);
    }).style('text-anchor', 'start').attr('x', 6).attr('y', 7).attr('class', function (d, i) {
        return 'colLabel pointer';
    }).attr('transform', function (d, i) {
        return 'translate(' + i * gridSize + ', -6)rotate(-45)';
    }).style('font-size', chart._vars.fontSize).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        //fade all rects except in this column
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.xAxisData.values.length; i++) {
                if (chart.currentData.xAxisData.values[i] === d) {
                    if (r.xAxis !== i) {
                        return true;
                    }
                }
            }
        });
    });

    var width = heatMapData.xAxisData.values.length * gridSize;
    var height = heatMapData.yAxisData.values.length * gridSize;
    var formatValueType = jvCharts.jvFormatValueType(chart.data.heatData);

    //vertical lines
    var vLine = vis.selectAll('.vline').data(d3.range(heatMapData.xAxisData.values.length + 1)).enter().append('line').attr('x1', function (d) {
        return d * gridSize;
    }).attr('x2', function (d) {
        return d * gridSize;
    }).attr('y1', function (d) {
        return 0;
    }).attr('y2', function (d) {
        return height;
    }).style('stroke', chart._vars.axisColor);

    //horizontal lines
    var hLine = vis.selectAll('.hline').data(d3.range(heatMapData.yAxisData.values.length + 1)).enter().append('line').attr('y1', function (d) {
        return d * gridSize;
    }).attr('y2', function (d) {
        return d * gridSize;
    }).attr('x1', function (d) {
        return 0;
    }).attr('x2', function (d) {
        return width;
    }).style('stroke', chart._vars.axisColor);

    var heatMap = vis.selectAll('.heat').data(data).enter().append('rect').attr('x', function (d) {
        return d.xAxis * gridSize;
    }).attr('y', function (d) {
        return d.yAxis * gridSize;
    }).attr('rx', 2).attr('ry', 2).attr('class', 'heat').attr('width', gridSize - 1).attr('height', gridSize - 1).style('fill', function (d) {
        if (quantiles === true) {
            if (chart._vars.domainArray.length === 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
                return chart.data.colorScale(d.value);
            }
            return 'white';
        }
        if (chart._vars.domainArray.length == 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
            return getQuantizedColor(chart.data.heatData, d.value);
        }
        return 'white';
    }).on('mouseover', function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        tipData.color = chart.data.colorScale(d.value);

        //Draw tip
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('dblclick', function (d) {
        //border around selected rect
        d3.select(this).classed('rect-border', true);

        //Fade row labels
        d3.selectAll('.rowLabel').classed('text-highlight', function (r, ri) {
            if (!(ri == d.yAxis)) {
                return true;
            }
        });

        //fade column labels
        d3.selectAll('.colLabel').classed('text-highlight', function (r, ri) {
            if (!(ri == d.xAxis)) {
                return true;
            }
        });

        //fade all rects except selected
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            if (r.yAxis != d.yAxis || r.xAxis != d.xAxis) {
                return true;
            }
        });
    });

    chart.chartDiv.select("svg.heatLegend").remove();

    if (toggleLegend) {
        var legendContainer = chart.chartDiv.append('svg').style('top', chart.config.margin.top + 'px').style('background', chart._vars.backgroundColor).attr('class', 'heatLegend').attr('width', chart.config.heatWidth);

        var legend = legendContainer.selectAll('.legend').data(chart.data.heatData).enter().append('g').attr('transform', function (d, i) {
            var height = gridSize + legendSpacing;
            var offset = height * chart.data.colorScale.domain().length / 2;
            var horz = -2 * gridSize;
            var vert = i * height - offset;
            return 'translate(' + 0 + ',' + gridSize * i + ')';
        });

        legend.append('rect').attr('class', 'legend').attr('width', gridSize).attr('height', gridSize).style('fill', function (d, i) {
            return colors[i];
        }).on('click', function (d) {
            //removing styling
            d3.selectAll('.heat').classed('rect-highlight', false);
        }).on('dblclick', function (d) {
            //removing styling
            //fade all rects except selected
            d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
                if (r.value < d) {
                    return true;
                }
            });
        });

        legend.append('text').attr('class', 'legendText').attr('x', gridSize + legendSpacing).attr('y', gridSize - legendSpacing).text(function (d) {
            if (isNaN(d)) {
                return d;
            }
            return jvCharts.jvFormatValue(d, formatValueType);
        }).style('fill', chart._vars.black);
    }

    function getQuantizedColor(quantizedArray, value) {
        for (var i = 1; i < quantizedArray.length; i++) {
            if (value < quantizedArray[i]) {
                return colors[i - 1];
            }
        }
        return colors[quantizedArray.length - 1];
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],13:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.line = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateLine = generateLine;
jvCharts.prototype.setLineThresholdData = setLineThresholdData;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {

    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
};
/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/** paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(chart) {
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');
    if (chart._vars.rotateAxis) {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

/** generateLine
 *
 * Paints the lines
 * @params lineData
 */
function generateLine(lineData) {
    var chart = this,
        svg = chart.svg;

    svg.selectAll("g.line-container").remove();
    var lines = svg.append("g").attr("class", "line-container").selectAll("g");

    var dataHeaders = chart._vars.seriesFlipped ? chart._vars.flippedLegendHeaders ? chart._vars.flippedLegendHeaders : lineData.legendData : chart._vars.legendHeaders ? chart._vars.legendHeaders : lineData.legendData;
    var lineDataNew = jvCharts.getToggledData(lineData, dataHeaders);

    //If it's an area chart, add the area
    if (chart.config.type === 'area') {
        chart.fillArea(lineDataNew);
    }

    generateLineGroups(lines, lineDataNew, chart);
    var eventGroups = jvCharts.generateEventGroups(lines, lineDataNew, chart);

    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mousemove", function (d, i) {
        chart.tip.hideTip();
        svg.selectAll(".tip-line").remove();

        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        svg.selectAll(".tip-line").remove();
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateLineThreshold();

    return lines;
};

/** generateLineGroups
 *
 * Paints the groups of the lines
 * @params chartContainer, barData, chart
 */
function generateLineGroups(lineContainer, lineData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        lines;

    //Get Position Calculations
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    var xTranslate, yTranslate;

    if (chart._vars.rotateAxis === true) {
        xTranslate = function xTranslate(d, i) {
            return x(d);
        };
        yTranslate = function yTranslate(d, i) {
            return y(lineData[i][yAxisData.label]) + container.height / lineData.length / 2; // + container.height / (lineData.length) / 2  - y.paddingInner());
        };
    } else {
        xTranslate = function xTranslate(d, i) {
            return x(lineData[i][xAxisData.label]) + container.width / lineData.length / 2; // + container.width / (lineData.length) / 2 - x.paddingInner());
        };
        yTranslate = function yTranslate(d, i) {
            return y(d);
        };
    }

    //Append lines and circles

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {

            if (typeof chart._vars.legendOptions !== "undefined") {
                //Accounting for legend toggles
                if (chart._vars.legendOptions[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    //Write something to data
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    data[legendData[k]].push(parseFloat(lineData[i][legendData[k]]));
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (data[legendData[k]].length < lineData.length) {
                    data[legendData[k]].push(parseFloat(lineData[i][legendData[k]]));
                }
            }
        }
    }

    chart.svg.selectAll(".lines").remove();

    chart.svg.selectAll(".line").remove();
    chart.svg.selectAll(".circle").remove();
    chart.svg.selectAll("#line-gradient").remove();

    lines = chart.svg.selectAll(".line-container");

    var valueline = {};
    var circles = {};
    var index = 0;
    var lineColors = [];
    var thresholding = false;
    for (var k in data) {
        //Create path generator for each series
        if (data.hasOwnProperty(k)) {
            valueline[k] = d3.line() //line drawing function
            .x(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).y(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            });

            //Add lines to the line-container
            lines.append('g').attr('class', 'line ' + k).append("path") //draws the line
            .attr('stroke', function (d, i, j) {
                var colorObj = jvCharts.getColors(colors, i, k);
                lineColors.push(colorObj);
                return colorObj;
            }) // fills the bar with color
            .attr("stroke-width", "2").attr("fill", "none").attr("d", valueline[k](data[k]));

            //Color Thresholding for each tier
            if (chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                if (chart._vars.colorLine) {
                    var thresholdPercents = [];
                    if (chart._vars.rotateAxis) {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < Object.keys(chart._vars.thresholds).length; z++) {
                            var pCent = chart._vars.thresholds[z].threshold * 100 / (xAxisData.max - xAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    } else {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < Object.keys(chart._vars.thresholds).length; z++) {
                            var pCent = chart._vars.thresholds[z].threshold * 100 / (yAxisData.max - yAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    }

                    var thresholdData = chart.setLineThresholdData(chart, thresholdPercents, lineColors[index]);

                    lines.selectAll("path").attr("class", "line-threshold");

                    if (chart._vars.rotateAxis) {
                        chart.svg.append("linearGradient").attr("id", "line-gradient").attr("gradientUnits", "userSpaceOnUse").attr("x1", xTranslate(xAxisData.min)).attr("y1", 0).attr("x2", xTranslate(xAxisData.max)).attr("y2", 0).selectAll("stop").data(thresholdData).enter().append("stop").attr("offset", function (d) {
                            return d.offset;
                        }).attr("stop-color", function (d) {
                            return d.color;
                        });
                    } else {
                        chart.svg.append("linearGradient").attr("id", "line-gradient").attr("gradientUnits", "userSpaceOnUse").attr("x1", 0).attr("y1", yTranslate(yAxisData.min)).attr("x2", 0).attr("y2", yTranslate(yAxisData.max)).selectAll("stop").data(thresholdData).enter().append("stop").attr("offset", function (d) {
                            return d.offset;
                        }).attr("stop-color", function (d) {
                            return d.color;
                        });
                    }
                }
                thresholding = true;
            }

            //Add circles at joints in the lines
            circles[k] = lines.append('g').attr('class', 'circle ' + k).selectAll('circle').data(data[k]).enter().append("circle") //Circles for the joints in the line
            .attr('class', function (d, i) {
                return 'circle-' + chart.currentData.chartData[i][chart.currentData.dataTable.label] + ' highlight-class-' + i;
            }).attr("cx", function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).attr("cy", function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            }).attr('fill', function (d, i, j) {
                if (isNaN(d)) {
                    return null;
                } else if (thresholding == true) {
                    var length = Object.keys(chart._vars.thresholds).length - 1;
                    if (chart._vars.rotateAxis) {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    } else {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    }
                }

                return jvCharts.getColors(colors, i, k);
            }).attr('opacity', function (d, i, j) {
                if (isNaN(d)) {
                    return 0;
                }
                return 1;
            }).attr("r", 2.5);

            index++;
        }
    }

    //Return line groups
    return lines.selectAll(".circle");
}

function setLineThresholdData(chart, thresholds) {
    var data = [];
    for (var k = 0; k < thresholds.length; k++) {
        var gradientOne = { offset: thresholds[k].percent + "%", color: thresholds[k].color };
        data.push(gradientOne);

        if (k + 1 < thresholds.length) {
            var gradientTwo = { offset: thresholds[k + 1].percent + "%", color: thresholds[k].color };
            data.push(gradientTwo);
        }

        if (k == thresholds.length - 1) {
            var last = { offset: "100%", color: thresholds[k].color };
            data.push(last);
        }
    }

    return data;
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],14:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.circlepack = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generatePack = generatePack;

/************************************************ Pack functions ******************************************************/

/**setPackChartData
 *  gets pack data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setPackLegendData(chart.data.dataTable);
    //define color object for chartData
    chart.data.color = chart.colors;
}

/**setPackLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPackLegendData(dataTable) {
    var legendArray = [];
    var label = '';
    for (var key in dataTable) {
        if (dataTable.hasOwnProperty(key)) {
            if (key === 'value') {
                label = dataTable[key];
            } else {
                legendArray.push(dataTable[key]);
            }
        }
    }
    legendArray.unshift(label);
    return legendArray;
}

function paint(chart) {
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var packMargins = {
        top: 30,
        right: 20,
        bottom: 15,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, packMargins);
    chart.generateVerticalLegend('generatePack');
    chart.generatePack(chart.currentData);
};

/** generatePack
 *
 * paints the pack on the chart
 * @params packData
 */
function generatePack() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        w = container.width,
        h = container.height,
        r = Math.min(h / 2, w / 3),
        margin = 20,
        diameter = r * 2;

    chart.children = chart.data.chartData;

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    var pack = d3.pack().size([container.width, container.height]).padding(2);

    pack(root.sum(function (d) {
        return d.hasOwnProperty('children') ? 0 : d.name;
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    svg.selectAll(".pack").remove();

    var vis = svg.append("g").attr("class", "pack").attr("transform", "translate(" + w / 2 + "," + r + ")");

    var circle = vis.selectAll("circle").data(root.descendants()).enter().append("circle").attr("class", function (d) {
        return d.parent ? d.children ? "node" : "node node--leaf" : "node node--root";
    }).style("fill", function (d) {
        d.color = color(d.depth);
        return d.children ? color(d.depth) : null;
    }).on("click", function (d) {
        if (focus !== d) {
            zoom(d), d3.event.stopPropagation();
        }
    }).on("mouseover", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
    });

    // var text = vis.selectAll("text")
    //     .data(root.descendants())
    //     .enter().append("text")
    //     .attr("class", "label")
    //     .style("display", function(d) {
    //         return d.parent === root ? "inline" : "none";
    //     });

    var node = svg.selectAll("circle,text");

    d3.select("body").on("click", function () {
        zoom(root);
    });

    zoomTo([root.x, root.y, root.r * 2 + margin]);

    function zoom(d) {
        var focus = d;

        d3.transition().duration(d3.event.altKey ? 7500 : 750).tween("zoom", function (d) {
            var i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2 + margin]);
            return function (t) {
                zoomTo(i(t));
            };
        });

        // transition.selectAll("text")
        //     .filter(function(d) {
        //         return d.parent === focus || this.style.display === "inline";
        //     })
        //     .style("fill-opacity", function(d) {
        //         return d.parent === focus ? 1 : 0;
        //     })
        //     .style("display", function(d) {
        //         return d.parent === focus ? "inline" : "none";
        //     })
        //     .each("start", function(d) {
        //         if (d.parent === focus) {
        //            this.style.display = "inline";
        //         }
        //     })
        //     .each("end", function(d) {
        //         if (d.parent !== focus) {
        //           this.style.display = "none";
        //         }
        //     });
    }
    var view;
    function zoomTo(v) {
        var k = diameter / v[2];

        //set global zoom
        view = v;

        node.attr("transform", function (d) {
            if (d && d.x && d.y) {
                return "translate(" + (d.x - v[0]) * k + "," + (d.y - v[1]) * k + ")";
            }
        });

        circle.attr("r", function (d) {
            return d.r * k;
        });
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],15:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.pie = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generatePie = generatePie;

/************************************************ Pie Data functions ******************************************************/

/**setPieData
 *  gets pie data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setPieLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}
/**setPieLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPieLegendData(data) {
    var legendArray = [];
    for (var i = data.chartData.length - 1; i >= 0; i--) {
        legendArray.push(data.chartData[i][data.dataTable.label]);
    }
    return legendArray;
}

function paint(chart) {
    var customMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };
    chart.currentData = chart.data;
    chart._vars.color = chart.data.color;
    chart.legendData = chart.data.legendData;
    chart.generateSVG(chart.data.legendData, customMargins);

    //If the container size is small, don't generate a legend
    if (chart.config.container.width > 550) {
        chart.generateVerticalLegend('generatePie');
    }

    chart.generatePie(chart.currentData);
}

/**generatePie
 *
 * creates and draws a pie chart on the svg element
 * @params svg, pieData, _vars, container, chartName
 * @returns {{}}
 */
function generatePie(currentData) {
    var chart = this,
        svg = chart.svg,
        pieData = currentData.chartData,
        container = chart.config.container,
        legendData = chart.currentData.legendData;

    //define variables to change attr's
    svg.select('g.pie-container').remove();

    //var keys = Object.keys(pieData[0]);//Data headers
    var keys = [chart.data.dataTable.label, chart.data.dataTable.value];
    var colors = chart._vars.color;

    var w = container.width;
    var h = container.height;
    var r = Math.min(h / 2, w / 3);

    var data = [];
    var total = 0;

    for (var i = 0; i < pieData.length; i++) {
        data[i] = { label: pieData[i][keys[0]], value: pieData[i][keys[1]] };
        //total += parseFloat(pieData[i][keys[1]]);
    }

    var pieDataNew = JSON.parse(JSON.stringify(data)); //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < pieDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === pieDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    //pieDataNew.splice(j,1);
                    pieDataNew[j].value = 0;
                }
            }
        }
    }

    for (var i = 0; i < pieDataNew.length; i++) {
        total += parseFloat(pieDataNew[i].value);
    }

    var vis = svg.append('g').data([pieDataNew]).attr('class', 'pie-container').attr('height', 200).attr('transform', 'translate(' + w / 2 + ',' + r + ')');

    var pie = d3.pie().value(function (d) {
        return d.value;
    });

    //declare an arc generator function
    var arc = d3.arc().innerRadius(0) //Normal pie chart when this = 0, can be changed to create donut chart
    .outerRadius(r);

    var arcOver = d3.arc().innerRadius(0).outerRadius(r + 15);

    //select paths, use arc generator to draw
    var arcs = vis.selectAll('g.slice').data(pie).enter().append('g').attr('class', 'slice');

    arcs.append('path').attr('fill', function (d, i) {
        return jvCharts.getColors(colors, i, pieData[i][keys[0]]);
    }).attr('d', function (d) {
        return arc(d);
    }).attr('class', function (d, i) {
        return 'editable editable-pie pie-slice-' + i + ' highlight-class-' + i;
    }).attr('stroke', '#FFFFFF').attr('stroke-width', 1).on('mouseover', function (d, i) {
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);

            arcs.selectAll('*').style('opacity', 0.7);
            var slice = d3.select(this);
            slice.style('opacity', 1);
            slice.transition().duration(200).attr('d', arcOver);
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
        arcs.selectAll('*').style('opacity', 1);
        d3.select(this).transition().duration(250).attr('d', arc);
    });

    arcs.append('svg:text').attr('class', 'sliceLabel').attr('transform', function (d) {
        var test = arc.centroid(d);
        test[0] = test[0] * 1.6;
        test[1] = test[1] * 1.6;
        return 'translate(' + test + ')';
    }).attr('dy', '.35em').attr('text-anchor', 'middle').text(function (d, i) {
        var percent = pieDataNew[i].value / total * 100;
        percent = d3.format('.1f')(percent);
        if (percent > 5) {
            return percent + '%';
        }
    }).attr('font-size', chart._vars.fontSize).attr('fill', '#FFFFFF').attr('pointer-events', 'none');
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],16:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.radial = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateRadial = generateRadial;

/************************************************ Radial Data functions ******************************************************/
/**setRadialChartData
 *  gets bar data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setRadialLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function paint(chart) {
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var radialMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, radialMargins);
    chart.generateVerticalLegend('generateRadial');
    chart.generateRadial();
}

/**setRadialLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setRadialLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.length; i++) {
        if (legendArray.indexOf(data.chartData[i][data.dataTable.label]) == -1) {
            legendArray.push(data.chartData[i][data.dataTable.label]);
        }
    }
    return legendArray;
}

/**generateRadial
 *
 * paints the radil bar chart on the chart
 * @params radialData
 */

function generateRadial() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.color,
        container = chart.config.container,
        legendData = chart.data.legendData,
        radialData = chart.data.chartData,
        tickNumber = 3,
        barHeight = container.height / 2 - 40,
        width = container.width,
        height = container.height,
        r = Math.min(height / 2, width / 3),
        data = [],
        allKeys = [chart.data.dataTable.label, chart.data.dataTable.value],
        radialDataNew,
        dataHeaders,
        legendElementToggleArray = [],
        radialDataFiltered;

    for (var i = 0; i < radialData.length; i++) {
        data[i] = { label: radialData[i][allKeys[0]], value: radialData[i][allKeys[1]] };
        //total += parseFloat(radialData[i][keys[1]]);
    }

    radialDataNew = JSON.parse(JSON.stringify(data)); //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    dataHeaders = chart._vars.legendHeaders;
    legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    radialDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < radialDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === radialDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    radialDataNew[j].value = -1;
                }
            }
        }
    }

    for (var j = 0; j < radialDataNew.length; j++) {
        if (radialDataNew[j].value !== -1) {
            radialDataFiltered.push(radialDataNew[j]);
        }
    }

    radialDataFiltered.sort(function (a, b) {
        return b.value - a.value;
    });

    //Remove existing bars from page
    svg.selectAll('g.radial-container').remove();

    var vis = svg.append('g').attr('class', 'radial-container').attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + r + ')');

    var extent = d3.extent(radialDataFiltered, function (d) {
        return d.value;
    });

    //commas and 0 decimals
    var formatNumber = d3.format(',.0f');
    if (extent[1] >= 1000000) {
        //millions
        var p = d3.precisionPrefix(1e5, 1.3e6);
        formatNumber = d3.formatPrefix('.' + p, 1.3e6);
    } else if (extent[1] <= 100) {
        //2 decimals
        formatNumber = d3.format(',.2f');
    }

    if (extent[0] !== 0) {
        extent[0] = 0;
    }
    var barScale = d3.scaleLinear().domain(extent).range([0, barHeight]);

    var keys = radialDataFiltered.map(function (d, i) {
        return d.label;
    });
    var numBars = keys.length;

    var x = d3.scaleLinear().domain(extent).range([0, -barHeight]);

    //create xAxis drawing function
    var xAxis = d3.axisLeft().scale(x).ticks(tickNumber).tickFormat(formatNumber);

    vis.selectAll('circle').data(x.ticks(3)).enter().append('circle').attr('r', function (d) {
        return barScale(d);
    }).style('fill', 'none').style('stroke', 'black').style('stroke-dasharray', '2,2').style('stroke-width', '.5px');

    var arc = d3.arc().startAngle(function (d, i) {
        return i * 2 * Math.PI / numBars;
    }).endAngle(function (d, i) {
        return (i + 1) * 2 * Math.PI / numBars;
    }).innerRadius(0);

    var segments = vis.selectAll('path').data(radialDataFiltered).enter().append('g')
    //.attr("class", "label")
    .append('path').each(function (d) {
        d.outerRadius = 0;
    }).style('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.label);
    }).attr('d', arc).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            //chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    segments.transition().duration(800).ease(d3.easeElastic).delay(function (d, i) {
        return 750 - 50 * i;
    }).attrTween('d', function (d, index) {
        var i = d3.interpolate(d.outerRadius, barScale(+d.value));
        return function (t) {
            d.outerRadius = i(t);
            return arc(d, index);
        };
    });

    vis.append('circle').attr('r', barHeight).classed('outer', true).style('fill', 'none').style('stroke', 'black').style('stroke-width', '1.5px');

    vis.selectAll('line').data(keys).enter().append('g').attr('class', 'label').append('line').attr('y2', -barHeight - 20).style('stroke', 'black').style('stroke-width', '.5px').attr('transform', function (d, i) {
        return 'rotate(' + i * 360 / numBars + ')';
    });

    var axisGroup = vis.append('g').attr('class', 'xAxis').style('pointer-events', 'none').call(xAxis);
    var yAxisClass = 'yAxisLabels editable editable-yAxis editable-text editable-num';

    axisGroup.selectAll('text').attr('fill', 'black') //Customize the color of axis labels
    .attr('class', yAxisClass).attr('transform', function (d) {
        if (d === xAxis.scale().ticks(tickNumber)[tickNumber]) {
            return 'translate(0, 10)';
        }
        return 'translate(0,0)';
    }).attr('font-size', chart._vars.fontSize).append('svg:title');
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],17:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sankey = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateSankey = generateSankey;

/************************************************ Sankey functions ******************************************************/
/**
 *
 * @param data
 * @param dataTable
 * @param colors
 */
function setData(chart) {
    var sankeyData = {},
        data = chart.data.chartData,
        dataTable = chart.data.dataTable;

    sankeyData.links = [];
    sankeyData.nodes = [];

    //Iterate through sources and targets to make a node list
    var nodeList = [];
    for (var item in dataTable) {
        if (item === "value") {
            continue;
        };
        for (var i = 0; i < data.length; i++) {
            var potentialNode = data[i][dataTable[item]];
            var addToList = true;
            for (var j = 0; j < nodeList.length; j++) {
                if (potentialNode === nodeList[j]) {
                    addToList = false;
                    break;
                }
            }
            if (addToList) {
                nodeList.push(potentialNode);
            }
        }
    }
    //Create nodes object
    for (var i = 0; i < nodeList.length; i++) {
        sankeyData.nodes.push({
            "name": nodeList[i]
        });
    }

    sankeyData.links = data.map(function (x) {
        return {
            "source": x[dataTable.start],
            "target": x[dataTable.end],
            "value": x[dataTable.value]
        };
    });

    var nodeMap = {};
    for (var i = 0; i < sankeyData.nodes.length; i++) {
        sankeyData.nodes[i].node = i;
        nodeMap[sankeyData.nodes[i].name] = i;
    }
    sankeyData.links = sankeyData.links.map(function (x) {
        return {
            source: nodeMap[x.source],
            target: nodeMap[x.target],
            value: x.value
        };
    });

    chart.data.chartData = sankeyData;
    chart.data.color = d3.scaleOrdinal(d3.schemeCategory20);
}

function paint(chart) {
    var data = chart.data.chartData;

    //generate SVG
    chart.generateSVG();
    chart.generateSankey(data);
}

/**
 * Generates a sankey chart with the given data
 * @param sankeyData
 */
function generateSankey(sankeyData) {
    var chart = this,
        svg = chart.svg,
        color = chart._vars.color;

    var width = chart.config.container.width;
    var height = chart.config.container.height;

    var formatNumber = d3.format(",.0f"),
        // zero decimal places
    format = function format(d) {
        return formatNumber(d) + " " + "Widgets";
    },
        color = d3.scaleOrdinal(d3.schemeCategory20);

    //var nodeMap = {};
    //for (var i = 0; i < sankeyData.nodes.length; i++) {
    //    sankeyData.nodes[i].node = i;
    //    nodeMap[sankeyData.nodes[i].name] = i;
    //}
    //sankeyData.links = sankeyData.links.map(function(x){
    //    return {
    //        source: nodeMap[x.source],
    //        target: nodeMap[x.target],
    //        value: x.value
    //    };
    //});

    var sankey = d3.sankey().nodeWidth(10).nodePadding(15).size([width, height]);

    var path = sankey.link();

    // //Adding zoom v4 behavior to sankey
    d3.selectAll("svg").call(d3.zoom().scaleExtent([.1, 10]).on("zoom", zoom)); //zoom event listener

    sankey.nodes(sankeyData.nodes).links(sankeyData.links).layout(32);

    var link = svg.append("g").selectAll(".sankey-link").data(sankeyData.links).enter().append("path").filter(function (d) {
        return d.value > 0;
    }).attr("class", "sankey-link").attr("d", path).style("stroke-width", function (d) {
        return Math.max(1, d.dy);
    }).sort(function (a, b) {
        return b.dy - a.dy;
    }).on("mouseover", function (d, i) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mousemove", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mouseout", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var node = svg.append("g").selectAll(".node").data(sankeyData.nodes).enter().append("g").filter(function (d) {
        return d.value > 0;
    }).attr("class", "node").attr("transform", function (d) {
        return "translate(" + d.x + ", " + d.y + ")";
    }).call(d3.drag().subject(function (d) {
        return d;
    }).on("start", function (d) {
        d3.event.sourceEvent.stopPropagation();
        this.parentNode.appendChild(this);
    }).on("drag", dragmove));

    node.append("rect").attr("height", function (d) {
        return Math.max(d.dy, 0);
    }).attr("width", sankey.nodeWidth()).style("fill", function (d) {
        return d.color = color(d.name);
    }).style("stroke", function (d) {
        return d3.rgb(d.color).darker(2);
    });

    node.append("text").attr("x", -6).attr("y", function (d) {
        return d.dy / 2;
    }).attr("dy", ".35em").attr("text-anchor", "end").attr("transform", null).attr("transform", null).text(function (d) {
        return d.name;
    }).filter(function (d) {
        return d.x < width / 2;
    }).attr("x", 6 + sankey.nodeWidth()).attr("text-anchor", "start");

    function dragmove(d) {
        d3.select(this).attr("transform", "translate(" + (d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))) + "," + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + ")");
        sankey.relayout();
        link.attr("d", path);
    }

    function zoom() {
        //Implementing the v4 zooming feature
        svg.attr("transform", d3.event.transform);
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],18:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.scatterplot = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateScatter = generateScatter;
jvCharts.prototype.createLineGuide = createLineGuide;

/************************************************ Scatter functions ******************************************************/

/**setScatterData
 *  gets scatter data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setScatterLegendData(chart.data);
    chart.data.xAxisData = setScatterAxisData(chart.data, 'x', chart._vars);
    chart.data.yAxisData = setScatterAxisData(chart.data, 'y', chart._vars);
    chart.data.zAxisData = chart.data.dataTable.hasOwnProperty('z') ? setScatterAxisData(chart.data, 'z', chart._vars) : {};
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setScatterLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setScatterLegendData(data) {
    var legendArray = [];
    if (data.dataTable.hasOwnProperty('series')) {
        var item = data.dataTable.series;
        for (var value in data.chartData) {
            var legendElement = data.chartData[value][item];
            if (legendArray.indexOf(legendElement) === -1) {
                legendArray.push(legendElement);
            }
        }
    } else if (data.dataTable.hasOwnProperty('label')) {
        legendArray.push(data.dataTable.label);
    }
    if (typeof legendArray[0] === 'undefined') {
        legendArray = [];
        legendArray.push(data.dataTable.label);
    }
    //order legend data in alphabetical order
    legendArray.sort();
    return legendArray;
}

/**setScatterAxisData
 *  gets z axis data based on the chartData
 *
 * @params data, dataTable
 * @returns object with label and values
 */
function setScatterAxisData(data, axis, _vars) {
    //declare vars
    var axisData = [],
        chartData = data.chartData,
        scatterLabel = data.dataTable[axis],
        min = scatterLabel ? chartData[0][scatterLabel] : 0,
        max = scatterLabel ? chartData[0][scatterLabel] : 0,
        dataType;

    for (var j = 0; j < data.dataTableKeys.length; j++) {
        if (data.dataTableKeys[j].vizType === axis) {
            dataType = data.dataTableKeys[j].type;
            break;
        }
    }
    //loop over data to find max and min
    //also determines the y axis total if the data is stacked
    for (var i = 1; i < chartData.length; i++) {
        if (chartData[i].hasOwnProperty(scatterLabel)) {
            var num = chartData[i][scatterLabel];
            if (!isNaN(num)) {
                num = parseFloat(num);
                if (num > max) {
                    max = num;
                } else if (num < min) {
                    min = num;
                }
            }
        }
    }
    if (axis !== 'z') {
        min *= 0.9;
        max *= 1.1;
    }

    if (_vars.yMin && !isNaN(_vars.yMin) && axis === 'y') {
        min = _vars.yMin;
    }
    if (_vars.yMax && !isNaN(_vars.yMax) && axis === 'y') {
        max = _vars.yMax;
    }
    if (_vars.xMin && !isNaN(_vars.xMin) && axis === 'x') {
        min = _vars.xMin;
    }
    if (_vars.xMax && !isNaN(_vars.xMax) && axis === 'x') {
        max = _vars.xMax;
    }

    axisData.push(min);
    axisData.push(max);
    return {
        'label': scatterLabel,
        'values': axisData,
        'dataType': 'NUMBER',
        'min': min,
        'max': max
    };
}

function paint(chart) {
    var dataObj = {};

    dataObj.chartData = chart.data.chartData;
    dataObj.legendData = chart.data.legendData;
    dataObj.dataTable = chart.data.dataTable;
    chart._vars.color = chart.data.color;
    dataObj.xAxisData = chart.data.xAxisData;
    dataObj.yAxisData = chart.data.yAxisData;
    dataObj.zAxisData = chart.data.zAxisData;
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);

    //TODO remove these from draw object
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateScatter');

    chart.generateScatter();
    chart.createLineGuide();

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

function calculateMean(data, type) {
    return d3.mean(data, function (value) {
        return +value[type];
    });
}

function createLineGuide() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        chartData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData;

    var xLineVal = calculateMean(chartData, dataTable.x);
    var yLineVal = calculateMean(chartData, dataTable.y);

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    svg.selectAll('g.lineguide.x').remove();
    svg.selectAll('g.lineguide.y').remove();

    var lineGroup = svg.append('g').attr('class', 'line-group');

    //x line group for crosshair
    var lineGuideX = lineGroup.append('g').attr('class', 'lineguide x').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //y line group for crosshair
    var lineGuideY = lineGroup.append('g').attr('class', 'lineguide y').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //create crosshair based on median x (up/down) 'potentially' passed with data
    lineGuideX.attr('x1', x(xLineVal)).attr('y1', 0).attr('x2', x(xLineVal)).attr('y2', container.height);

    //create crosshair based on median y (left/right) 'potentially' passed with data
    lineGuideY.attr('x1', 0).attr('y1', y(yLineVal)).attr('x2', container.width).attr('y2', y(yLineVal));

    return lineGroup;
}
/**generateScatter
 *
 * creates and draws a scatter plot on the svg element
 * @params svg, scatterData, _vars, xAxisData, yAxisData, zAxisData, container, dataTable legendData, chartName
 * @returns {{}}
 */
function generateScatter() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        scatterData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        zAxisData = chart.currentData.zAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        scatterDataNew = JSON.parse(JSON.stringify(scatterData));

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    svg.selectAll('g.scatter-container').remove();
    svg.selectAll('g.scatter-container.editable-scatter').remove();

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;
    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    var scatterDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < scatterDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (typeof scatterDataNew[j][dataTable.label] === 'undefined' || scatterDataNew[j][dataTable.label] === '') {
                    if (legendElementToggleArray[i].toggle === false) {
                        scatterDataNew[j][dataTable.x] = -1;
                        scatterDataNew[j][dataTable.y] = -1;
                        scatterDataNew[j][dataTable.z] = -1;
                    }
                } else if (legendElementToggleArray[i].element === scatterDataNew[j][dataTable.series] && legendElementToggleArray[i].toggle === false) {
                    scatterDataNew[j][dataTable.x] = -1;
                    scatterDataNew[j][dataTable.y] = -1;
                    scatterDataNew[j][dataTable.z] = -1;
                }
            }
        }
    }

    for (var j = 0; j < scatterDataNew.length; j++) {
        if (scatterDataNew[j][dataTable.x] !== -1 && scatterDataNew[j][dataTable.y] !== -1) {
            scatterDataFiltered.push(scatterDataNew[j]);
        }
    }

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    if (zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0) {
        console.log(zAxisData);
        var z = jvCharts.getZScale(zAxisData, container, chart._vars);
    }

    var cxTranslate, cyTranslate;

    cxTranslate = function cxTranslate(d, i) {
        return x(scatterDataFiltered[i][xAxisData.label]);
    };
    cyTranslate = function cyTranslate(d, i) {
        return y(scatterDataFiltered[i][yAxisData.label]);
    };

    var scatters = svg.append('g').attr('class', 'scatter-container').selectAll('g');

    scatters.data(function () {
        return scatterDataFiltered;
    }).enter().append('circle').attr('class', function (d, i) {
        return 'editable editable-scatter scatter-circle-' + i + ' highlight-class';
    }).attr('cx', function (d, i) {
        return cxTranslate(d, i);
    }).attr('cy', function (d, i) {
        return cyTranslate(d, i);
    }).attr("opacity", 0.8).attr('r', function (d, i) {
        if (dataTable.hasOwnProperty('z')) {
            if (chart._vars.toggleZ && zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0 && scatterDataFiltered[i][dataTable.z]) {
                return z(scatterDataFiltered[i][dataTable.z]);
            }
        }
        return chart._vars.NODE_MIN_SIZE;
    }).on('mouseover', function (d, i, j) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function () {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    }).attr('fill', function (d, i) {
        var color;
        if (dataTable.hasOwnProperty('series')) {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.series]);
        } else {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.label]);
        }
        return color;
    });

    return scatters;
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],19:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.singleaxis = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.getSingleAxisData = getSingleAxisData;
jvCharts.prototype.getSingleAxisZ = getSingleAxisZ;
jvCharts.prototype.generatePoints = generatePoints;

/************************************************ Single Axis Cluster functions ******************************************************/

function setData(chart) {
    chart.currentData = { chartData: chart.data.chartData, dataTable: chart.data.dataTable };

    //Set the legend Data to the label from dataTable Keys
    chart.currentData.legendData = [chart.currentData.dataTable.x];
    chart.currentData.xAxisData = chart.getSingleAxisData(chart.currentData.chartData, chart.currentData.dataTable);

    if (chart.currentData.dataTable.hasOwnProperty('size')) {
        chart.currentData.zAxisData = chart.getSingleAxisZ(chart.currentData.chartData);
    }

    chart.currentData.color = 'red'; //chart.setChartColors (chart._vars.color, chart.data.legendData, colors);
}

function paint(chart) {
    var splitData = {},
        //If there is a split, the data that has been split
    numVizzes,
        //If there is a split, the number of single axis clusters that are created
    customSize = {},
        //If there is a split, the svg needs to be a custom predefined height
    margin = {
        top: 40,
        left: 100,
        right: 75,
        bottom: 50
    };

    //If there is a split on the viz, run through this logic
    if (chart._vars.splitData != "" && chart._vars.splitData != "none") {
        //Check to see how many vizzes need to be created because of the split
        debugger;
        var splitDataKeys = [];
        var splitOptionName = chart._vars.splitData.replace(/_/g, " ");

        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            var addToKeys = true;
            for (var j = 0; j < splitDataKeys.length; j++) {
                if (chart.currentData.chartData[i][splitOptionName] === splitDataKeys[j]) {
                    addToKeys = false;
                    break;
                }
            }
            if (addToKeys) {
                splitDataKeys.push(chart.currentData.chartData[i][splitOptionName]);
            }
        }

        //Create Object with keys and assign each element of the data array to corresponding object
        for (var i = 0; i < splitDataKeys.length; i++) {
            splitData[splitDataKeys[i]] = []; //Assign empty array to each location
        }

        //Assign Data elements to appropriate place in splitData object
        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            splitData[chart.currentData.chartData[i][splitOptionName]].push(chart.currentData.chartData[i]);
        }

        numVizzes = splitDataKeys.length;

        customSize = {};

        customSize.height = numVizzes * 300;

        chart.generateSVG(chart.currentData.legendData, margin, customSize);
        chart.generateXAxis(chart.currentData.xAxisData);
        chart.drawGridlines(chart.currentData.xAxisData);

        for (var i = 0; i < numVizzes; i++) {
            chart.generatePoints(splitData[splitDataKeys[i]], i);
        }
    }
    //When there isn't a split, the base case
    else {
            chart.generateSVG(chart.currentData.legendData, margin);
            chart.generateXAxis(chart.currentData.xAxisData);
            chart.drawGridlines(chart.currentData.xAxisData);
            chart.generatePoints(chart.currentData.chartData);
        }

    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function getSingleAxisZ(data) {
    var chart = this,
        size = chart.currentData.dataTable.size,
        min = data[0][size],
        max = data[0][size];
    //Find min and max of the data
    for (var i = 0; i < data.length; i++) {
        var num = data[i][size];
        if (num > max) {
            max = num;
        } else if (num < min) {
            min = num;
        }
    }

    return {
        'min': min,
        'max': max,
        'label': size
    };
}

function generatePoints(data, yLevel) {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        zAxisData = chart.currentData.zAxisData,
        container = chart.config.container,
        pointColor = "#609cdb",
        coloredPoint = "#e88a17";

    var x = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars);

    var SPLIT_CLUSTER_HEIGHT = 300;
    var TRANSLATE_SPLIT_CLUSTER = 150;

    //If there's a split, account for the multiple axes
    var currentAxisHeight;
    if (yLevel != null) {
        currentAxisHeight = yLevel * SPLIT_CLUSTER_HEIGHT + TRANSLATE_SPLIT_CLUSTER; //Each height is 100px
    } else {
        currentAxisHeight = height / 2;
    }

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    //Add a path line through the height of the axis
    if (yLevel != null) {
        svg.append("line").attr("x1", 0).attr("x2", container.width).attr("y1", currentAxisHeight).attr("y2", currentAxisHeight).attr("stroke", "white").attr("stroke-width", "20px").attr("transform", "translate(0, " + TRANSLATE_SPLIT_CLUSTER + ")");

        svg.append("text").datum(data).attr("x", 0).attr("y", currentAxisHeight).text(function (d, i) {
            return d[0][chart._vars.splitData.replace(/_/g, ' ')];
        }).attr("transform", "translate(-85, 0)");
    }

    var simulation = d3.forceSimulation(data).alphaDecay(.05).force("x", d3.forceX(function (d) {
        return x(d[dataTable.x]);
    }).strength(1)).force("y", d3.forceY(currentAxisHeight)).force("collide", d3.forceCollide(function (d, i) {
        //Set collision radius equal to the radius of the circle
        if (dataTable.hasOwnProperty('size')) {
            var norm = (d[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
        } else {
            var val = chart._vars.NODE_MIN_SIZE;
        }
        return val;
    }).strength(1)).force("charge", d3.forceManyBody().strength(-6)).stop();
    //

    //On Draw Move Points
    function moveTowardDataPosition(alpha) {
        return function (d) {
            d.x += (x(d.x) - d.x) * .1 * alpha;
            d.y += (y(d.y) - d.y) * .05 * alpha;
        };
    }

    for (var i = 0; i < 120; ++i) {
        simulation.tick();
    }var cell = svg.append("g").attr("class", "cells").selectAll("g").data(d3.voronoi().extent([[0, 0], [width, height]]).x(function (d) {
        return d.x;
    }).y(function (d) {
        return d.y;
    }).polygons(data)).enter().append("g").attr("class", "cell-container");

    cell.append("circle").attr("r", function (d, i, j) {
        if (dataTable.hasOwnProperty('size') && d != null && d.hasOwnProperty('data')) {
            var norm = (d.data[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            if (!isNaN(norm)) {
                var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
            } else {
                //If there is only 1 node on the chart
                var val = chart._vars.NODE_MIN_SIZE;
            }
        } else if (d == null) {
            var val = 0; //Don't display undefined nodes
        } else {
            var val = chart._vars.NODE_MIN_SIZE; //Default node size of 15
        }
        //val = 3;
        return val;
    }).attr("cx", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.x;
        }
    }).attr("cy", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.y;
        }
    }).attr("fill", function (d) {
        if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
            return coloredPoint;
        } else {
            return pointColor;
        }
    }).attr("opacity", .8).attr("stroke", "black").attr("stroke-width", 1).on("mouseenter", function (d, i) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, dataTable, d3.event);
        }
        d3.select(this).attr("fill", "red");
    }).on("mouseleave", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
        d3.select(this).attr("fill", function (d) {
            if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
                return coloredPoint;
            } else {
                return pointColor;
            }
        });
    });
}

function getSingleAxisData(data, dataTable) {
    var chart = this;
    var label,
        dataType,
        min,
        max,
        values = [];

    if (dataTable) {
        if (dataTable.hasOwnProperty('x')) {
            label = dataTable.x;
        }
    }

    dataType = 'NUMBER';

    for (var i = 0; i < data.length; i++) {
        values.push(data[i][dataTable.x]);
    }

    min = Math.min.apply(null, values);
    max = Math.max.apply(null, values);

    //Add a 10% buffer to both sides
    min = Math.floor(min - (max - min) * .10);
    max = Math.ceil(max + (max - min) * .10);

    //For axis min/max widget
    if (chart._vars.hasOwnProperty('xMin') && chart._vars.xMin != 'none') {
        min = chart.options.xMin;
    }
    if (chart._vars.hasOwnProperty('xMax') && chart._vars.xMax != 'none') {
        max = chart._vars.xMax;
    }

    return {
        'label': label,
        'values': values,
        'dataType': dataType,
        'min': min,
        'max': max
    };
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],20:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sunburst = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateSunburst = generateSunburst;

/************************************************ Sunburst functions ******************************************************/

/**setSunburstChartData
 *  gets sunburst data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.color = chart.colors;
}

function paint(chart) {
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var sunburstMargins = {
        top: 15,
        right: 15,
        bottom: 15,
        left: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, sunburstMargins);
    // chart.generateLegend(chart.currentData.legendData, 'generateSunburst');
    chart.generateSunburst(chart.currentData);
}

/** generateSunburst
 *
 * paints the sunburst on the chart
 * @params sunburstData
 */
function generateSunburst(sunburstData) {

    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        chartName = chart.config.name,
        width = container.width,
        height = container.height,
        radius = Math.min(width, height) / 2 - 10;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    var formatNumber = d3.format(",d");

    var x = d3.scaleLinear().range([0, 2 * Math.PI]);

    var y = d3.scaleSqrt().range([0, radius]);

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 1;return c;
    }));

    // var color = d3.scaleOrdinal(d3.schemeCategory10);

    var partition = d3.partition();

    var arc = d3.arc().startAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x0)));
    }).endAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x1)));
    }).innerRadius(function (d) {
        return Math.max(0, y(d.y0));
    }).outerRadius(function (d) {
        return Math.max(0, y(d.y1));
    });

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    root.sum(function (d) {
        return d.value;
    });

    var vis = svg.append("g").attr("class", "sunburst").attr("width", width).attr("height", height).attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    vis.selectAll("path").data(partition(root).descendants()).enter().append("g").attr("class", "node");

    var path = vis.selectAll(".node").append("path").attr("d", arc).style("fill", function (d) {
        if (d.data.name === "root") {
            d.color = chart._vars.backgroundColor;
            return chart._vars.backgroundColor;
        } else {
            d.color = color(d.data.name);
            return color(d.data.name);
        }
    }).on("mouseenter", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
    }).on("click", click).on("mouseout", function (d) {
        chart.tip.hideTip();
    });

    if (chart._vars.displayValues) {
        var text = vis.selectAll(".node").append("text").attr("transform", function (d) {
            return "rotate(" + computeTextRotation(d) + ")";
        }).attr("x", function (d) {
            return y(d.y0);
        }).attr("dx", "6") // margin
        .attr("dy", ".35em") // vertical-align
        .text(function (d) {
            return d.data.name === "root" ? "" : d.data.name;
        });
    }

    function click(d) {
        // fade out all text elements
        if (chart._vars.displayValues) {
            text.transition().attr("opacity", 0);
        }

        vis.transition().duration(750).tween("scale", function () {
            var xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
                yd = d3.interpolate(y.domain(), [d.y0, 1]),
                yr = d3.interpolate(y.range(), [d.y0 ? 20 : 0, radius]);

            return function (t) {
                x.domain(xd(t));y.domain(yd(t)).range(yr(t));
            };
        }).selectAll("path").attrTween("d", function (d) {
            return function () {
                return arc(d);
            };
        }).on("end", function (e, i) {
            if (chart._vars.displayValues) {
                // check if the animated element's data e lies within the visible angle span given in d
                if (e.x0 > d.x0 && e.x0 < d.x1) {
                    // get a selection of the associated text element
                    var arcText = d3.select(this.parentNode).select("text");
                    // fade in the text element and recalculate positions
                    arcText.transition().duration(750).attr("opacity", 1).attr("class", "visible").attr("transform", function () {
                        return "rotate(" + computeTextRotation(e) + ")";
                    }).attr("x", function (d) {
                        return y(d.y0);
                    }).text(function (d) {
                        return d.data.name === "root" ? "" : d.data.name;
                    });
                }
            }
        });
    }

    function computeTextRotation(d) {
        return (x((d.x0 + d.x1) / 2) - Math.PI / 2) / Math.PI * 180;
    }
};

module.exports = jvCharts;

},{"../jvCharts.js":3}],21:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.treemap = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateTreeMap = generateTreeMap;
/************************************************ TreeMap functions ******************************************************/

/**setTreeMapData
 *  gets treemap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setTreeMapLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setTreeMapLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setTreeMapLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint(chart) {
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var treeMapMargins = {
        top: 45,
        right: 50,
        left: 50,
        bottom: 130
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, treeMapMargins);
    chart.generateLegend(chart.currentData.legendData, 'generateTreeMap');
    chart.generateTreeMap(chart.currentData);
};

/** generateTreeMap
 *
 * paints the treemap on the chart
 * @params treeMapData
 */
function generateTreeMap(treeMapData) {

    var chart = this,
        svg = chart.svg,
        colors = treeMapData.color,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        treemap = null,
        chartName = chart.config.name;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, chart.data.legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < newData.children.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === newData.children[j][relationMap.series] && legendElementToggleArray[i].toggle === false) {
                    newData.children[j].show = false;
                }
            }
        }
    }

    var treeMapDataFiltered = {};
    treeMapDataFiltered["Parent"] = "Top Level";
    treeMapDataFiltered.children = [];

    for (var j = 0; j < newData.children.length; j++) {
        if (newData.children[j].show !== false) {
            treeMapDataFiltered.children.push(newData.children[j]);
        }
    }

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(treeMapDataFiltered, function (d) {
        return d.children;
    });

    var treemap = d3.treemap().size([container.width, container.height]).padding(2);

    var nodes = treemap(root.sum(function (d) {
        return d[relationMap.size];
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    //Remove existing bars from page
    svg.selectAll("g.treemap").remove();
    svg.append("g").attr("class", "treemap");

    var node = svg.select(".treemap").selectAll("g").data(root.leaves()).enter().append('g').attr('transform', function (d) {
        return 'translate(0,0)';
    });

    node.append('rect')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("fill", function (d, i) {
        return jvCharts.getColors(colors, i, d.data[relationMap.series]);
    }).attr("fill-opacity", .8).attr("stroke", chart._vars.white).attr("stroke-width", chart._vars.strokeWidth).on("mouseover", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d.data, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);

        var rect = d3.select(this);
        rect.attr("fill", chart._vars.light);
        rect.transition().duration(200);
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        var rect = d3.select(this);
        rect.attr("fill", function (d, i) {
            return jvCharts.getColors(colors, i, d.data[relationMap.series]);
        });
        rect.transition().duration(200);
    });

    node.append('text')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("transform", "translate(3, 18)").text(function (d) {
        if (d.dy !== 0) {
            return d.children ? null : d.data[relationMap.label];
        }
    });

    /* Don't display text if text is wider than rect */
    var temp = svg.select(".treemap").selectAll("g").selectAll("text");
    temp.attr("style", function (d) {
        if (this.getBBox().width >= d.x1 - d.x0 - 5) {
            return "display:none";
        }
        if (this.getBBox().height >= d.y1 - d.y0 - 5) {
            return "display:none";
        }
    });
};
module.exports = jvCharts;

},{"../jvCharts.js":3}],22:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.cloud = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateCloud = generateCloud;

/************************************************ Cloud functions ******************************************************/

/**setCloudData
 *  gets cloud data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    //define color object for chartData
    chart.data.color = chart.colors;
};

/**setCloudLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setCloudLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint(chart) {
    chart.options.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var cloudMargins = {
        top: 15,
        right: 15,
        left: 15,
        bottom: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, cloudMargins);
    // chart.generateLegend(chart.currentData.legendData, 'generateCloud');
    chart.generateCloud(chart.currentData);
};

/** generateCloud
 *
 * paints the cloud  on the chart
 * @params cloud Data
 */
function generateCloud(cloudData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        chartName = chart.config.name,
        width = container.width,
        height = container.height,
        margin = chart.config.margin,
        min,
        max;

    var categories = d3.keys(d3.nest().key(function (d) {
        if (!min && !max) {
            min = d[relationMap.value];
            max = d[relationMap.value];
        } else {
            if (d[relationMap.value] > max) {
                max = d[relationMap.value];
            }
            if (d[relationMap.value] < min) {
                min = d[relationMap.value];
            }
        }
        return d[relationMap.value];
    }).map(cloudData.chartData));

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    var fontSize = d3.scalePow().exponent(5).domain([0, 1]).range([10, 80]);

    var layout = d3.layout.cloud().timeInterval(10).size([width, height]).words(cloudData.chartData).rotate(function (d) {
        return 0;
    }).font('Roboto').fontSize(function (d, i) {
        return fontSize(max - min !== 0 ? (d[relationMap.value] - min) / (max - min) : 0);
    }).text(function (d) {
        return d[relationMap.label];
    }).spiral("archimedean").on("end", draw).start();

    var wordcloud = svg.append("g").attr('class', 'wordcloud').attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    function draw(words) {
        wordcloud.selectAll("text").data(cloudData.chartData).enter().append("text").attr('class', 'word').style("font-size", function (d) {
            return d.size + "px";
        }).style("font-family", function (d) {
            return d.font;
        }).style("fill", function (d) {
            return color(d[relationMap.value]);
        }).attr("text-anchor", "middle").attr("transform", function (d) {
            return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
        }).text(function (d) {
            return d.text;
        }).on("mouseover", function (d, i) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            tipData.color = color(d[relationMap.value]);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }).on("mouseout", function (d) {
            chart.tip.hideTip();
        });
    }
};

module.exports = jvCharts;

},{"../jvCharts.js":3}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGp2LmpzIiwic3JjXFxqdkJydXNoLmpzIiwic3JjXFxqdkNoYXJ0cy5qcyIsInNyY1xcanZDb21tZW50LmpzIiwic3JjXFxqdkVkaXQuanMiLCJzcmNcXGp2U2VsZWN0LmpzIiwic3JjXFxqdlRpcC5qcyIsInNyY1xcanZWYXJzLmpzIiwic3JjXFx2aXN1YWxzXFxqdkFyZWEuanMiLCJzcmNcXHZpc3VhbHNcXGp2QmFyLmpzIiwic3JjXFx2aXN1YWxzXFxqdkdhbnR0LmpzIiwic3JjXFx2aXN1YWxzXFxqdkhlYXRtYXAuanMiLCJzcmNcXHZpc3VhbHNcXGp2TGluZS5qcyIsInNyY1xcdmlzdWFsc1xcanZQYWNrLmpzIiwic3JjXFx2aXN1YWxzXFxqdlBpZS5qcyIsInNyY1xcdmlzdWFsc1xcanZSYWRpYWwuanMiLCJzcmNcXHZpc3VhbHNcXGp2U2Fua2V5LmpzIiwic3JjXFx2aXN1YWxzXFxqdlNjYXR0ZXIuanMiLCJzcmNcXHZpc3VhbHNcXGp2U2luZ2xlQXhpcy5qcyIsInNyY1xcdmlzdWFsc1xcanZTdW5idXJzdC5qcyIsInNyY1xcdmlzdWFsc1xcanZUcmVlbWFwLmpzIiwic3JjXFx2aXN1YWxzXFxqdldvcmRDbG91ZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7O0FBQ0EsUUFBUSxhQUFSO0FBQ0EsUUFBUSxZQUFSO0FBQ0EsUUFBUSxjQUFSO0FBQ0EsUUFBUSxnQkFBUjtBQUNBLFFBQVEsYUFBUjtBQUNBLFFBQVEsb0JBQVI7QUFDQSxRQUFRLG9CQUFSO0FBQ0EsUUFBUSxxQkFBUjtBQUNBLFFBQVEsd0JBQVI7QUFDQSxRQUFRLHFCQUFSO0FBQ0EsUUFBUSxzQkFBUjtBQUNBLFFBQVEsd0JBQVI7QUFDQSxRQUFRLHFCQUFSO0FBQ0EsUUFBUSx1QkFBUjtBQUNBLFFBQVEsdUJBQVI7QUFDQSxRQUFRLDJCQUFSO0FBQ0EsUUFBUSx5QkFB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SyxLQVBMLENBT1csYUFQWCxFQU8wQixVQUFVLENBQVYsRUFBYTtBQUMvQixtQkFBTyxFQUFFLElBQVQ7QUFDSCxTQVRMLEVBVUssS0FWTCxDQVVXLE1BVlgsRUFVbUIsVUFBVSxDQUFWLEVBQWE7QUFDeEIsbUJBQU8sTUFBTSxFQUFFLFlBQVksS0FBZCxDQUFOLENBQVA7QUFDSCxTQVpMLEVBYUssSUFiTCxDQWFVLGFBYlYsRUFheUIsUUFiekIsRUFjSyxJQWRMLENBY1UsV0FkVixFQWN1QixVQUFVLENBQVYsRUFBYTtBQUFFLG1CQUFPLGVBQWUsQ0FBQyxFQUFFLENBQUgsRUFBTSxFQUFFLENBQVIsQ0FBZixHQUE0QixVQUE1QixHQUF5QyxFQUFFLE1BQTNDLEdBQW9ELEdBQTNEO0FBQWlFLFNBZHZHLEVBZUssSUFmTCxDQWVVLFVBQVUsQ0FBVixFQUFhO0FBQUUsbUJBQU8sRUFBRSxJQUFUO0FBQWdCLFNBZnpDLEVBZ0JLLEVBaEJMLENBZ0JRLFdBaEJSLEVBZ0JxQixVQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCO0FBQzdCO0FBQ0EsZ0JBQUksVUFBVSxNQUFNLFVBQU4sQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsQ0FBZDtBQUNBLG9CQUFRLEtBQVIsR0FBZ0IsTUFBTSxFQUFFLFlBQVksS0FBZCxDQUFOLENBQWhCOztBQUVBO0FBQ0Esa0JBQU0sR0FBTixDQUFVLGlCQUFWLENBQTRCLE9BQTVCLEVBQXFDLE1BQU0sSUFBTixDQUFXLFNBQWhELEVBQTJELEdBQUcsS0FBOUQ7QUFDSCxTQXZCTCxFQXdCSyxFQXhCTCxDQXdCUSxVQXhCUixFQXdCb0IsVUFBVSxDQUFWLEVBQWE7QUFDekIsa0JBQU0sR0FBTixDQUFVLE9BQVY7QUFDSCxTQTFCTDtBQTJCSDtBQUVKOztBQUVELE9BQU8sT0FBUCxHQUFpQixRQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIndXNlIHN0cmljdCc7XHJcbi8vYWRkIGFsbCByZXF1aXJlZCBmaWxlc1xyXG5yZXF1aXJlKCcuL2p2VmFycy5qcycpO1xyXG5yZXF1aXJlKCcuL2p2VGlwLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZCcnVzaC5qcycpO1xyXG5yZXF1aXJlKCcuL2p2Q29tbWVudC5qcycpO1xyXG5yZXF1aXJlKCcuL2p2RWRpdC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZCYXIuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2UGllLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkxpbmUuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2U2NhdHRlci5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZBcmVhLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkdhbnR0LmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkhlYXRtYXAuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2UGFjay5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZSYWRpYWwuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2U2Fua2V5LmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlNpbmdsZUF4aXMuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2U3VuYnVyc3QuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2VHJlZW1hcC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZXb3JkQ2xvdWQuanMnKTtcclxuXHJcbi8vYXR0YWNoIGp2IGNoYXJ0cyBvYmplY3RzIHRvIHRoZSB3aW5kb3dcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi9qdkNoYXJ0cy5qcycpO1xyXG52YXIganZCcnVzaCA9IHJlcXVpcmUoJy4vanZCcnVzaC5qcycpO1xyXG52YXIganZDb21tZW50ID0gcmVxdWlyZSgnLi9qdkNvbW1lbnQuanMnKTtcclxudmFyIGp2RWRpdCA9IHJlcXVpcmUoJy4vanZFZGl0LmpzJyk7XHJcbnZhciBqdlNlbGVjdCA9IHJlcXVpcmUoJy4vanZTZWxlY3QnKTtcclxuXHJcbi8vQ29tbWVudCBvdXQgdG8gcmVtb3ZlIGZyb20gd2luZG93IG9iamVjdCAtIGlmIHlvdSBhcmUgbm90IHVzaW5nIGp2Q2hhcnRzIGFzIGEgbWluaWZpZWQgZmlsZVxyXG53aW5kb3cuanZDaGFydHMgPSBqdkNoYXJ0cztcclxud2luZG93Lmp2QnJ1c2ggPSBqdkJydXNoO1xyXG53aW5kb3cuanZDb21tZW50ID0ganZDb21tZW50O1xyXG53aW5kb3cuanZFZGl0ID0ganZFZGl0O1xyXG53aW5kb3cuanZTZWxlY3QgPSBqdlNlbGVjdDtcclxuIiwiLyoqKiAganZCcnVzaCAqKiovXHJcbmZ1bmN0aW9uIGp2QnJ1c2goY29uZmlnT2JqKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgYnJ1c2hPYmogPSB0aGlzO1xyXG4gICAgYnJ1c2hPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBicnVzaE9iai5icnVzaERpdiA9ICcnO1xyXG4gICAgYnJ1c2hPYmouanZDaGFydCA9IGNvbmZpZ09iai5qdkNoYXJ0O1xyXG4gICAgYnJ1c2hPYmouZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIGJydXNoT2JqLnRvZ2dsZUJydXNoTW9kZSA9IGZ1bmN0aW9uICh0b2dnbGVCb29sKSB7XHJcbiAgICAgICAgaWYgKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICAgICAgYnJ1c2hPYmouc3RhcnRCcnVzaCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJydXNoT2JqLnJlbW92ZUJydXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGJydXNoT2JqLmZpbHRlckNhbGxiYWNrRnVuY3Rpb24gPSBjb25maWdPYmouZmlsdGVyQ2FsbGJhY2tGdW5jdGlvbjtcclxufVxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBBbGwgQnJ1c2ggTW9kZSBGdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5qdkJydXNoLnByb3RvdHlwZS5yZW1vdmVCcnVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBicnVzaE9iaiA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gYnJ1c2hPYmouanZDaGFydC5zdmc7XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnLmJydXNoYXJlYScpLnJlbW92ZSgpO1xyXG59O1xyXG5cclxuanZCcnVzaC5wcm90b3R5cGUuc3RhcnRCcnVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBicnVzaE9iaiA9IHRoaXMsXHJcbiAgICAgICAgaGVpZ2h0ID0gYnJ1c2hPYmouanZDaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICB3aWR0aCA9IGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBzdmcgPSBicnVzaE9iai5qdkNoYXJ0LnN2ZztcclxuXHJcbiAgICBpZiAoYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgYnJ1c2hPYmouYnJ1c2hUeXBlID0gJ3gnO1xyXG4gICAgICAgIHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hhcmVhJylcclxuICAgICAgICAgICAgLnN0eWxlKCdoZWlnaHQnLCBoZWlnaHQgKyAncHgnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3dpZHRoJywgd2lkdGggKyAncHgnKVxyXG4gICAgICAgICAgICAuY2FsbChkMy5icnVzaFgoKVxyXG4gICAgICAgICAgICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdlbmQnLCBicnVzaEVuZCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBicnVzaE9iai5icnVzaFR5cGUgPSAneHknO1xyXG4gICAgICAgIHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYnJ1c2hhcmVhJylcclxuICAgICAgICAgICAgLnN0eWxlKCdoZWlnaHQnLCBoZWlnaHQgKyAncHgnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3dpZHRoJywgd2lkdGggKyAncHgnKVxyXG4gICAgICAgICAgICAuY2FsbChkMy5icnVzaCgpXHJcbiAgICAgICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2VuZCcsIGJydXNoRW5kKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKmJydXNoRW5kXHJcbiAgICAgKiBAZGVzYyAtIGZ1bmN0aW9uIGNhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSB1c2VyIGJydXNoaW5nXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGJydXNoRW5kKCkge1xyXG4gICAgICAgIHZhciB4U2NhbGUgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUsXHJcbiAgICAgICAgICAgIHlTY2FsZSA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEueUF4aXNTY2FsZSxcclxuICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscyA9IFtdLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gW10sXHJcbiAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGUgPSBkMy5ldmVudC5zZWxlY3Rpb24sXHJcbiAgICAgICAgICAgIHJldHVybk9iaixcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHMgPSBbXSxcclxuICAgICAgICAgICAgZmlsdGVyZWRDb25jZXB0cyA9IHt9LFxyXG4gICAgICAgICAgICBpbmRleCxcclxuICAgICAgICAgICAgZmlsdGVyQ29sLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZExhYmVsc1gsXHJcbiAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWTtcclxuXHJcbiAgICAgICAgaWYgKGUpIHtcclxuICAgICAgICAgICAgaWYgKCBicnVzaE9iai5icnVzaFR5cGUgPT09ICd4eScpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4U2NhbGUgJiYgdHlwZW9mIHhTY2FsZS5pbnZlcnQgIT09ICdmdW5jdGlvbicpIHsgLy9tZWFucyB0aGF0IHRoZSBzY2FsZSBpcyBvcmRpbmFsIGFuZCBub3QgbGluZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbChlWzBdWzBdLCBlWzFdWzBdLCB4U2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gcmV0dXJuT2JqLnNob3VsZFJlc2V0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh4U2NhbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NhbGN1bGF0ZSBsYWJlbHMgZm9yIGxpbmVhciBzY2FsZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYUxpbmVhcihlWzBdWzBdLCBlWzFdWzBdLCB4U2NhbGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUsICd4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSByZXR1cm5PYmouc2hvdWxkUmVzZXQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHlTY2FsZSAmJiB0eXBlb2YgeVNjYWxlLmludmVydCAhPT0gJ2Z1bmN0aW9uJykgeyAvL21lYW5zIHRoYXQgdGhlIHNjYWxlIGlzIG9yaWRuYWwgYW5kIG5vdCBsaW5lYXJcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFPcmRpbmFsKGVbMF1bMV0sIGVbMV1bMV0sIHlTY2FsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh5U2NhbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NhbGN1bGF0ZSBsYWJlbHMgZm9yIGxpbmVhciBzY2FsZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYUxpbmVhcihlWzBdWzFdLCBlWzFdWzFdLCB5U2NhbGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUsICd5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2xvdWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQ2xvdWRCcnVzaChlLCBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUhlYXRtYXBCcnVzaChlLCBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLCBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy5tYXJnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWCA9IHJldHVybk9iai5maWx0ZXJlZFhBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWSA9IHJldHVybk9iai5maWx0ZXJlZFlBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChicnVzaE9iai5icnVzaFR5cGUgPT09ICd4Jykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKGVbMF0sIGVbMV0sIHhTY2FsZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSwgJ3gnKTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmaWx0ZXJlZFhBeGlzTGFiZWxzLmxlbmd0aCA+IDAgJiYgZmlsdGVyZWRZQXhpc0xhYmVscy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vbWVyZ2UgYXhpc0xhYmVsc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbHRlcmVkWEF4aXNMYWJlbHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gZmlsdGVyZWRZQXhpc0xhYmVscy5pbmRleE9mKGZpbHRlcmVkWEF4aXNMYWJlbHNbal0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZExhYmVscy5wdXNoKGZpbHRlcmVkWEF4aXNMYWJlbHNbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZFhBeGlzTGFiZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHMgPSBmaWx0ZXJlZFhBeGlzTGFiZWxzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRZQXhpc0xhYmVscy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzID0gZmlsdGVyZWRZQXhpc0xhYmVscztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgaWYgKCFzaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlckNvbFggPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS54O1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlckNvbFkgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS55O1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkTGFiZWxzWC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xYXSA9IGZpbHRlcmVkTGFiZWxzWDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZExhYmVsc1kubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ29uY2VwdHNbZmlsdGVyQ29sWV0gPSBmaWx0ZXJlZExhYmVsc1k7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmaWx0ZXJDb2wgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xdID0gZmlsdGVyZWRMYWJlbHM7XHJcblxyXG4gICAgICAgIC8vY2FsbHMgYmFjayB0byB1cGRhdGUgZGF0YSB3aXRoIGJydXNoZWQgZGF0YVxyXG4gICAgICAgIGJydXNoT2JqLmZpbHRlckNhbGxiYWNrRnVuY3Rpb24oZmlsdGVyZWRDb25jZXB0cywgc2hvdWxkUmVzZXQpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbFxyXG4gKlxyXG4gKiBAcGFyYW0gbW91c2VQb3NNaW5cclxuICogQHBhcmFtIG1vdXNlUG9zTWF4XHJcbiAqIEBwYXJhbSBzY2FsZVxyXG4gKiBAcmV0dXJucyBPYmplY3RcclxuICogQGRlc2MgY2FsY3VsYXRlcyB0aGUgb3JkaW5hbCB2YWx1ZXMgdGhhdCBhcmUgaW4gdGhlIGJydXNoZWQgYXJlYVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbChtb3VzZVBvc01pbiwgbW91c2VQb3NNYXgsIHNjYWxlKSB7XHJcbiAgICB2YXIgZG9tYWluID0gc2NhbGUuZG9tYWluKCksXHJcbiAgICAgICAgcGFkZGluZyA9IHNjYWxlLnBhZGRpbmcoKSxcclxuICAgICAgICBzdGVwID0gc2NhbGUuc3RlcCgpLFxyXG4gICAgICAgIG1pbkluZGV4LCBtYXhJbmRleCxcclxuICAgICAgICBwYWRkaW5nRGlzdGFuY2UgPSBwYWRkaW5nICogc3RlcCAvIDIsXHJcbiAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG5cclxuICAgIC8vZGV0ZXJtaW5lIG1pbiBpbmRleFxyXG4gICAgaWYgKG1vdXNlUG9zTWluICUgc3RlcCA+IHN0ZXAgLSBwYWRkaW5nRGlzdGFuY2UpIHtcclxuICAgICAgICAvL2Rvbid0IGluY2x1ZGUgb24gbWluIHNpZGVcclxuICAgICAgICBtaW5JbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWluIC8gc3RlcCkgKyAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9pbmNsdWRlIG9uIG1pbiBzaWRlXHJcbiAgICAgICAgbWluSW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01pbiAvIHN0ZXApKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2RldGVybWluZSBtYXggaW5kZXhcclxuICAgIGlmIChtb3VzZVBvc01heCAlIHN0ZXAgPCBwYWRkaW5nRGlzdGFuY2UpIHtcclxuICAgICAgICAvL2Rvbid0IGluY2x1ZGUgb24gbWF4IHNpZGVcclxuICAgICAgICBtYXhJbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWF4IC8gc3RlcCkgLSAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9pbmNsdWRlIG9uIG1heCBzaWRlXHJcbiAgICAgICAgbWF4SW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01heCAvIHN0ZXApKTtcclxuICAgICAgICBpZiAobWF4SW5kZXggPT09IGRvbWFpbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbWF4SW5kZXggLT0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmlsdGVyZWRBeGlzTGFiZWxzID0gZG9tYWluLnNsaWNlKG1pbkluZGV4LCBtYXhJbmRleCArIDEpO1xyXG5cclxuICAgIHJldHVybiB7ZmlsdGVyZWRBeGlzTGFiZWxzOiBmaWx0ZXJlZEF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiBmaWx0ZXJlZEF4aXNMYWJlbHMubGVuZ3RoID09PSAwfTtcclxufVxyXG5cclxuLyoqY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbFxyXG4gKlxyXG4gKiBAcGFyYW0gbW91c2VQb3NNaW5cclxuICogQHBhcmFtIG1vdXNlUG9zTWF4XHJcbiAqIEBwYXJhbSBzY2FsZVxyXG4gKiBAcGFyYW0gZGF0YSBjaGFydERhdGFcclxuICogQHBhcmFtIHR5cGUgdmlzdWFsIHR5cGVcclxuICogQHBhcmFtIGF4aXMgLSB4IC8geVxyXG4gKiBAcmV0dXJucyBPYmplY3RcclxuICogQGRlc2MgY2FsY3VsYXRlcyB0aGUgb3JkaW5hbCB2YWx1ZXMgdGhhdCBhcmUgaW4gdGhlIGJydXNoZWQgYXJlYVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKG1vdXNlUG9zTWluLCBtb3VzZVBvc01heCwgc2NhbGUsIGRhdGEsIHR5cGUsIGF4aXMpIHtcclxuICAgIHZhciBmaWx0ZXJlZEF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4LFxyXG4gICAgICAgIGF4aXNMYWJlbDtcclxuXHJcbiAgICAvL3N3aXRjaCBtaW4gYW5kIG1heCBpZiBzY2FsZSBpcyB5IGR1ZSB0byBzdmcgZHJhd2luZyAoeSBheGlzIGluY3JlYXNlcyB1cCB0aGUgc2NyZWVuIHdoaWxlIG1vdXNlUG9zIGRlY3JlYXNlcylcclxuICAgIGlmIChheGlzID09PSAneScpIHtcclxuICAgICAgICBtYXggPSBzY2FsZS5pbnZlcnQobW91c2VQb3NNaW4pO1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01heCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01pbik7XHJcbiAgICAgICAgbWF4ID0gc2NhbGUuaW52ZXJ0KG1vdXNlUG9zTWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ2JhcicpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVnZW5kRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBheGlzTGFiZWwgPSBkYXRhLmxlZ2VuZERhdGFbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdID49IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGEuY2hhcnREYXRhW2pdW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsaW5lJyAgfHwgdHlwZSA9PT0gJ2FyZWEnIHx8IHR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZWdlbmREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF4aXNMYWJlbCA9IGRhdGEubGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzLnB1c2goZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NjYXR0ZXJwbG90Jykge1xyXG4gICAgICAgIGF4aXNMYWJlbCA9IGRhdGEuZGF0YVRhYmxlW2F4aXNdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHMucHVzaChkYXRhLmNoYXJ0RGF0YVtqXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICBheGlzTGFiZWwgPSBkYXRhLmRhdGFUYWJsZVtheGlzXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdIDw9IG1heCAmJiBkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdID49IG1pbikge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzLnB1c2goZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge2ZpbHRlcmVkQXhpc0xhYmVsczogZmlsdGVyZWRBeGlzTGFiZWxzLCBzaG91bGRSZXNldDogZmlsdGVyZWRBeGlzTGFiZWxzLmxlbmd0aCA9PT0gMH07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVDbG91ZEJydXNoKGUsIGRhdGEpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBkID0gZGF0YVtpXTtcclxuICAgICAgICB2YXIgbW91c2VYMCA9IGVbMF1bMF07XHJcbiAgICAgICAgdmFyIG1vdXNlWDEgPSBlWzBdWzFdO1xyXG4gICAgICAgIHZhciBtb3VzZVkwID0gZVsxXVswXTtcclxuICAgICAgICB2YXIgbW91c2VZMSA9IGVbMV1bMV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVIZWF0bWFwQnJ1c2goZSwgZGF0YSkge1xyXG4gICAgdmFyIG1vdXNlWG1pbiA9IGVbMF1bMF07XHJcbiAgICB2YXIgbW91c2VZbWluID0gZVswXVsxXTtcclxuICAgIHZhciBtb3VzZVhtYXggPSBlWzFdWzBdO1xyXG4gICAgdmFyIG1vdXNlWW1heCA9IGVbMV1bMV07XHJcbiAgICB2YXIgZmlsdGVyZWRYQXhpc0xhYmVscyA9IFtdO1xyXG4gICAgdmFyIGZpbHRlcmVkWUF4aXNMYWJlbHMgPSBbXTtcclxuICAgIHZhciBmaWx0ZXJlZERhdGEgPSBbXTtcclxuICAgIHZhciByZXNldCA9IHRydWU7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3VzZVhtYXgvMjA7IGkrKykge1xyXG4gICAgICAgIGlmKGkgPj0gbW91c2VYbWluLzIwKXtcclxuICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscy5wdXNoKGRhdGEueEF4aXNEYXRhLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgICAgIHJlc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3VzZVltYXgvMjA7IGkrKykge1xyXG4gICAgICAgIGlmKGkgPj0gbW91c2VZbWluLzIwKXtcclxuICAgICAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscy5wdXNoKGRhdGEueUF4aXNEYXRhLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgICAgIHJlc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vTWlnaHQgbmVlZCB3aGVuIG5ldyBQS1FMIHBpeGVsLi4uIGNvbWVzIG91dFxyXG4gICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICAgIHZhciBkID0gZGF0YS5jaGFydERhdGFbaV07XHJcbiAgICAvLyAgICAgaWYoZmlsdGVyZWRYQXhpc0xhYmVscy5pbmNsdWRlcyhkW2RhdGEuZGF0YVRhYmxlLnhdKSAmJiBmaWx0ZXJlZFlBeGlzTGFiZWxzLmluY2x1ZGVzKGRbZGF0YS5kYXRhVGFibGUueV0pKSB7XHJcbiAgICAvLyAgICAgICAgIGZpbHRlcmVkRGF0YVgucHVzaChkW2RhdGEuZGF0YVRhYmxlLnhdKTtcclxuICAgIC8vICAgICAgICAgZmlsdGVyZWREYXRhWS5wdXNoKGRbZGF0YS5kYXRhVGFibGUueV0pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICByZXR1cm4ge2ZpbHRlcmVkWEF4aXNMYWJlbHM6IGZpbHRlcmVkWEF4aXNMYWJlbHMsIGZpbHRlcmVkWUF4aXNMYWJlbHM6IGZpbHRlcmVkWUF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiByZXNldH07XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZCcnVzaDsiLCIndXNlIHN0cmljdCc7XHJcbi8qKiogIGp2Q2hhcnRzICoqKi9cclxudmFyIGp2VGlwID0gcmVxdWlyZSgnLi9qdlRpcC5qcycpO1xyXG5cclxuLyoqQ3JlYXRlIGEganZDaGFydHMgb2JqZWN0XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIC0gQ29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkIGludG8ganZDaGFydHMgY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ09iai50eXBlIC0gVGhlIHR5cGUgb2YgY2hhcnRcclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ09iai5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmouY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBvZiB0aGUgY2hhcnRcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai51c2VyT3B0aW9ucyAtIFVJIG9wdGlvbnMgZm9yIHRoZSBjaGFydFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqLnRpcENvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBqdlRvb2x0aXBcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai5jaGFydERpdiAtIEEgZGl2IHdyYXBwZXIgZm9yIHRoZSBjaGFydCBhbmQgb3RoZXIganYgZmVhdHVyZXNcclxuICovXHJcbmNsYXNzIGp2Q2hhcnRzIHtcclxuICAgIGNvbnN0cnVjdG9yIChjb25maWdPYmopIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIGNoYXJ0LmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgdHlwZTogY29uZmlnT2JqLnR5cGUudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgbmFtZTogY29uZmlnT2JqLm5hbWUsXHJcbiAgICAgICAgICAgIGNvbnRhaW5lcjogY29uZmlnT2JqLmNvbnRhaW5lclxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNoYXJ0LmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgICAgIGNoYXJ0LmxvY2FsQ2FsbGJhY2tSZWxhdGVkSW5zaWdodHMgPSBjb25maWdPYmoubG9jYWxDYWxsYmFja1JlbGF0ZWRJbnNpZ2h0cztcclxuICAgICAgICBjb25maWdPYmoub3B0aW9ucyA9IGNsZWFuVG9vbERhdGEoY29uZmlnT2JqLm9wdGlvbnMpO1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzID0gY2hhcnQuZ2V0RGVmYXVsdE9wdGlvbnMoY29uZmlnT2JqLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnT2JqLmhhc093blByb3BlcnR5KCdpbmZpbml0ZVNjcm9sbEZ1bmMnKSkge1xyXG4gICAgICAgICAgICBjaGFydC5pbmZpbml0ZVNjcm9sbEZ1bmMgPSBjb25maWdPYmouaW5maW5pdGVTY3JvbGxGdW5jO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZ09iai5oYXNPd25Qcm9wZXJ0eSgnc29ydENvbHVtbkZ1bmMnKSkge1xyXG4gICAgICAgICAgICBjaGFydC5zb3J0Q29sdW1uRnVuYyA9IGNvbmZpZ09iai5zb3J0Q29sdW1uRnVuYztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjaGFydC50aXAgPSBuZXcganZUaXAoe1xyXG4gICAgICAgICAgICB0eXBlOiBjb25maWdPYmoudGlwQ29uZmlnLnR5cGUsXHJcbiAgICAgICAgICAgIGNoYXJ0RGl2OiBjb25maWdPYmouY2hhcnREaXZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2hhcnQuc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICAgICAgY2hhcnQuZHJhdyA9IHt9O1xyXG4gICAgICAgIGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXAgPSB0cnVlO1xyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhID0ge307XHJcblxyXG4gICAgICAgIGNoYXJ0LnRvZ2dsZURlZmF1bHRNb2RlID0gZnVuY3Rpb24gKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICAgICAgaWYgKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRpcmVTdmcgPSBjaGFydC5jaGFydERpdi5zZWxlY3QoJy5lZGl0YWJsZS1zdmcnKTtcclxuICAgICAgICAgICAgICAgIGVudGlyZVN2Zy5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFydC5sb2NhbENhbGxiYWNrUmVsYXRlZEluc2lnaHRzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LmxvY2FsQ2FsbGJhY2tSZWxhdGVkSW5zaWdodHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGVudGlyZVN2Zy5vbignY2xpY2snLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5kcmF3LnNob3dUb29sVGlwID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnJlbW92ZUhpZ2hsaWdodCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZ09iai5zZXREYXRhKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmRhdGEgPSB7IGNoYXJ0RGF0YTogY29uZmlnT2JqLnNldERhdGEuZGF0YSwgZGF0YVRhYmxlOiBjb25maWdPYmouc2V0RGF0YS5kYXRhVGFibGUsIGRhdGFUYWJsZUtleXM6IGNvbmZpZ09iai5zZXREYXRhLmRhdGFUYWJsZUtleXMgfTtcclxuICAgICAgICAgICAgY2hhcnQuY29sb3JzID0gY29uZmlnT2JqLnNldERhdGEuY29sb3JzO1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnT2JqLnNldERhdGEuYWRkaXRpb25hbEluZm8pIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRhdGEuYWRkaXRpb25hbEluZm8gPSBjb25maWdPYmouc2V0RGF0YS5hZGRpdGlvbmFsSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnT2JqLnNldERhdGEubWFya2VyVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS5tYXJrZXJUeXBlID0gY29uZmlnT2JqLnNldERhdGEubWFya2VyVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGFydFtjaGFydC5jb25maWcudHlwZV0uc2V0RGF0YShjaGFydCwgY29uZmlnT2JqLnNldERhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodHlwZW9mIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5wYWludCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjaGFydFtjaGFydC5jb25maWcudHlwZV0ucGFpbnQoY2hhcnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyBwYWludCBmdW5jdGlvbiBmb3I6ICcgKyBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gZW5kIG9mIGNvbnN0cnVjdG9yXHJcblxyXG4gICAgc2V0QXhpc0RhdGEoYXhpcywgZGF0YSwga2V5cykge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGF4aXNEYXRhID0gW107XHJcbiAgICAgICAgdmFyIGNoYXJ0RGF0YSA9IGRhdGEuY2hhcnREYXRhO1xyXG4gICAgICAgIHZhciBsYWJlbCA9ICcnO1xyXG4gICAgICAgIHZhciBtYXhTdGFjayA9IDAsXHJcbiAgICAgICAgICAgIGRhdGFUYWJsZUtleXMgPSBkYXRhLmRhdGFUYWJsZUtleXMsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlO1xyXG5cclxuICAgICAgICBpZiAoIWRhdGFUYWJsZUtleXMpIHtcclxuICAgICAgICAgICAgZGF0YVRhYmxlS2V5cyA9IGtleXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1N0ZXAgMTogZmluZCBvdXQgd2hhdCB0aGUgbGFiZWwgaXMgZm9yIHRoZSBheGlzXHJcbiAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gZGF0YS5kYXRhVGFibGUubGFiZWw7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJMYWJlbCBkb2Vzbid0IGV4aXN0IGluIGRhdGFUYWJsZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhVGFibGUgZG9lcyBub3QgZXhpc3QnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YVR5cGUgPSAnU1RSSU5HJztcclxuXHJcbiAgICAgICAgICAgIC8vUmVwbGFjZSB1bmRlcnNjb3JlcyB3aXRoIHNwYWNlc1xyXG4gICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnJlcGxhY2UoL18vZywgJyAnKTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9vcCB0aHJvdWdoIGRhdGEgdG8gcG9wdWxhdGUgYXhpc0RhdGFcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydERhdGFbaV1bbGFiZWxdID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaCgnTlVMTF9WQUxVRScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1bbGFiZWxdID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goJ0VNUFRZX1NUUklORycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1bbGFiZWxdIHx8IGNoYXJ0RGF0YVtpXVtsYWJlbF0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpXVtsYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9GaW5kIHRoZSBtYXggdmFsdWUgZm9yIFkgRGF0YVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgIT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGRhdGFUYWJsZUtleXNbaV0udmFyS2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhVHlwZSA9IGdldERhdGFUeXBlRnJvbUtleXMobGFiZWwsIGRhdGFUYWJsZUtleXMpO1xyXG5cclxuICAgICAgICAgICAgLy9BZGQgYWxsIHZhbHVlcyB0aGF0IGFyZSBvbiB5YXhpcyB0byBheGlzIGRhdGFcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IDA7IC8vS2VlcHMgdHJhY2sgb2YgdGhlIG1heGltdW0gc2l6ZSBvZiBzdGFja2VkIGRhdGEgc28gdGhhdCBheGlzIGNhbiBiZSBzY2FsZWQgdG8gZml0IG1heCBzaXplXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShkYXRhLmRhdGFUYWJsZVtrXSkgJiYgayAhPT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjayArPSBjaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGVba11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZVtrXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdGFjayA+IG1heFN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4U3RhY2sgPSBzdGFjaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1JlcGxhY2UgdW5kZXJzY29yZXMgd2l0aCBzcGFjZXMgc2luY2UgbGFiZWwgaXMgcmV0cmlldmVkIGZyb20gZGF0YVRhYmxlS2V5c1xyXG4gICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRmluZCB0aGUgbWluIGFuZCBtYXggb2YgbnVtZXJpYyBkYXRhIGZvciBidWlsZGluZyBheGVzIGFuZCBhZGQgaXQgdG8gdGhlIHJldHVybmVkIG9iamVjdFxyXG4gICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnN0YWNrVG9nZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF4ID0gbWF4U3RhY2s7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF4ID0gTWF0aC5tYXguYXBwbHkobnVsbCwgYXhpc0RhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYXhpc0RhdGEpO1xyXG4gICAgICAgICAgICBtaW4gPSBNYXRoLm1pbigwLCBtaW4pO1xyXG5cclxuICAgICAgICAgICAgLy9DaGVjayBpZiB0aGVyZSdzIGFuIGF4aXMgbWluL21heCBzZXRcclxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnhNaW4gIT0gbnVsbCAmJiBjaGFydC5fdmFycy54TWluICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaGFydC5fdmFycy54TWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnhNYXggIT0gbnVsbCAmJiBjaGFydC5fdmFycy54TWF4ICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaGFydC5fdmFycy54TWF4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF4aXMgPT09ICd5Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnlNaW4gIT0gbnVsbCAmJiBjaGFydC5fdmFycy55TWluICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaGFydC5fdmFycy55TWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnlNYXggIT0gbnVsbCAmJiBjaGFydC5fdmFycy55TWF4ICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaGFydC5fdmFycy55TWF4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICdOVU1CRVInICYmIGF4aXNEYXRhLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXNEYXRhWzBdID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS51bnNoaWZ0KDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgJ2xhYmVsJzogbGFiZWwsXHJcbiAgICAgICAgICAgICAgICAndmFsdWVzJzogYXhpc0RhdGEsXHJcbiAgICAgICAgICAgICAgICAnZGF0YVR5cGUnOiBkYXRhVHlwZSxcclxuICAgICAgICAgICAgICAgICdtaW4nOiBtaW4sXHJcbiAgICAgICAgICAgICAgICAnbWF4JzogbWF4XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAgICAgJ3ZhbHVlcyc6IGF4aXNEYXRhLFxyXG4gICAgICAgICAgICAnZGF0YVR5cGUnOiBkYXRhVHlwZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKnNldEZsaXBwZWRTZXJpZXNcclxuICAgICAqICBmbGlwcyBzZXJpZXMgYW5kIHJldHVybnMgZmxpcHBlZCBkYXRhXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBjaGFydERhdGEsIGRhdGFUYWJsZSwgZGF0YUxhYmVsXHJcbiAgICAgKiBAcmV0dXJucyBPYmplY3Qgb2YgZGF0YSBhbmQgdGFibGUgZm9yIGZsaXBwZWQgc2VyaWVzXHJcbiAgICAgKi9cclxuICAgIHNldEZsaXBwZWRTZXJpZXMoZGF0YVRhYmxlS2V5cykge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNoYXJ0RGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG4gICAgICAgIHZhciBkYXRhVGFibGUgPSBjaGFydC5kYXRhLmRhdGFUYWJsZTtcclxuICAgICAgICB2YXIgZGF0YUxhYmVsID0gY2hhcnQuZGF0YS54QXhpc0RhdGEubGFiZWw7XHJcblxyXG4gICAgICAgIHZhciBmbGlwcGVkRGF0YSA9IFtdO1xyXG4gICAgICAgIHZhciBmbGlwcGVkRGF0YVRhYmxlID0ge307XHJcbiAgICAgICAgdmFyIHZhbHVlQ291bnQgPSAxO1xyXG4gICAgICAgIHZhciBmaWx0ZXJlZERhdGFUYWJsZUFycmF5ID0gW107XHJcblxyXG4gICAgICAgIGZvciAodmFyIGsgaW4gZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoaykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmbGlwcGVkT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVRhYmxlW2tdICE9PSBkYXRhTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBmbGlwcGVkT2JqZWN0W2RhdGFMYWJlbF0gPSBkYXRhVGFibGVba107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxpcHBlZE9iamVjdFtjaGFydERhdGFbaV1bZGF0YUxhYmVsXV0gPSBjaGFydERhdGFbaV1bZGF0YVRhYmxlW2tdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkRGF0YVRhYmxlQXJyYXkuaW5kZXhPZihjaGFydERhdGFbaV1bZGF0YUxhYmVsXSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGlwcGVkRGF0YVRhYmxlWyd2YWx1ZSAnICsgdmFsdWVDb3VudF0gPSBjaGFydERhdGFbaV1bZGF0YUxhYmVsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRGF0YVRhYmxlQXJyYXkucHVzaChjaGFydERhdGFbaV1bZGF0YUxhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmxpcHBlZERhdGEucHVzaChmbGlwcGVkT2JqZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmbGlwcGVkRGF0YVRhYmxlLmxhYmVsID0gZGF0YUxhYmVsO1xyXG4gICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhID0geyBjaGFydERhdGE6IGZsaXBwZWREYXRhLCBkYXRhVGFibGU6IGZsaXBwZWREYXRhVGFibGUgfTtcclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5mbGlwcGVkRGF0YSwgZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd5JywgY2hhcnQuZmxpcHBlZERhdGEsIGRhdGFUYWJsZUtleXMpO1xyXG4gICAgICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS5sZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGEoY2hhcnQuZmxpcHBlZERhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGQgYWRkaXRpb25hbCBjaGFydCB0eXBlIHRvIHNldCBmbGlwcGVkIHNlcmllcycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipvcmdhbml6ZUNoYXJ0RGF0YVxyXG4gICAgICogIHJlb3JkZXJzIGFsbCBkYXRhIGJhc2VkIG9uIHRoZSBzb3J0TGFiZWwgYW5kIHNvcnRUeXBlXHJcbiAgICAgKiAgLU9ubHkgZm9yIGNoYXJ0RGF0YSwgZG9lcyBub3Qgd29yayB3aXRoIGZsaXBwZWQgZGF0YVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbXMgc29ydExhYmVsICwgc29ydFR5cGVcclxuICAgICAqIEByZXR1cm5zIFtdIHNvcnRlZCBkYXRhXHJcbiAgICAgKi9cclxuICAgIG9yZ2FuaXplQ2hhcnREYXRhKHNvcnRQYXJhbSwgc29ydFR5cGUpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhLFxyXG4gICAgICAgICAgICBkYXRhVHlwZSxcclxuICAgICAgICAgICAgZGF0YVRhYmxlS2V5cyA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlS2V5cyxcclxuICAgICAgICAgICAgc29ydExhYmVsID0gc29ydFBhcmFtO1xyXG5cclxuICAgICAgICAvL0lmIHNvcnRMYWJlbCBkb2Vzbid0IGV4aXN0LCBzb3J0IG9uIHRoZSB4IGF4aXMgbGFiZWwgYnkgZGVmYXVsdFxyXG4gICAgICAgIGlmIChzb3J0TGFiZWwgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgPT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0TGFiZWwgPSBkYXRhVGFibGVLZXlzW2ldLnVyaTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9SZW1vdmUgdW5kZXJzY29yZXMgZnJvbSBzb3J0TGFiZWxcclxuICAgICAgICBzb3J0TGFiZWwgPSBzb3J0TGFiZWwucmVwbGFjZSgvXy9nLCAnICcpO1xyXG5cclxuICAgICAgICBpZiAoIWNoYXJ0LmRhdGEuY2hhcnREYXRhWzBdW3NvcnRMYWJlbF0pIHtcclxuICAgICAgICAgICAgLy9DaGVjayBpZiB0aGUgc29ydCBsYWJlbCBpcyBhIGNhbGN1bGF0ZWRCeSBmaWVsZFxyXG4gICAgICAgICAgICB2YXIgaXNWYWxpZFNvcnRMYWJlbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmoxID0gZGF0YVRhYmxlS2V5c1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoxLm9wZXJhdGlvbi5oYXNPd25Qcm9wZXJ0eSgnY2FsY3VsYXRlZEJ5JykgJiYgb2JqMS5vcGVyYXRpb24uY2FsY3VsYXRlZEJ5WzBdID09PSBzb3J0TGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0TGFiZWwgPSBvYmoxLnVyaS5yZXBsYWNlKC9fL2csICcgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZFNvcnRMYWJlbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9JZiBpdCdzIG5vdCBhIHZhbGlkIHNvcnQgbGFiZWwsIHJldHVybiBhbmQgZG9uJ3Qgc29ydCB0aGUgZGF0YVxyXG4gICAgICAgICAgICBpZiAoIWlzVmFsaWRTb3J0TGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vdCBhIHZhbGlkIHNvcnQnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9DaGVjayB0aGUgZGF0YSB0eXBlIHRvIGRldGVybWluZSB3aGljaCBsb2dpYyB0byBmbG93IHRocm91Z2hcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IGRhdGFUYWJsZUtleXNbaV07XHJcbiAgICAgICAgICAgIC8vTG9vcCB0aHJvdWdoIGRhdGFUYWJsZUtleXMgdG8gZmluZCBzb3J0TGFiZWxcclxuICAgICAgICAgICAgaWYgKG9iai51cmkucmVwbGFjZSgvXy9nLCAnICcpID09PSBzb3J0TGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlID0gb2JqLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9EYXRlIHNvcnRpbmdcclxuICAgICAgICBpZiAoZGF0YVR5cGUgIT0gbnVsbCAmJiBkYXRhVHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXplZERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IG5ldyBEYXRlKGFbc29ydExhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKGJbc29ydExhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYyAtIGQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgIT0gbnVsbCAmJiBkYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgb3JnYW5pemVkRGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oYVtzb3J0TGFiZWxdKSAmJiAhaXNOYU4oYltzb3J0TGFiZWxdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhW3NvcnRMYWJlbF0gLSBiW3NvcnRMYWJlbF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXplZERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGFbc29ydExhYmVsXSkgJiYgIWlzTmFOKGJbc29ydExhYmVsXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VGbG9hdChhW3NvcnRMYWJlbF0pIDwgcGFyc2VGbG9hdChiW3NvcnRMYWJlbF0pKSB7IC8vc29ydCBzdHJpbmcgYXNjZW5kaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQoYVtzb3J0TGFiZWxdKSA+IHBhcnNlRmxvYXQoYltzb3J0TGFiZWxdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYVtzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkgPCBiW3NvcnRMYWJlbF0udG9Mb3dlckNhc2UoKSkgeyAvL3NvcnQgc3RyaW5nIGFzY2VuZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhW3NvcnRMYWJlbF0udG9Mb3dlckNhc2UoKSA+IGJbc29ydExhYmVsXS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKHNvcnRUeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnc29ydEFzY2VuZGluZyc6XHJcbiAgICAgICAgY2FzZSAnYXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBvcmdhbml6ZWREYXRhO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdzb3J0RGVzY2VuZGluZyc6XHJcbiAgICAgICAgY2FzZSAnZGVzY2VuZGluZyc6XHJcbiAgICAgICAgICAgIGNoYXJ0LmRhdGEuY2hhcnREYXRhID0gb3JnYW5pemVkRGF0YS5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNoYXJ0LmRhdGEuY2hhcnREYXRhID0gb3JnYW5pemVkRGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqc2V0VGlwRGF0YVxyXG4gICAgICpcclxuICAgICAqIGNyZWF0ZXMgZGF0YSBvYmplY3QgdG8gZGlzcGxheSBpbiB0b29sdGlwXHJcbiAgICAgKiBAcGFyYW1zXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIHNldFRpcERhdGEoZCwgaSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIGRhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGE7XHJcblxyXG4gICAgICAgIC8vR2V0IENvbG9yIGZyb20gY2hhcnREYXRhIGFuZCBhZGQgdG8gb2JqZWN0XHJcbiAgICAgICAgdmFyIGNvbG9yID0gY2hhcnQuX3ZhcnMuY29sb3I7XHJcblxyXG4gICAgICAgIHZhciB0aXRsZSA9IGRbY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG4gICAgICAgIHZhciBkYXRhVGFibGUgPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAndHJlZW1hcCcpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PT0gY2hhcnQuZGF0YS5kYXRhVGFibGUuc2VyaWVzIHx8IGl0ZW0gPT09IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLnNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gPSBkW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGRhdGFbaV1bY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFbaV0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRhdGFbaV1baXRlbV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2dhbnR0Jykge1xyXG4gICAgICAgICAgICAvL0NhbGN1bGF0ZSBsZW5ndGggb2YgZGF0ZXNcclxuICAgICAgICAgICAgZm9yIChpdGVtIGluIGRhdGFbaV0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldLmhhc093blByb3BlcnR5KGl0ZW0pICYmIGl0ZW0gIT09IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLmdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZGF0YVtpXVtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZW5kLFxyXG4gICAgICAgICAgICAgICAgZGlmZmVyZW5jZTtcclxuXHJcbiAgICAgICAgICAgIC8vQ2FsY3VsdGluZyBkdXJhdGlvbiBvZiBkYXRlIHJhbmdlcyB0byBhZGQgdG8gdG9vbHRpcFxyXG4gICAgICAgICAgICB2YXIgbnVtUGFpcnMgPSBNYXRoLmZsb29yKE9iamVjdC5rZXlzKGNoYXJ0LmRhdGEuZGF0YVRhYmxlKS5sZW5ndGggLyAyKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPD0gbnVtUGFpcnM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBuZXcgRGF0ZShkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlWydzdGFydCAnICsgal1dKTtcclxuICAgICAgICAgICAgICAgIGVuZCA9IG5ldyBEYXRlKGRhdGFbaV1bY2hhcnQuZGF0YS5kYXRhVGFibGVbJ2VuZCAnICsgal1dKTtcclxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2UgPSBlbmQuZ2V0VGltZSgpIC0gc3RhcnQuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgZGF0YVRhYmxlWydEdXJhdGlvbiAnICsgal0gPSBNYXRoLmNlaWwoZGlmZmVyZW5jZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkgKyAnIGRheXMnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aXRsZSA9IGRhdGFbaV1bY2hhcnQuZGF0YS5kYXRhVGFibGUuZ3JvdXBdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdwaWUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAncmFkaWFsJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGQubGFiZWw7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gPSBkW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWxldGUgZGF0YVRhYmxlLm91dGVyUmFkaXVzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdjaXJjbGVwYWNrJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3N1bmJ1cnN0Jykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGQuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdID0gZC52YWx1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2xvdWQnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbF07XHJcbiAgICAgICAgICAgIGRhdGFUYWJsZVtjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV0gPSBkW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLnZhbHVlXTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLnlBeGlzTmFtZSArICcgdG8gJyArIGQueEF4aXNOYW1lO1xyXG4gICAgICAgICAgICBpZiAoZC5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVRhYmxlLnZhbHVlID0gZC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzYW5rZXknKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC5zb3VyY2UubmFtZSArICcgdG8gJyArIGQudGFyZ2V0Lm5hbWU7XHJcbiAgICAgICAgICAgIGlmIChkLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVGFibGUudmFsdWUgPSBkLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC5kYXRhW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gY2hhcnQuZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGVbaXRlbV1dID0gZC5kYXRhW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW2l0ZW1dXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4geyAnZGF0YSc6IGQsICd0aXBEYXRhJzogZGF0YVRhYmxlLCAnaW5kZXgnOiBpLCAndGl0bGUnOiB0aXRsZSwgJ2NvbG9yJzogY29sb3IsICd2aXonOiBjaGFydC5jb25maWcudHlwZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRHJhdyBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIC8qKmdlbmVyYXRlU1ZHXHJcbiAgICAgKmNyZWF0ZXMgYW4gU1ZHIGVsZW1lbnQgb24gdGhlIHBhbmVsXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBjb250YWluZXIsIG1hcmdpbiwgbmFtZVxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVTVkcobGVnZW5kRGF0YSwgY3VzdG9tTWFyZ2luUGFyYW0sIGN1c3RvbVNpemVQYXJhbSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG1hcmdpbiA9IHt9LFxyXG4gICAgICAgICAgICBjb250YWluZXIgPSB7fSxcclxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IGNoYXJ0LmNoYXJ0RGl2Lm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgICAgICAgICAgY3VzdG9tTWFyZ2lucyA9IGN1c3RvbU1hcmdpblBhcmFtLFxyXG4gICAgICAgICAgICBjdXN0b21TaXplID0gY3VzdG9tU2l6ZVBhcmFtLFxyXG4gICAgICAgICAgICB0ZXh0V2lkdGg7XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5jdXN0b21NYXJnaW5zKSB7XHJcbiAgICAgICAgICAgIGN1c3RvbU1hcmdpbnMgPSBjaGFydC5fdmFycy5jdXN0b21NYXJnaW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXQgbWFyZ2luc1xyXG4gICAgICAgIGlmICghY3VzdG9tTWFyZ2lucykge1xyXG4gICAgICAgICAgICAvL2RlY2xhcmUgbWFyZ2lucyBpZiB0aGV5IGFyZW50IHBhc3NlZCBpblxyXG4gICAgICAgICAgICBtYXJnaW4gPSB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDU1LFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogMTAwLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiA3MFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAobGVnZW5kRGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRGF0YS5sZW5ndGggPD0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSA3MDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVnZW5kRGF0YS5sZW5ndGggPD0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSA4NTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDEzMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbiA9IGN1c3RvbU1hcmdpbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3JlZHVjZSBtYXJnaW5zIGlmIGxlZ2VuZCBpcyB0b2dnbGVkIG9mZlxyXG4gICAgICAgIC8vVE9ETyBtYWtlIHRoaXMgYmV0dGVyXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3JhZGlhbCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdjaXJjbGVwYWNrJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4ubGVmdCA9IDQwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAndHJlZW1hcCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2NhdHRlcicgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJykge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDQwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCB5QXhpcyBtYXJnaW5zXHJcbiAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhICYmIGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSkge1xyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd5JywgY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLCBjaGFydC5fdmFycywgZGltZW5zaW9ucywgbWFyZ2luLCBjaGFydC5jaGFydERpdiwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICBtYXJnaW4ubGVmdCA9IE1hdGguY2VpbCh0ZXh0V2lkdGgpICsgMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCB4QXhpcyB0b3AgbWFyZ2luc1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnICYmIGNoYXJ0LmN1cnJlbnREYXRhICYmIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSkge1xyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd4JywgY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLCBjaGFydC5fdmFycywgZGltZW5zaW9ucywgbWFyZ2luLCBjaGFydC5jaGFydERpdiwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICAvL3N1YnRyYWN0IHNwYWNlIGZvciB0aWx0XHJcbiAgICAgICAgICAgIHRleHRXaWR0aCA9ICBNYXRoLmNlaWwodGV4dFdpZHRoKTtcclxuICAgICAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoID0gMTIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hcmdpbi50b3AgPSBNYXRoLmNlaWwodGV4dFdpZHRoKTtcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZSA9IHt9O1xyXG4gICAgICAgICAgICAvL3NldCBjb250YWluZXJcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZS53aWR0aCA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICogMjA7XHJcbiAgICAgICAgICAgIGN1c3RvbVNpemUuaGVpZ2h0ID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKiAyMDtcclxuICAgICAgICAgICAgaWYgKGN1c3RvbVNpemUud2lkdGggPCBkaW1lbnNpb25zLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4ucmlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLndpZHRoKSAtIG1hcmdpbi5sZWZ0IC0gY3VzdG9tU2l6ZS53aWR0aCAtIDEwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXN0b21TaXplLmhlaWdodCA8IGRpbWVuc2lvbnMuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gcGFyc2VJbnQoZGltZW5zaW9ucy5oZWlnaHQpIC0gbWFyZ2luLnRvcCAtIGN1c3RvbVNpemUuaGVpZ2h0IC0gMTA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcgJiYgIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGR1bW15T2JqID0ge307XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai52YWx1ZXMgPSBjaGFydC5kYXRhLmhlYXREYXRhO1xyXG4gICAgICAgICAgICAgICAgZHVtbXlPYmoudmFsdWVzLnNvcnQoZnVuY3Rpb24oYSwgYil7cmV0dXJuIGEgLSBifSk7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5sYWJlbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5taW4gPSBkdW1teU9iai52YWx1ZXNbMF07XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5tYXggPSBkdW1teU9iai52YWx1ZXNbZHVtbXlPYmoudmFsdWVzLmxlbmd0aC0xXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd5JywgZHVtbXlPYmosIGNoYXJ0Ll92YXJzLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0LmNoYXJ0RGl2LCBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuaGVhdFdpZHRoID0gTWF0aC5jZWlsKHRleHRXaWR0aCkgKyAzMDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gbWFyZ2luLmxlZnQgKyBjaGFydC5jb25maWcuaGVhdFdpZHRoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0IGNvbnRhaW5lciBhdHRyaWJ1dGVzXHJcbiAgICAgICAgLy9TZXQgc3ZnIHNpemUgYmFzZWQgb24gY2FsY3VsYXRpb24gbWFyZ2lucyBvciBjdXN0b20gc2l6ZSBpZiBzcGVjaWZpZWRcclxuICAgICAgICBpZiAoY3VzdG9tU2l6ZSAmJiBjdXN0b21TaXplLmhhc093blByb3BlcnR5KCdoZWlnaHQnKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ID0gY3VzdG9tU2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmhlaWdodCA9IHBhcnNlSW50KGRpbWVuc2lvbnMuaGVpZ2h0KSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGN1c3RvbVNpemUgJiYgY3VzdG9tU2l6ZS5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIud2lkdGggPSBjdXN0b21TaXplLndpZHRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci53aWR0aCA9IHBhcnNlSW50KGRpbWVuc2lvbnMud2lkdGgpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2FkZCBtYXJnaW4gYW5kIGNvbnRhaW5lciB0byBjaGFydCBjb25maWcgb2JqZWN0XHJcbiAgICAgICAgY2hhcnQuY29uZmlnLm1hcmdpbiA9IG1hcmdpbjtcclxuICAgICAgICBjaGFydC5jb25maWcuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBvbGQgc3ZnIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgIGNoYXJ0LnN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vc3ZnIGxheWVyXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgICAgICBjaGFydC5zdmcgPSBjaGFydC5jaGFydERpdi5hcHBlbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZWRpdGFibGUtc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNvbnRhaW5lci53aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGNvbnRhaW5lci5oZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbnRhaW5lcicpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgbWFyZ2luLmxlZnQgKyAnLCcgKyAobWFyZ2luLnRvcCkgKyAnKScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LmFwcGVuZCgnc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdmdWxsLXdpZHRoIGZ1bGwtaGVpZ2h0IGVkaXRhYmxlLXN2ZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCBjb250YWluZXIud2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjb250YWluZXIuaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsJyArIChtYXJnaW4udG9wKSArICcpJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1RPRE8gbW92ZSB0byBlZGl0IG1vZGVcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgY2hhcnQuY29sb3JCYWNrZ3JvdW5kKGNoYXJ0Ll92YXJzLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKmdlbmVyYXRlWEF4aXNcclxuICAgICAqIGNyZWF0ZXMgeCBheGlzIG9uIHRoZSBzdmdcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIHhBeGlzRGF0YVxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZVhBeGlzKHhBeGlzRGF0YSwgdGlja3MpIHtcclxuICAgICAgICAvL2RlY2xhcmUgdmFyaWFibGVzXHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIC8vTmVlZCB0byBnZXRYQXhpc1NjYWxlIGVhY2ggdGltZSBzbyB0aGF0IGF4aXMgdXBkYXRlcyBvbiByZXNpemVcclxuICAgICAgICAgICAgeEF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY2hhcnQuY29uZmlnLmNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpLFxyXG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICB4QXhpc0NsYXNzID0gJ3hBeGlzTGFiZWxzIGVkaXRhYmxlIGVkaXRhYmxlLXhBeGlzIGVkaXRhYmxlLXRleHQnO1xyXG5cclxuICAgICAgICAvL2Fzc2lnbiBjc3MgY2xhc3MgZm9yIGVkaXQgbW9kZVxyXG4gICAgICAgIC8vaWYgdGhlIGF4aXMgaXMgbnVtYmVycyBhZGQgZWRpdGFibGUtbnVtXHJcbiAgICAgICAgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgeEF4aXNDbGFzcyArPSAnIGVkaXRhYmxlLW51bSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3JlbW92ZSBwcmV2aW91cyB4QXhpcyBjb250YWluZXIgaWYgaXRzIHRoZXJlXHJcbiAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vU2F2ZSB0aGUgYXhpcyBzY2FsZSB0byBjaGFydCBvYmplY3RcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlID0geEF4aXNTY2FsZTtcclxuXHJcbiAgICAgICAgdmFyIHRpY2tTaXplID0gMDtcclxuICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICB0aWNrU2l6ZSA9IDU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NyZWF0ZSB4QXhpcyBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICAgICAgeEF4aXMgPSBkMy5heGlzVG9wKHhBeGlzU2NhbGUpXHJcbiAgICAgICAgICAgICAgICAudGlja1NpemUodGlja1NpemUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4QXhpc1NjYWxlKVxyXG4gICAgICAgICAgICAgICAgLnRpY2tTaXplKHRpY2tTaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aWNrcykge1xyXG4gICAgICAgICAgICB4QXhpcy50aWNrcyh0aWNrcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIGF4aXNIZWlnaHQgPSBjb250YWluZXJIZWlnaHQ7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHsvL0ZvciBhbnkgYXhlcyB0aGF0IGFyZSBvbiB0b3Agb2YgdGhlIGRhdGFcclxuICAgICAgICAgICAgYXhpc0hlaWdodCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgeENvbnRlbnQgPSBjaGFydC5zdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hBeGlzQ29udGFpbmVyJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKGF4aXNIZWlnaHQpICsgJyknKTtcclxuXHJcbiAgICAgICAgdmFyIHhBeGlzR3JvdXAgPSB4Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneEF4aXMnKVxyXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbigwKVxyXG4gICAgICAgICAgICAuY2FsbCh4QXhpcyk7XHJcblxyXG4gICAgICAgIHZhciBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZSh4QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBheGlzXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3QoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlV2lkdGgpO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgZm9yIHRpY2tzXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJ2xpbmUnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBsYWJlbHMgZm9yIGVhY2ggcGllY2Ugb2YgZGF0YVxyXG4gICAgICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpLy9DdXN0b21pemUgdGhlIGNvbG9yIG9mIGF4aXMgbGFiZWxzXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIHhBeGlzQ2xhc3MpXHJcbiAgICAgICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAzKScpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJyB8fCBjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBsYWJlbCBmb3IgdGhlIGVudGlyZSBheGlzXHJcbiAgICAgICAgeENvbnRlbnQuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hMYWJlbCcpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneExhYmVsIGVkaXRhYmxlIGVkaXRhYmxlLXRleHQgZWRpdGFibGUtY29udGVudCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4QXhpc0RhdGEubGFiZWw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBjb250YWluZXJXaWR0aCAvIDIgKyAnLCAzMyknKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipGb3JtYXRYQXhpc0xhYmVsc1xyXG4gICAgICpcclxuICAgICAqIElmIHgtYXhpcyBsYWJlbHMgYXJlIHRvbyBsb25nL292ZXJsYXBwaW5nLCB0aGV5IHdpbGwgYmUgaGlkZGVuL3Nob3J0ZW5lZFxyXG4gICAgICovXHJcbiAgICBmb3JtYXRYQXhpc0xhYmVscyhkYXRhTGVuZ3RoLCByZWN1cnNpb24pIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzaG93QXhpc0xhYmVscyA9IHRydWUsXHJcbiAgICAgICAgICAgIHhBeGlzTGVuZ3RoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgdGV4dFdpZHRoID0gW10sXHJcbiAgICAgICAgICAgIGZvcm1hdFZhbHVlVHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlLFxyXG4gICAgICAgICAgICBheGlzVmFsdWVzID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcztcclxuXHJcbiAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZShheGlzVmFsdWVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIGR1bW15IHRleHQgdG8gZGV0ZXJtaW5lIGNvbXB1dGVkIHRleHQgbGVuZ3RoIGZvciB0aGUgYXhpcyBsYWJlbHNcclxuICAgICAgICAvL25lY2Vzc2FyeSB0byBkbyB0aGlzIGJlY2F1c2UgYXhpcyBsYWJlbHMgZ2V0QkJveCgpIGlzIHJldHVybmluZyAwIHNpbmNlIHRoZXkgZG8gbm90IHNlZW0gdG8gYmUgZHJhd24geWV0XHJcbiAgICAgICAgY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5kdW1teVRleHQnKVxyXG4gICAgICAgICAgICAuZGF0YShheGlzVmFsdWVzKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gZDtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSBqdkZvcm1hdFZhbHVlKGQsIGZvcm1hdFZhbHVlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2FkZGluZyAxMHB4IGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNXaWR0aCA9IHRoaXMuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgKyAxMDtcclxuICAgICAgICAgICAgICAgIHRleHRXaWR0aC5wdXNoKHRoaXNXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpOyAvL3JlbW92ZSB0aGVtIGp1c3QgYWZ0ZXIgZGlzcGxheWluZyB0aGVtXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRXaWR0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdGV4dEVsZVdpZHRoID0gdGV4dFdpZHRoW2ldO1xyXG4gICAgICAgICAgICBpZiAodGV4dEVsZVdpZHRoID4geEF4aXNMZW5ndGggLyBkYXRhTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93QXhpc0xhYmVscyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2hvd0F4aXNMYWJlbHMpIHtcclxuICAgICAgICAgICAgaWYgKHJlY3Vyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsIGRhdGFMZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy54QXhpc0xhYmVscycpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhTGVuZ3RoID4gMSAmJiBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIC8vcmVjdXJzaXZlbHkga2VlcCBkZWNyZWFzaW5nIHRvIGZpZ3VyZSBvdXQgdGlja3MgbGVuZ3RoIHRvIHJlcGFpbnQgdGhlIHhBeGlzIGlmIGl0cyBudW1lcmljXHJcbiAgICAgICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKChkYXRhTGVuZ3RoIC0gMSksIHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy54QXhpcycpLnNlbGVjdEFsbCgndGV4dCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2VuZXJhdGVZQXhpc1xyXG4gICAgICogY3JlYXRlcyB5IGF4aXMgb24gdGhlIHN2Z1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbXMgZ2VuZXJhdGVZQXhpc1xyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZVlBeGlzKHlBeGlzRGF0YSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Ll92YXJzKSxcclxuICAgICAgICAgICAgeUF4aXNDbGFzcyA9ICd5QXhpc0xhYmVscyBlZGl0YWJsZSBlZGl0YWJsZS15QXhpcyBlZGl0YWJsZS10ZXh0JyxcclxuICAgICAgICAgICAgbWF4WUF4aXNMYWJlbFdpZHRoLFxyXG4gICAgICAgICAgICBudW1iZXJPZlRpY2tzID0gTWF0aC5mbG9vcihjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCAvIDE0KSxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHlDb250ZW50LFxyXG4gICAgICAgICAgICB5QXhpc0dyb3VwO1xyXG5cclxuICAgICAgICAvL2Fzc2lnbiBjc3MgY2xhc3MgZm9yIGVkaXQgbW9kZVxyXG4gICAgICAgIC8vaWYgdGhlIGF4aXMgaXMgbnVtYmVycyBhZGQgZWRpdGFibGUtbnVtXHJcbiAgICAgICAgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgeUF4aXNDbGFzcyArPSAnIGVkaXRhYmxlLW51bSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1NhdmUgeSBheGlzIHNjYWxlIHRvIGNoYXJ0IG9iamVjdFxyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzU2NhbGUgPSB5QXhpc1NjYWxlO1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBwcmV2aW91cyBzdmcgZWxlbWVudHNcclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcueUF4aXNDb250YWluZXInKS5yZW1vdmUoKTtcclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCd0ZXh0LnlMYWJlbCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBpZiAobnVtYmVyT2ZUaWNrcyA+IDEwKSB7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXJPZlRpY2tzIDwgMjApIHtcclxuICAgICAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSAxMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChudW1iZXJPZlRpY2tzIDwgMzApIHtcclxuICAgICAgICAgICAgICAgIG51bWJlck9mVGlja3MgLz0gMjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSAxNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeUF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgICAgIC50aWNrcyhudW1iZXJPZlRpY2tzKS8vTGluayB0byBEMy5zdmcuYXhpcyBvcHRpb25zOiBodHRwczovL2dpdGh1Yi5jb20vbWJvc3RvY2svZDMvd2lraS9TVkctQXhlc1xyXG4gICAgICAgICAgICAuc2NhbGUoeUF4aXNTY2FsZSkvL1NldHMgdGhlIHNjYWxlIHRvIHVzZSBpbiB0aGUgYXhpc1xyXG4gICAgICAgICAgICAudGlja1NpemUoNSkvL1NldHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgYXhpcyBsaW5lXHJcbiAgICAgICAgICAgIC50aWNrUGFkZGluZyg1KTtcclxuXHJcbiAgICAgICAgLy9IaWRlIEF4aXMgdmFsdWVzIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAgIGlmICh5QXhpc0RhdGEuaGlkZVZhbHVlcykge1xyXG4gICAgICAgICAgICB5QXhpcy50aWNrRm9ybWF0KCcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHlDb250ZW50ID0gY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5QXhpc0NvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICB5Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneUxhYmVsJylcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5TGFiZWwgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbC1vcGFjaXR5JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAoLWNoYXJ0LmNvbmZpZy5tYXJnaW4ubGVmdCArIDEwKSArICcsIC0xMCknKVxyXG4gICAgICAgICAgICAudGV4dCh5QXhpc0RhdGEubGFiZWwpXHJcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDApXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsLW9wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgeUF4aXNHcm91cCA9IHlDb250ZW50LmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5QXhpcycpO1xyXG5cclxuXHJcbiAgICAgICAgeUF4aXNHcm91cFxyXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbigwKVxyXG4gICAgICAgICAgICAuY2FsbCh5QXhpcyk7XHJcblxyXG4gICAgICAgIC8vU3R5bGluZyBmb3IgQXhpc1xyXG4gICAgICAgIHlBeGlzR3JvdXAuc2VsZWN0KCdwYXRoJylcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLnN0cm9rZVdpZHRoKTtcclxuXHJcbiAgICAgICAgbWF4WUF4aXNMYWJlbFdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHlBeGlzRGF0YS5oaWRlVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIC8vU3R5bGluZyBmb3IgdGlja3NcclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vU3R5bGluZyBmb3IgdGlja3NcclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5zdHJva2UpO1xyXG4gICAgICAgICAgICAvL1N0eWxpbmcgZm9yIGRhdGEgbGFiZWxzIG9uIGF4aXNcclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpLy9DdXN0b21pemUgdGhlIGNvbG9yIG9mIGF4aXMgbGFiZWxzXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCB5QXhpc0NsYXNzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoMCknKS8vQWRkIGxvZ2ljIHRvIHJvdGF0ZSBheGlzIGJhc2VkIG9uIHNpemUgb2YgdGl0bGVcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZvcm1hdFZhbHVlVHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKHlBeGlzRGF0YS52YWx1ZXMpO1xyXG5cclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkLnN1YnN0cmluZygwLCBtYXhMZW5ndGgpICsgJy4uLic7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkZvcm1hdFZhbHVlKGN1cnJlbnQsIGZvcm1hdFZhbHVlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoalswXS5nZXRCQm94KCkud2lkdGggPiBtYXhZQXhpc0xhYmVsV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WUF4aXNMYWJlbFdpZHRoID0galswXS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWF4WUF4aXNMYWJlbFdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMueUxhYmVsV2lkdGggPSBNYXRoLmNlaWwobWF4WUF4aXNMYWJlbFdpZHRoKSArIDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBMZWdlbmQgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICBnZW5lcmF0ZUxlZ2VuZChsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvL1JldHVybnMgdGhlIGxlZ2VuZCByZWN0YW5nbGVzIHRoYXQgYXJlIHRvZ2dsZWQgb24vb2ZmXHJcbiAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgIGlmIChkcmF3RnVuYykge1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMgIT09ICdub25lJyAmJiBjaGFydC5fdmFycy50aGVzaG9sZExlZ2VuZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0ID4gMjAwICYmIGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGggPiAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZChjaGFydCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2hhcnQuX3ZhcnMudG9nZ2xlTGVnZW5kKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZC1jYXJvdXNlbCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kXHJcbiAgICAgKlxyXG4gICAgICogY3JlYXRlcyBhbmQgZHJhd3MgYSB2ZXJ0aWNhbCBsZWdlbmQgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW1zIHN2ZywgbGVnZW5kRGF0YSwgb3B0aW9ucywgY29udGFpbmVyLCBjaGFydERhdGEsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjaGFydFR5cGVcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZChwYWludEZ1bmMpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhO1xyXG5cclxuICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vUmV0dXJucyB0aGUgbGVnZW5kIHJlY3RhbmdsZXMgdGhhdCBhcmUgdG9nZ2xlZCBvbi9vZmZcclxuICAgICAgICB2YXIgbGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIHBhaW50RnVuYyk7XHJcbiAgICAgICAgaWYgKHBhaW50RnVuYyAhPT0gJ2dlbmVyYXRlUGFjaycpIHtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIHBhaW50RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogR2VuZXJhdGVzIGEgY2xpcCBwYXRoIHRoYXQgY29udGFpbnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjaGFydCBhcmVhIHRvIHRoZSB2aWV3IG9mIHRoZSBjaGFydCBhcmVhIGNvbnRhaW5lclxyXG4gICAgICogaS5lIC0gZG9uJ3Qgd2FudCBiYXJzIGdvaW5nIGJlbG93IHRoZSB4IGF4aXNcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVDbGlwUGF0aCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIHR5cGUgPSBjaGFydC5jb25maWcudHlwZTtcclxuXHJcbiAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vQnJlYWsgdGhpcyBvdXQgaW50byBsb2dpYyBmb3IgYWxsIG90aGVyIHZpenplcyB0aGF0IGhhdmUgb3ZlcmZsb3cgaXNzdWVzXHJcbiAgICAgICAgdmFyIGNvbnRhaW5lck5hbWUgPSAnLicgKyB0eXBlICsgJy1jb250YWluZXInO1xyXG4gICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAuc2VsZWN0KGNvbnRhaW5lck5hbWUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRocmVzaG9sZChkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRocmVzaG9sZHM/IE9iamVjdC5rZXlzKHRocmVzaG9sZHMpLmxlbmd0aCA6IDA7XHJcblxyXG4gICAgICAgIGlmICh0aHJlc2hvbGRzICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gdGhyZXNob2xkc1tpXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codHlwZW9mIGRhdGEgPT0gXCJkYXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPj0gTnVtYmVyKHRocmVzaG9sZC50aHJlc2hvbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyZWN0LScgKyBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlTGluZVRocmVzaG9sZCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIHdpZHRoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZHMgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzLFxyXG4gICAgICAgICAgICBsZW5ndGggPSBPYmplY3Qua2V5cyhjaGFydC5fdmFycy50aHJlc2hvbGRzKS5sZW5ndGg7XHJcblxyXG4gICAgICAgIHZhciB4ID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZTtcclxuICAgICAgICB2YXIgeSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzU2NhbGU7XHJcblxyXG4gICAgICAgIGlmICh0aHJlc2hvbGRzICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IHRocmVzaG9sZHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgaGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgdGhyZXNob2xkLnRocmVzaG9sZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sb3JCYWNrZ3JvdW5kKGNvbG9yKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICB2YXIgY2hhcnREaXYgPSBjaGFydC5jaGFydERpdjtcclxuICAgICAgICBjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcclxuICAgICAgICBjaGFydERpdi5zdHlsZSgnYmFja2dyb3VuZC1jb2xvcicsICcnICsgY29sb3IpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqZGlzcGxheVZhbHVlc1xyXG4gICAgICpcclxuICAgICAqIHRvZ2dsZXMgZGF0YSB2YWx1ZXMgdGhhdCBhcmUgZGlzcGxheWVkIG9uIHRoZSBzcGVjaWZpYyB0eXBlIG9mIGNoYXJ0IG9uIHRoZSBzdmdcclxuICAgICAqIEBwYXJhbXMgc3ZnLCBiYXJEYXRhLCBvcHRpb25zLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIGRpc3BsYXlWYWx1ZXMoKSB7XHJcbiAgICAgICAgLy9UT0RPIHJlY2VpdmUgZGF0YSBzaW1pbGFyIHRvIGdlbmVyYXRlQmFyXHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgICAgICBiYXJEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLFxyXG4gICAgICAgICAgICBsZWdlbmRPcHRpb25zID0gY2hhcnQuX3ZhcnMubGVnZW5kT3B0aW9ucztcclxuXHJcbiAgICAgICAgLy9JZiBzZXJpZXMgaXMgZmxpcHBlZCwgdXNlIGZsaXBwZWQgZGF0YTsgaW5pdGlhbGl6ZSB3aXRoIHRoZSBmdWxsIGRhdGEgc2V0XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgYmFyRGF0YSA9IGNoYXJ0LmZsaXBwZWREYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgbGVnZW5kT3B0aW9ucyA9IGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRPcHRpb25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmRpc3BsYXlWYWx1ZXMgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmRpc3BsYXlWYWx1ZUNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTsvL09ubHkgc3RvcmVzIHZhbHVlcyBmb3IgYmFyc1xyXG4gICAgICAgICAgICB2YXIgYmFyRGF0YU5ldyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYmFyRGF0YSkpOy8vQ29weSBvZiBiYXJEYXRhXHJcblxyXG4gICAgICAgICAgICBpZiAobGVnZW5kT3B0aW9ucykgey8vQ2hlY2tpbmcgd2hpY2ggbGVnZW5kIGVsZW1lbnRzIGFyZSB0b2dnbGVkIG9uIHJlc2l6ZVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiYXJEYXRhTmV3Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRPcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWdlbmRPcHRpb25zW2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBiYXJEYXRhTmV3W2pdW2xlZ2VuZE9wdGlvbnNbaV0uZWxlbWVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFyRGF0YU5ldy5sZW5ndGg7IGkrKykgey8vYmFyRGF0YU5ldyB1c2VkXHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdmFsdWVzKGJhckRhdGFOZXdbaV0sIGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHZhbC5zbGljZSgwLCBiYXJEYXRhTmV3W2ldLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zQ2FsYyA9IGdldFBvc0NhbGN1bGF0aW9ucyhiYXJEYXRhTmV3LCBjaGFydC5fdmFycywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgICAgICAgICAvL3ZhciBmb3JtYXQgPSBnZXRGb3JtYXRFeHByZXNzaW9uKFwiZGlzcGxheVZhbHVlc1wiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBhIGNvbnRhaW5lciBmb3IgZGlzcGxheSB2YWx1ZXMgb3ZlciBlYWNoIGJhciBncm91cFxyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlWYWx1ZXNHcm91cCA9XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gKHkucGFkZGluZ091dGVyKCkgKiB5LnN0ZXAoKSkgKyAoeS5zdGVwKCkgKiBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsJyArIHRyYW5zbGF0ZSArICcpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVZhbHVlc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLndpZHRoKGQsIGksIGopICsgcG9zQ2FsYy54KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy55KGQsIGksIGopICsgKHBvc0NhbGMuaGVpZ2h0KGQsIGksIGopIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblRleHQgPSBNYXRoLnJvdW5kKGQgKiAxMDApIC8gMTAwOy8vcm91bmQgdG8gMiBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShyZXR1cm5UZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBhIGRpc3BsYXkgdmFsdWVzIGNvbnRhaW5lciBvdmVyIGVhY2ggYmFyIGdyb3VwXHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzcGxheVZhbHVlc0dyb3VwID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZXNHcm91cCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWVzR3JvdXAnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gKHgucGFkZGluZ091dGVyKCkgKiB4LnN0ZXAoKSkgKyAoeC5zdGVwKCkgKiBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIHRyYW5zbGF0ZSArICcsMCknO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vc2V0cyB0aGUgeCBwb3NpdGlvbiBvZiB0aGUgYmFyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgocG9zQ2FsYy54KGQsIGksIGopICsgKHBvc0NhbGMud2lkdGgoZCwgaSwgaikgLyAyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChwb3NDYWxjLnkoZCwgaSwgaikpOy8vKyBwb3NDYWxjLmhlaWdodChkLCBpLCBqKSAtIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblRleHQgPSBNYXRoLnJvdW5kKGQgKiAxMDApIC8gMTAwOy8vUm91bmQgdG8gMiBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBmb3JtYXQocmV0dXJuVGV4dCk7Ly9leHByZXNzaW9uKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShyZXR1cm5UZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcuZGlzcGxheVZhbHVlQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdHcmlkbGluZXMoYXhpc0RhdGEpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG5cclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCdnLmdyaWRMaW5lcycpLnJlbW92ZSgpO1xyXG4gICAgICAgIGNoYXJ0LnN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZ3JpZExpbmVzJyk7XHJcbiAgICAgICAgdmFyIHNjYWxlRGF0YTtcclxuXHJcbiAgICAgICAgLy9EZXRlcm1pbmUgaWYgZ3JpZGxpbmVzIGFyZSBob3Jpem9udGFsIG9yIHZlcnRpY2FsIGJhc2VkIG9uIHJvdGF0ZUF4aXNcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2dhbnR0JyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIHZhciBncmlkTGluZUhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgeEF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIGF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZURhdGEgPSBheGlzRGF0YS52YWx1ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IHhBeGlzU2NhbGUudGlja3MoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3QoJy5ncmlkTGluZXMnKS5zZWxlY3RBbGwoJy5ob3Jpem9udGFsR3JpZCcpLmRhdGEoc2NhbGVEYXRhKS5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Jpem9udGFsR3JpZCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geEF4aXNTY2FsZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhBeGlzU2NhbGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyaWRMaW5lSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5heGlzQ29sb3I7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZ3JpZExpbmVXaWR0aCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGg7XHJcbiAgICAgICAgICAgIHZhciB5QXhpc1NjYWxlID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgYXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IGF4aXNEYXRhLnZhbHVlcztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicgfHwgYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgc2NhbGVEYXRhID0geUF4aXNTY2FsZS50aWNrcygxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdCgnLmdyaWRMaW5lcycpLnNlbGVjdEFsbCgnLmhvcml6b250YWxHcmlkJykuZGF0YShzY2FsZURhdGEpLmVudGVyKClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2hvcml6b250YWxHcmlkJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ3JpZExpbmVXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlBeGlzU2NhbGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5QXhpc1NjYWxlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJyNlNmU2ZTYnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2V0QmFyRGF0YUZyb21PcHRpb25zXHJcbiAgICAqIF5eIG5vdCBqdXN0IGEgYmFyIGZ1bmN0aW9uLCBsaW5lIGFuZCBhcmVhIGFsc28gdXNlIGl0XHJcbiAgICAqXHJcbiAgICAqIEFzc2lnbnMgdGhlIGNvcnJlY3QgY2hhcnQgZGF0YSB0byBjdXJyZW50IGRhdGEgdXNpbmcgdGhlIGNoYXJ0Lm9wdGlvbnNcclxuICAgICovXHJcbiAgICBnZXRCYXJEYXRhRnJvbU9wdGlvbnMoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICAvL2NyZWF0aW5nIHRoZXNlIHR3byBkYXRhIHZhcmlhYmxlcyB0byBhdm9pZCBoYXZpbmcgdG8gcmVmZXJlbmNlIHRoZSBjaGFydCBvYmVqY3QgZXZlcnl0aW1lXHJcbiAgICAgICAgdmFyIGZsaXBwZWQgPSBjaGFydC5mbGlwcGVkRGF0YTtcclxuICAgICAgICB2YXIgZGF0YSA9IGNoYXJ0LmRhdGE7XHJcblxyXG4gICAgICAgIHZhciBkYXRhT2JqID0ge307XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBmbGlwcGVkLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai5sZWdlbmREYXRhID0gZmxpcHBlZC5sZWdlbmREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGZsaXBwZWQuZGF0YVRhYmxlO1xyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5jb2xvciA9IGZsaXBwZWQuY29sb3I7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBmbGlwcGVkLnhBeGlzRGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZmxpcHBlZC54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai5sZWdlbmREYXRhID0gZGF0YS5sZWdlbmREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGRhdGEuZGF0YVRhYmxlO1xyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5jb2xvciA9IGRhdGEuY29sb3I7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBkYXRhLnhBeGlzRGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZGF0YS54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0YU9iajtcclxuICAgIH1cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFV0aWxpdHkgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKipoaWdobGlnaHRJdGVtc1xyXG4gICAgICpcclxuICAgICAqIGhpZ2hsaWdodHMgaXRlbXMgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW1zIGl0ZW1zLCBzdmdcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgaGlnaGxpZ2h0SXRlbShpdGVtcywgdGFnLCBoaWdobGlnaHRJbmRleCwgaGlnaGxpZ2h0VXJpKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnO1xyXG5cclxuICAgICAgICAvL1RPRE8gcmVtb3ZlIGlmIHN0YXRlbWVudHNcclxuICAgICAgICBpZiAoaGlnaGxpZ2h0SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdwaWUnKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnBpZS1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5waWVCb3JkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEpO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IHBpZSBzbGljZXNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5waWUtY29udGFpbmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKHRhZylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCcuaGlnaGxpZ2h0LWNsYXNzLScgKyBoaWdobGlnaHRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVycGxvdCcpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBjaXJjbGVzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuc2NhdHRlci1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBzY2F0dGVyIGRvdHNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5zY2F0dGVyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpLmZpbHRlcignLnNjYXR0ZXItY2lyY2xlLScgKyBoaWdobGlnaHRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaGxpZ2h0VXJpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2JhcicpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBiYXJzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IGJhcnNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5iYXItY29udGFpbmVyJykuc2VsZWN0QWxsKCcuaGlnaGxpZ2h0LWNsYXNzLScgKyBoaWdobGlnaHRVcmkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlckNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICAgICAgLy9zZXQgYWxsIGNpcmNsZXMgc3Ryb2tlIHdpZHRoIHRvIDBcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IGNpcmxjZXNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpLmZpbHRlcignLmhpZ2hsaWdodC1jbGFzcy0nICsgaGlnaGxpZ2h0VXJpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyV2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25lZWQgdG8gcGFzcyBoaWdobGlnaHQgaW5kZXggdG8gaGlnaGxpZ2h0IGl0ZW0nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqQGRlc2MgUmVtb3ZlcyBoaWdobGlnaHRzIHRoYXQgd2VyZSBhcHBsaWVkIHdpdGggcmVsYXRlZCBpbnNpZ2h0c1xyXG4gICAgKlxyXG4gICAgKi9cclxuICAgIHJlbW92ZUhpZ2hsaWdodCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzdmcgPSBjaGFydC5zdmc7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJykge1xyXG4gICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICBzdmcuc2VsZWN0KCcucGllLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgncGF0aCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMucGllQm9yZGVyKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVycGxvdCcpIHtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnNjYXR0ZXItY29udGFpbmVyJykuc2VsZWN0QWxsKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5iYXItY29udGFpbmVyJykuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5mdW5jdGlvbiBqdkZvcm1hdFZhbHVlKHZhbCwgZm9ybWF0VHlwZSkge1xyXG4gICAgaWYgKCFpc05hTih2YWwpKSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLjBmJyk7XHJcblxyXG4gICAgICAgIGlmIChmb3JtYXRUeXBlID09PSAnYmlsbGlvbnMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU5KSArICdCJztcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdFR5cGUgPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTYpICsgJ00nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ3Rob3VzYW5kcycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTMpICsgJ0snO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ2RlY2ltYWxzJykge1xyXG4gICAgICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJy4yZicpO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAnbm9kZWNpbWFscycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChNYXRoLmFicyh2YWwpID49IDEwMDAwMDAwMDApIHtcclxuICAgICAgICAgICAgLy9CaWxsaW9uc1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlOSkgKyAnQic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh2YWwpID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgLy9NaWxsaW9uc1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlNikgKyAnTSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh2YWwpID49IDEwMDApIHtcclxuICAgICAgICAgICAgLy9UaG91c2FuZHNcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTMpICsgJ0snO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModmFsKSA8PSAxMCkge1xyXG4gICAgICAgICAgICAvLzIgZGVjaW1hbHNcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcuMmYnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB0aGUgc2V0IG9mIHZhbHVlcyB0aGF0IHlvdSB3YW50IHRvIGZvcm1hdCB1bmlmb3JtbHlcclxuICogQHJldHVybiAnJyB0aGUgbGV2ZWwgb2YgZm9ybWF0dGluZyBmb3IgdGhlIGdyb3VwIG9mIGRhdGFcclxuICogUHJvYmxlbSB3aXRoIGp2Rm9ybWF0VmFsdWUgZnVuY3Rpb24gaXMgdGhhdCBpZiB5b3UgcGFzcyBpbiB2YWx1ZXMgMTAsIDIwLi4uIDkwLCAxMDAsIDExMjAsIDEyMFxyXG4gKiB5b3Ugd2lsbCBnZXQgdGhlIGZvcm1hdHMgMTAuMDAsIDIwLjAwIC4uLi4gMTAwLCAxMTAsIDEyMCB3aGVuIHlvdSB3YW50IDEwLCAyMCwgLi4uIDEwMCwgMTEwXHJcbiAqIC0tRm9ybWF0IHRoZSB2YWx1ZSBiYXNlZCBvZmYgb2YgdGhlIGhpZ2hlc3QgbnVtYmVyIGluIHRoZSBncm91cFxyXG4gKi9cclxuZnVuY3Rpb24ganZGb3JtYXRWYWx1ZVR5cGUodmFsdWVzKSB7XHJcbiAgICBpZiAodmFsdWVzICE9IG51bGwpIHtcclxuICAgICAgICB2YXIgbWF4ID0gTWF0aC5tYXguYXBwbHkobnVsbCwgdmFsdWVzKTtcclxuICAgICAgICAvL0FmdGVyIGdldHRpbmcgdGhlIG1heCwgY2hlY2sgdGhlIG1pblxyXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZXMpO1xyXG4gICAgICAgIHZhciByYW5nZSA9IG1heCAtIG1pbjtcclxuICAgICAgICB2YXIgaW5jcmVtZW1udCA9IE1hdGguYWJzKE1hdGgucm91bmQocmFuZ2UgLyAxMCkpOy8vMTAgYmVpbmcgdGhlIG51bWJlciBvZiBheGlzIGxhYmVscyB0byBzaG93XHJcblxyXG4gICAgICAgIGlmIChNYXRoLmFicyhpbmNyZW1lbW50KSA+PSAxMDAwMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnYmlsbGlvbnMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTAwMDAwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ21pbGxpb25zJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpID49IDEwMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0aG91c2FuZHMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPD0gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdkZWNpbWFscyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbmNyZW1lbW50KSA+PSAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ25vZGVjaW1hbHMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAnJztcclxufVxyXG5cclxuLyoqZ2V0Rm9ybWF0RXhwcmVzc2lvblxyXG4gKlxyXG4gKiBAZGVzYyByZXR1cm5zIHRoZSBkMyBmb3JtYXQgZXhwcmVzc2lvbiBmb3IgYSBnaXZlbiBvcHRpb25cclxuICogQHBhcmFtcyBvcHRpb25cclxuICogQHJldHVybnMgc3RyaW5nIGV4cHJlc3Npb25cclxuICovXHJcbmZ1bmN0aW9uIGdldEZvcm1hdEV4cHJlc3Npb24ob3B0aW9uKSB7XHJcbiAgICB2YXIgZXhwcmVzc2lvbiA9ICcnLFxyXG4gICAgICAgIHA7XHJcbiAgICBpZiAob3B0aW9uID09PSAnY3VycmVuY3knKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnJCwnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdmaXhlZEN1cnJlbmN5Jykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJygkLjJmJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAncGVyY2VudCcpIHtcclxuICAgICAgICBwID0gTWF0aC5tYXgoMCwgZDMucHJlY2lzaW9uRml4ZWQoMC4wNSkgLSAyKTtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcuJyArIHAgKyAnJScpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ21pbGxpb25zJykge1xyXG4gICAgICAgIHAgPSBkMy5wcmVjaXNpb25QcmVmaXgoMWU1LCAxLjNlNik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdFByZWZpeCgnLicgKyBwLCAxLjNlNik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnY29tbWFzJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJywuMGYnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdub25lJyB8fCBvcHRpb24gPT09ICcnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnZGlzcGxheVZhbHVlcycpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcsLjJmJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGV4cHJlc3Npb247XHJcbn1cclxuXHJcbi8qKmdldFRvZ2dsZWREYXRhXHJcbiAqXHJcbiAqIEdldHMgdGhlIGhlYWRlcnMgb2YgdGhlIGRhdGEgdG8gYmUgZHJhd24gYW5kIGZpbHRlcnMgdGhlIGRhdGEgYmFzZWQgb24gdGhhdFxyXG4gKiBAcGFyYW1zIGNoYXJ0RGF0YSwgZGF0YUhlYWRlcnNcclxuICovXHJcbmZ1bmN0aW9uIGdldFRvZ2dsZWREYXRhKGNoYXJ0RGF0YSwgZGF0YUhlYWRlcnMpIHtcclxuICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoZGF0YUhlYWRlcnMsIGNoYXJ0RGF0YS5sZWdlbmREYXRhKTtcclxuICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydERhdGEuY2hhcnREYXRhKSk7XHJcbiAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGF0YVtqXVtsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5XHJcbiAqXHJcbiAqIEdldHMgYW4gYXJyYXkgb2YgbGVnZW5kIGVsZW1lbnRzIHdpdGggdHJ1ZS9mYWxzZSB0YWdzIGZvciBpZiB0b2dnbGVkXHJcbiAqIEBwYXJhbXMgc2VsZWN0ZWRIZWFkZXJzLCBhbGxIZWFkZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoc2VsZWN0ZWRIZWFkZXJzLCBhbGxIZWFkZXJzKSB7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbEhlYWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkucHVzaCh7IGVsZW1lbnQ6IGFsbEhlYWRlcnNbaV0gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlbGVjdGVkSGVhZGVycy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnQgPT09IHNlbGVjdGVkSGVhZGVyc1tqXSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVMZWdlbmRFbGVtZW50c1xyXG4gKlxyXG4gKiBDcmVhdGVzIHRoZSBsZWdlbmQgZWxlbWVudHMtLXJlY3RhbmdsZXMgYW5kIGxhYmVsc1xyXG4gKiBAcGFyYW1zIGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpIHtcclxuICAgIHZhciBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBsZWdlbmQsXHJcbiAgICAgICAgbGVnZW5kUm93ID0gMCxcclxuICAgICAgICBsZWdlbmRDb2x1bW4gPSAwLFxyXG4gICAgICAgIGxlZ2VuZERhdGFMZW5ndGggPSBsZWdlbmREYXRhLmxlbmd0aDtcclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXgpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA9IE1hdGguZmxvb3IobGVnZW5kRGF0YUxlbmd0aCAvIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAtIDAuMDEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaWYgbGVnZW5kIGhlYWRlcnMgZG9uJ3QgZXhpc3QsIHNldCB0aGVtIGVxdWFsIHRvIGxlZ2VuZCBkYXRhXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgJiYgIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsZWdlbmREYXRhKSk7XHJcbiAgICB9IGVsc2UgaWYgKCFjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycyAmJiBjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxlZ2VuZERhdGEpKTtcclxuICAgIH1cclxuICAgIC8vU2V0IGxlZ2VuZCBlbGVtZW50IHRvZ2dsZSBhcnJheSBiYXNlZCBvbiBpZiBzZXJpZXMgaXMgZmxpcHBlZFxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IGdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheShjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIGZsaXBwZWRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKTtcclxuXHJcbiAgICAvL0FkZGluZyBjb2xvcmVkIHJlY3RhbmdsZXMgdG8gdGhlIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZFJlY3RhbmdsZXMgPSBsZWdlbmQuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZFJlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgJSAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC8gMykgPT09IDAgJiYgaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZENvbHVtbiA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxlZ2VuZFBvcyA9IDIwMCAqIGxlZ2VuZENvbHVtbjtcclxuICAgICAgICAgICAgbGVnZW5kQ29sdW1uKys7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWdlbmRQb3M7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRSb3crKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5lci5oZWlnaHQgKyAxMCkgKyAoMTUgKiAobGVnZW5kUm93ICsgMSkpIC0gNTsgLy9JbmNyZW1lbnQgcm93IHdoZW4gY29sdW1uIGxpbWl0IGlzIHJlYWNoZWRcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0Ll92YXJzLmdyaWRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGksIGxlZ2VuZERhdGFbaV0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICYmIGkgPD0gKChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKyAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdvcGFjaXR5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKCghbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ICYmICFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB8fCAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCAmJiAhZmxpcHBlZExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnMSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCghY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSB0cnVlKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgZmxpcHBlZExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnMC4yJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWdlbmRSb3cgPSAwO1xyXG4gICAgbGVnZW5kQ29sdW1uID0gMDtcclxuXHJcbiAgICAvL0FkZGluZyB0ZXh0IGxhYmVscyBmb3IgZWFjaCByZWN0YW5nbGUgaW4gbGVnZW5kXHJcbiAgICB2YXIgbGVnZW5kVGV4dCA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2xlZ2VuZFRleHQgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50IGVkaXRhYmxlLWxlZ2VuZC0nICsgaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgJSAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC8gMykgPT09IDAgJiYgaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZENvbHVtbiA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxlZ2VuZFBvcyA9IDIwMCAqIGxlZ2VuZENvbHVtbjtcclxuICAgICAgICAgICAgbGVnZW5kQ29sdW1uKys7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWdlbmRQb3MgKyAxNztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgJSAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC8gMykgPT09IDAgJiYgaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZFJvdysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpICUgY2hhcnQuX3ZhcnMubGVnZW5kTWF4ID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRSb3cgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoY29udGFpbmVyLmhlaWdodCArIDEwKSArICgxNSAqIChsZWdlbmRSb3cgKyAxKSk7IC8vSW5jcmVtZW50IHJvdyB3aGVuIGNvbHVtbiBsaW1pdCBpcyByZWFjaGVkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKSAvL1ZlcnRpY2FsbHkgYWxpZ24gd2l0aCBub2RlXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdkaXNwbGF5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPj0gKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSAmJiBpIDw9ICgoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICsgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAtIDEpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudE5hbWUgPSBsZWdlbmREYXRhW2ldO1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdnYW50dCcpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnROYW1lID0gbGVnZW5kRGF0YVtpXS5zbGljZSgwLCAtNSk7Ly9SZW1vdmluZyBsYXN0IDUgY2hhcmFjdGVycyBvZiBsZWdlbmQgbGFiZWwtLS1pLmUgcGxhbm5lZFNUQVJUIC0+IHBsYW5uZWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudE5hbWUubGVuZ3RoID4gMjApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZS5zdWJzdHJpbmcoMCwgMTkpICsgJy4uLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnROYW1lO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQWRkaW5nIGluZm8gYm94IHRvIGxlZ2VuZCBlbGVtZW50cyB3aGVuIGhvdmVyaW5nIG92ZXJcclxuICAgIGxlZ2VuZFRleHRcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9Pbmx5IGNyZWF0ZSBjYXJvdXNlbCBpZiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGV4Y2VlZHMgb25lIGxlZ2VuZCBcInBhZ2VcIlxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID4gMCkge1xyXG4gICAgICAgIGNyZWF0ZUNhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICB9XHJcbiAgICAvL0NlbnRlcnMgdGhlIGxlZ2VuZCBpbiB0aGUgcGFuZWxcclxuICAgIGlmIChsZWdlbmQpIHtcclxuICAgICAgICB2YXIgbGVnZW5kV2lkdGggPSBsZWdlbmQubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICBsZWdlbmQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRXaWR0aCkgLyAyKSArICcsIDMwKScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWdlbmRSZWN0YW5nbGVzO1xyXG59XHJcblxyXG4vKip1cGRhdGVEYXRhRnJvbUxlZ2VuZFxyXG4gKlxyXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBkYXRhIGhlYWRlcnMgdGhhdCBzaG91bGQgYmUgZGlzcGxheWVkIGluIHZpelxyXG4gKiBiYXNlZCBvZmYgd2hhdCBpcyB0b2dnbGVkIG9uL29mZiBpbiBsZWdlbmRcclxuICogQHBhcmFtcyBsZWdlbmREYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVEYXRhRnJvbUxlZ2VuZChsZWdlbmREYXRhKSB7XHJcbiAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnQgPSBsZWdlbmREYXRhWzBdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRbaV0uYXR0cmlidXRlcy5vcGFjaXR5LnZhbHVlICE9PSAnMC4yJykge1xyXG4gICAgICAgICAgICAvL0lmIG5vdCB3aGl0ZSwgYWRkIGl0IHRvIHRoZSB1cGRhdGVkIGRhdGEgYXJyYXlcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGxlZ2VuZEVsZW1lbnRbaV0uX19kYXRhX18pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG4vKipjcmVhdGVDYXJvdXNlbFxyXG4gKlxyXG4gKiBEcmF3cyB0aGUgaG9yaXpvbnRhbCBsZWdlbmQgY2Fyb3VzZWxcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGxlZ2VuZFBvbHlnb247XHJcblxyXG4gICAgLy9BZGRpbmcgY2Fyb3VzZWwgdG8gbGVnZW5kXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kLWNhcm91c2VsJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCcjbGVnZW5kLXRleHQtaW5kZXgnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsZWdlbmRQb2x5Z29uID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC1jYXJvdXNlbCcpO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBsZWZ0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZnRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICcjYzJjMmQ2JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLDApJylcclxuICAgICAgICAuYXR0cigncG9pbnRzJywgJzAsNy41LCAxNSwwLCAxNSwxNScpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID49IDEpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmxvY2FsQ2FsbGJhY2tBcHBseUVkaXRzKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcGFnZSBudW1iZXIgZm9yIGNhcm91c2VsIG5hdmlnYXRpb25cclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignaWQnLCAnbGVnZW5kLXRleHQtaW5kZXgnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgMzUpXHJcbiAgICAgICAgLmF0dHIoJ3knLCAxMi41KVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKyAnIC8gJyArIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9DcmVhdGVzIHJpZ2h0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JpZ2h0Q2hldnJvbicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BvaW50ZXItY3Vyc29yJylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnI2MyYzJkNicpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoODUsMCknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMTUsNy41LCAwLDAsIDAsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA8IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgICAgICBjaGFydC5sb2NhbENhbGxiYWNrQXBwbHlFZGl0cygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPT09IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ2VudGVycyB0aGUgbGVnZW5kIHBvbHlnb25zIGluIHRoZSBwYW5lbFxyXG4gICAgaWYgKGxlZ2VuZFBvbHlnb24pIHtcclxuICAgICAgICB2YXIgbGVnZW5kUG9seWdvbldpZHRoID0gbGVnZW5kUG9seWdvbi5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgIGxlZ2VuZFBvbHlnb24uYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRQb2x5Z29uV2lkdGgpIC8gMikgKyAnLCcgKyAoY29udGFpbmVyLmhlaWdodCArIDEwNSkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqZ2V0UGxvdERhdGFcclxuICpcclxuICogUmV0dXJucyBvbmx5IGRhdGEgdmFsdWVzIHRvIGJlIHBsb3R0ZWQ7IGlucHV0IGlzIHRoZSBkYXRhIG9iamVjdFxyXG4gKiBAcGFyYW1zIG9iamVjdERhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQbG90RGF0YShvYmplY3REYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciBvYmpEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhKSk7Ly9Db3B5IG9mIGJhckRhdGFcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqRGF0YU5ldy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBncm91cCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaChncm91cCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqZ2V0UG9zQ2FsY3VsYXRpb25zXHJcbiAqSG9sZHMgdGhlIGxvZ2ljIGZvciBwb3NpdGlvbmluZyBhbGwgYmFycyBvbiBhIGJhciBjaGFydCAoZGVwZW5kcyBvbiB0b29sRGF0YSlcclxuICpcclxuICogQHBhcmFtcyBzdmcsIGJhckRhdGEsIG9wdGlvbnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXJcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGEsIF92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydCkge1xyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgX3ZhcnMpLFxyXG4gICAgICAgIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgX3ZhcnMpLFxyXG4gICAgICAgIHNjYWxlRmFjdG9yID0gMSxcclxuICAgICAgICBkYXRhID0gW10sXHJcbiAgICAgICAgc2l6ZSA9IE9iamVjdC5rZXlzKGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSkubGVuZ3RoIC0gMSxcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucyA9IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFyRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB2YWwgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmFyRGF0YVtpXSkge1xyXG4gICAgICAgICAgICBpZiAoYmFyRGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwucHVzaChiYXJEYXRhW2ldW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaCh2YWwuc2xpY2UoMSwgYmFyRGF0YVtpXS5sZW5ndGgpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSAmJiBfdmFycy5zdGFja1RvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkuYmFuZHdpZHRoKCkgKiAwLjk1O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9IGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSAwOy8vTW92ZSB0aGUgeCB1cCBieSB0aGUgdmFsdWVzIHRoYXQgY29tZSBiZWZvcmUgaXRcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IGkgLSAxOyBrID49IDA7IGstLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihqW2tdLl9fZGF0YV9fKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCArPSBqW2tdLl9fZGF0YV9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB4KGluY3JlbWVudCkgPT09IDAgPyAxIDogeChpbmNyZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy53aWR0aCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh4KDApIC0geChkKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5LmJhbmR3aWR0aCgpICogMC45NTtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChfdmFycy5yb3RhdGVBeGlzID09PSB0cnVlICYmIF92YXJzLnN0YWNrVG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geS5iYW5kd2lkdGgoKSAvIHNpemUgKiBpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeS5iYW5kd2lkdGgoKSAvIHNpemUgKiAwLjk1KSAqIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KDApIC0geChkKSA+IDAgPyB4KGQpIDogeCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geS5iYW5kd2lkdGgoKSAvIHNpemUgKiBpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeCgwKSAtIHgoZCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHkuYmFuZHdpZHRoKCkgLyBzaXplICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChfdmFycy5yb3RhdGVBeGlzID09PSBmYWxzZSAmJiBfdmFycy5zdGFja1RvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4LmJhbmR3aWR0aCgpICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0aGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9IGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSAwOy8vTW92ZSB0aGUgeSB1cCBieSB0aGUgdmFsdWVzIHRoYXQgY29tZSBiZWZvcmUgaXRcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IGkgLSAxOyBrID49IDA7IGstLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihqW2tdLl9fZGF0YV9fKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCArPSBqW2tdLl9fZGF0YV9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB5KHBhcnNlRmxvYXQoZCkgKyBpbmNyZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeC5iYW5kd2lkdGgoKSAqIDAuOTUpICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5oZWlnaHQgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodCAtIHkoZCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gZmFsc2UgJiYgX3ZhcnMuc3RhY2tUb2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR4ID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHguYmFuZHdpZHRoKCkgLyBzaXplICogaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHguYmFuZHdpZHRoKCkgLyBzaXplICogMC45NSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy54ID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHguYmFuZHdpZHRoKCkgLyBzaXplICogaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4geSgwKSAtIHkoZCkgPiAwID8geShkKSA6IHkoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIDAuOTUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHkoMCkgLSB5KGQpKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc2l0aW9uRnVuY3Rpb25zO1xyXG59XHJcblxyXG4vKipnZXRDb2xvcnNcclxuICpcclxuICogZ2V0cyB0aGUgY29sb3JzIHRvIGFwcGx5IHRvIHRoZSBzcGVjaWZpYyBjaGFydFxyXG4gKiBAcGFyYW1zIGNvbG9yT2JqLCBpbmRleCwgbGFiZWxcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q29sb3JzKGNvbG9yT2JqLCBwYXJhbUluZGV4LCBsYWJlbCkge1xyXG4gICAgdmFyIGluZGV4ID0gcGFyYW1JbmRleDtcclxuXHJcbiAgICAvL2xvZ2ljIHRvIHJldHVybiB0aGUgY29sb3IgaWYgdGhlIGNvbG9yT2JqIHBhc3NlZCBpblxyXG4gICAgLy9pcyBhbiBvYmplY3Qgd2l0aCB0aGUgbGFiZWwgYmVpbmcgdGhlIGtleVxyXG4gICAgaWYgKHR5cGVvZiBsYWJlbCAhPT0gJ3VuZGVmaW5lZCcgJiYgY29sb3JPYmouaGFzT3duUHJvcGVydHkobGFiZWwpICYmIGNvbG9yT2JqW2xhYmVsXSkge1xyXG4gICAgICAgIHJldHVybiBjb2xvck9ialtsYWJlbF07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNsZWFuZWRDb2xvcnMgPSBbXTtcclxuXHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3JPYmopKSB7XHJcbiAgICAgICAgY2xlYW5lZENvbG9ycyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGsgaW4gY29sb3JPYmopIHtcclxuICAgICAgICAgICAgaWYgKGNvbG9yT2JqLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JPYmpba10pIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbmVkQ29sb3JzLnB1c2goY29sb3JPYmpba10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjbGVhbmVkQ29sb3JzID0gY29sb3JPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLy9sb2dpYyB0byByZXR1cm4gYSByZXBlYXRpbmcgc2V0IG9mIGNvbG9ycyBhc3N1bWluZyB0aGF0XHJcbiAgICAvL3RoZSB1c2VyIGNoYW5nZWQgZGF0YSAoZXg6IGZsaXAgc2VyaWVzIG9uIGJhciBjaGFydClcclxuICAgIGlmICghY2xlYW5lZENvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICB3aGlsZSAoaW5kZXggPiBjbGVhbmVkQ29sb3JzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgaW5kZXggPSBpbmRleCAtIGNsZWFuZWRDb2xvcnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjbGVhbmVkQ29sb3JzW2luZGV4XTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldEF4aXNTY2FsZSh3aGljaEF4aXMsIGF4aXNEYXRhLCBjb250YWluZXIsIF92YXJzLCBwYWRkaW5nVHlwZSkge1xyXG4gICAgdmFyIGxlZnRQYWRkaW5nID0gMC40LFxyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDAuMjtcclxuICAgIGlmIChwYWRkaW5nVHlwZSA9PT0gJ25vLXBhZGRpbmcnKSB7XHJcbiAgICAgICAgbGVmdFBhZGRpbmcgPSAwO1xyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDA7XHJcbiAgICB9XHJcbiAgICB2YXIgYXhpc1NjYWxlLFxyXG4gICAgICAgIGF4aXM7XHJcblxyXG4gICAgd2hpY2hBeGlzID09PSAneCcgPyBheGlzID0gY29udGFpbmVyLndpZHRoIDogYXhpcyA9IGNvbnRhaW5lci5oZWlnaHQ7XHJcblxyXG4gICAgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF4aXNEYXRhLnZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBheGlzRGF0YS52YWx1ZXNbaV0gPSBuZXcgRGF0ZShheGlzRGF0YS52YWx1ZXNbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1heERhdGUgPSBNYXRoLm1heC5hcHBseShudWxsLCBheGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgIHZhciBtaW5EYXRlID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgYXhpc1NjYWxlID0gZDMuc2NhbGVUaW1lKCkuZG9tYWluKFtuZXcgRGF0ZShtaW5EYXRlKSwgbmV3IERhdGUobWF4RGF0ZSldKS5yYW5nZVJvdW5kKFswLCBheGlzXSk7XHJcbiAgICB9IGVsc2UgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnU1RSSU5HJykge1xyXG4gICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlQmFuZCgpXHJcbiAgICAgICAgICAgIC5kb21haW4oYXhpc0RhdGEudmFsdWVzKVxyXG4gICAgICAgICAgICAucmFuZ2UoWzAsIGF4aXNdKVxyXG4gICAgICAgICAgICAucGFkZGluZ0lubmVyKGxlZnRQYWRkaW5nKVxyXG4gICAgICAgICAgICAucGFkZGluZ091dGVyKHJpZ2h0UGFkZGluZyk7XHJcbiAgICB9IGVsc2UgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIHZhciBkb21haW47XHJcbiAgICAgICAgaWYgKF92YXJzLnhSZXZlcnNlZCB8fCBfdmFycy55UmV2ZXJzZWQpIHtcclxuICAgICAgICAgICAgaWYgKChfdmFycy54UmV2ZXJzZWQgJiYgd2hpY2hBeGlzID09PSAneCcpIHx8ICh3aGljaEF4aXMgPT09ICd5JyAmJiAhX3ZhcnMueVJldmVyc2VkKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tYWluID0gW2F4aXNEYXRhLm1heCwgYXhpc0RhdGEubWluXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKF92YXJzLnlSZXZlcnNlZCAmJiB3aGljaEF4aXMgPT09ICd5JykgfHwgKHdoaWNoQXhpcyA9PT0gJ3gnICYmICFfdmFycy54UmV2ZXJzZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBkb21haW4gPSBbYXhpc0RhdGEubWluLCBheGlzRGF0YS5tYXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpY2hBeGlzID09PSAneCcgPyBkb21haW4gPSBbYXhpc0RhdGEubWluLCBheGlzRGF0YS5tYXhdIDogZG9tYWluID0gW2F4aXNEYXRhLm1heCwgYXhpc0RhdGEubWluXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChfdmFycy5oYXNPd25Qcm9wZXJ0eSgnYXhpc1R5cGUnKSAmJiBfdmFycy5heGlzVHlwZSA9PT0gJ0xvZ2FyaXRobWljJykge1xyXG4gICAgICAgICAgICBkb21haW5bMV0gPSAwLjE7XHJcbiAgICAgICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlTG9nKCkuYmFzZSgxMCkuZG9tYWluKGRvbWFpbikucmFuZ2VSb3VuZChbMCwgYXhpc10pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKGRvbWFpbikucmFuZ2VSb3VuZChbMCwgYXhpc10pO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQXhpcyBpcyBub3QgYSB2YWxpZCBkYXRhIHR5cGUnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBheGlzU2NhbGU7XHJcbn1cclxuXHJcbi8qKmdldFhTY2FsZVxyXG4gKlxyXG4gKiBnZXQgdGhlIHNjYWxlIGZvciB0aGUgeCBheGlzXHJcbiAqIEBwYXJhbXMgeEF4aXNEYXRhLCBjb250YWluZXIsIHBhZGRpbmdcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0WFNjYWxlKHhBeGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nKSB7XHJcbiAgICB2YXIgeEF4aXNTY2FsZTtcclxuICAgIHZhciBsZWZ0UGFkZGluZyA9IDAuNCxcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwLjI7XHJcbiAgICBpZiAocGFkZGluZyA9PT0gJ25vLXBhZGRpbmcnKSB7XHJcbiAgICAgICAgbGVmdFBhZGRpbmcgPSAwO1xyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy9jaGVjayBpZiB2YWx1ZXMgbGVuZ3RoIGlzIGdyZWF0ZXIgdGhhbiB0d28gaW5jYXNlIHRoZSBsYWJlbHMgYXJlIGFsbCBudW1iZXJzLiBpZiBpdCBpcyBhIGxpbmVhciBzY2FsZSB0aGVuIHRoZXJlIHdpbGwgb25seSBiZSBhIG1pbiBhbmQgbWF4XHJcbiAgICBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgeEF4aXNEYXRhLnZhbHVlc1tpXSA9IG5ldyBEYXRlKHhBeGlzRGF0YS52YWx1ZXNbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1heERhdGUgPSBNYXRoLm1heC5hcHBseShudWxsLCB4QXhpc0RhdGEudmFsdWVzKTtcclxuICAgICAgICB2YXIgbWluRGF0ZSA9IE1hdGgubWluLmFwcGx5KG51bGwsIHhBeGlzRGF0YS52YWx1ZXMpO1xyXG5cclxuICAgICAgICB4QXhpc1NjYWxlID0gZDMudGltZS5zY2FsZSgpLmRvbWFpbihbbmV3IERhdGUobWluRGF0ZSksIG5ldyBEYXRlKG1heERhdGUpXSkucmFuZ2VSb3VuZChbMCwgY29udGFpbmVyLndpZHRoXSk7XHJcbiAgICB9IGVsc2UgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycgfHwgeEF4aXNEYXRhLnZhbHVlcy5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgeEF4aXNTY2FsZSA9IGQzLnNjYWxlQmFuZCgpXHJcbiAgICAgICAgICAgIC5kb21haW4oeEF4aXNEYXRhLnZhbHVlcylcclxuICAgICAgICAgICAgLnJhbmdlKFswLCBjb250YWluZXIud2lkdGhdKVxyXG4gICAgICAgICAgICAucGFkZGluZ0lubmVyKGxlZnRQYWRkaW5nKVxyXG4gICAgICAgICAgICAucGFkZGluZ091dGVyKHJpZ2h0UGFkZGluZyk7XHJcbiAgICB9IGVsc2UgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICB2YXIgbWF4ID0geEF4aXNEYXRhLnZhbHVlc1soeEF4aXNEYXRhLnZhbHVlcy5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgdmFyIG1pbiA9IHhBeGlzRGF0YS52YWx1ZXNbMF07XHJcblxyXG4gICAgICAgIHhBeGlzU2NhbGUgPSBkMy5zY2FsZUJhbmQoKS5kb21haW4oW21pbiwgbWF4XSkucmFuZ2VSb3VuZChbMCwgY29udGFpbmVyLndpZHRoXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geEF4aXNTY2FsZTtcclxufVxyXG5cclxuLyoqZ2V0WVNjYWxlXHJcbiAqXHJcbiAqIGdldHMgdGhlIHNjYWxlIGZvciB0aGUgeSBheGlzXHJcbiAqIEBwYXJhbXMgeUF4aXNEYXRhLCBjb250YWluZXIsIHBhZGRpbmdcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0WVNjYWxlKHlBeGlzRGF0YSwgY29udGFpbmVyKSB7XHJcbiAgICB2YXIgeUF4aXNTY2FsZTtcclxuXHJcbiAgICBpZiAoeUF4aXNEYXRhLmRhdGFUeXBlID09PSAnU1RSSU5HJykge1xyXG4gICAgICAgIHlBeGlzU2NhbGUgPSBkMy5zY2FsZU9yZGluYWwoKS5kb21haW4oeUF4aXNEYXRhLnZhbHVlcykucmFuZ2UoWzAsIGNvbnRhaW5lci5oZWlnaHRdKTtcclxuICAgIH0gZWxzZSBpZiAoeUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIHZhciBtYXggPSB5QXhpc0RhdGEudmFsdWVzWyh5QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB2YXIgbWluID0geUF4aXNEYXRhLnZhbHVlc1swXTtcclxuICAgICAgICB5QXhpc1NjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW21heCwgbWluXSkucmFuZ2VSb3VuZChbMCwgY29udGFpbmVyLmhlaWdodF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHlBeGlzU2NhbGU7XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIERhdGEgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtzdHJpbmd9IGxhYmVsIC0gVGhlIGZpZWxkIHRoYXQgaXMgY2hlY2tlZCBmb3IgdHlwZVxyXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVRhYmxlS2V5cyAtIE9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIHR5cGUgZm9yIGVhY2ggY29sdW1uIG9mIGRhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdldERhdGFUeXBlRnJvbUtleXMobGFiZWwsIGRhdGFUYWJsZUtleXMpIHtcclxuICAgIHZhciB0eXBlO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vUmVwbGFjZSB1bmRlcnNjb3JlcyB3aXRoIHNwYWNlc1xyXG4gICAgICAgIGlmIChkYXRhVGFibGVLZXlzW2ldLnZhcktleS5yZXBsYWNlKC9fL2csICcgJykgPT09IGxhYmVsLnJlcGxhY2UoL18vZywgJyAnKSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlS2V5c1tpXS5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gZGF0YVRhYmxlS2V5c1tpXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdTVFJJTkcnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ0RBVEUnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnTlVNQkVSJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdOVU1CRVInO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHlwZTtcclxufVxyXG5cclxuLyoqc2V0QmFyTGluZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW2l0ZW1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuLyoqc2V0Q2hhcnRDb2xvcnNcclxuICogIGNsZWFucyBpbmNvbWluZyBjb2xvcnMgZm9yIGNvbnNpc3RlbmN5XHJcbiAqXHJcbiAqIEBwYXJhbXMgY29sb3JBcnJheSwgbGVnZW5kRGF0YVxyXG4gKiBAcmV0dXJucyBvYmplY3Qgd2l0aCBjb2xvcnNcclxuICovXHJcblxyXG5mdW5jdGlvbiBzZXRDaGFydENvbG9ycyh0b29sRGF0YSwgbGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpIHtcclxuICAgIC8vZnVuY3Rpb24gaGFuZGxlcyAzIGNvbG9yIGlucHV0c1xyXG4gICAgLy90b29sRGF0YSBhcyBhbiBhcnJheSBpbiB0b29sRGF0YVxyXG4gICAgLy90b29sRGF0YSBhcyBhbiBvYmplY3RcclxuICAgIC8vdG9vbERhdGEgYXMgJ25vbmUnXHJcbiAgICAvL2FueSBvdGhlciBjYXNlIHdpbGwgcmVzdWx0IGluIHVzaW5nIGRlZmF1bHRDb2xvckFycmF5XHJcblxyXG4gICAgdmFyIGNvbG9ycyA9IHt9LFxyXG4gICAgICAgIHVzZWRDb2xvcnMgPSBbXSxcclxuICAgICAgICB1bmFjY291bnRlZExlZ2VuZEVsZW1lbnRzID0gW107XHJcblxyXG4gICAgLy90b29sRGF0YSBpcyBhcnJheVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodG9vbERhdGEpKSB7XHJcbiAgICAgICAgaWYgKHRvb2xEYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgdG9vbERhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHRvb2xEYXRhID09PSBPYmplY3QodG9vbERhdGEpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSBsZWdlbmREYXRhW2ldO1xyXG4gICAgICAgICAgICBpZiAodG9vbERhdGEuaGFzT3duUHJvcGVydHkob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgdXNlZENvbG9ycy5wdXNoKHRvb2xEYXRhW29ial0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdW5hY2NvdW50ZWRMZWdlbmRFbGVtZW50cy5wdXNoKGxlZ2VuZERhdGFbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2hlY2sgaWYgb2JqZWN0IGhhcyBkZXNpcmVkIGtleXNcclxuICAgICAgICBpZiAodXNlZENvbG9ycy5sZW5ndGggPT09IGxlZ2VuZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IHRvb2xEYXRhO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodXNlZENvbG9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciB0b29sRGF0YUFzQXJyYXkgPSBPYmplY3QudmFsdWVzKHRvb2xEYXRhKTtcclxuICAgICAgICAgICAgaWYgKHRvb2xEYXRhQXNBcnJheS5sZW5ndGggPiBsZWdlbmREYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgdG9vbERhdGFBc0FycmF5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB0b29sRGF0YUFzQXJyYXkgPSBPYmplY3QudmFsdWVzKHRvb2xEYXRhKTtcclxuICAgICAgICAgICAgaWYgKHRvb2xEYXRhQXNBcnJheS5sZW5ndGggPiBsZWdlbmREYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgdG9vbERhdGFBc0FycmF5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb2xvcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGNvbG9ycykge1xyXG4gICAgdmFyIG1hcHBlZENvbG9ycyA9IHt9LFxyXG4gICAgICAgIGNvdW50ID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChjb3VudCA+IGNvbG9ycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGNvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWFwcGVkQ29sb3JzW2xlZ2VuZERhdGFbaV1dID0gY29sb3JzW2NvdW50XTtcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcHBlZENvbG9ycztcclxufVxyXG5cclxuLyoqY2xlYW5Ub29sRGF0YVxyXG4gKiAgY2xlYW5zIGluY29taW5nIHRvb2xEYXRhIGZvciBjb25zaXN0ZW5jeVxyXG4gKlxyXG4gKiBAcGFyYW0gdG9vbERhdGFcclxuICogQHJldHVybnMgb2JqZWN0IHdpdGggdG9vbGRhdGFcclxuICovXHJcbmZ1bmN0aW9uIGNsZWFuVG9vbERhdGEob3B0aW9ucykge1xyXG4gICAgdmFyIGRhdGEgPSB7fVxyXG4gICAgaWYob3B0aW9ucykge1xyXG4gICAgICAgIGRhdGEgPSBvcHRpb25zO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KCdyb3RhdGVBeGlzJykpIHtcclxuICAgICAgICBkYXRhLnJvdGF0ZUF4aXMgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdzdGFja1RvZ2dsZScpKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuc3RhY2tUb2dnbGUgPT09ICdzdGFjay1kYXRhJykge1xyXG4gICAgICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnY29sb3JzJykpIHtcclxuICAgICAgICBkYXRhLmNvbG9yID0gZGF0YS5jb2xvcnM7XHJcbiAgICB9XHJcbiAgICBpZighZGF0YS5oYXNPd25Qcm9wZXJ0eSgndGhyZXNob2xkcycpKSB7XHJcbiAgICAgICAgZGF0YS50aHJlc2hvbGRzID0gW107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TWF4V2lkdGhGb3JBeGlzRGF0YShheGlzLCBheGlzRGF0YSwgX3ZhcnMsIGRpbWVuc2lvbnMsIG1hcmdpbiwgY2hhcnREaXYsIHR5cGUpIHtcclxuICAgIHZhciBtYXhBeGlzVGV4dCA9ICcnLFxyXG4gICAgICAgIGZvcm1hdFR5cGU7XHJcbiAgICAvL0R5bmFtaWMgbGVmdCBtYXJnaW4gZm9yIGNoYXJ0cyB3aXRoIHkgYXhpc1xyXG4gICAgaWYgKF92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAvL2dldCBsZW5ndGggb2YgbG9uZ2VzdCB0ZXh0IGxhYmVsIGFuZCBtYWtlIHRoZSBheGlzIGJhc2VkIG9mZiB0aGF0XHJcbiAgICAgICAgdmFyIG1heFN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCkgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuXHJcbiAgICAgICAgLy9jaGVjayBpZiBsYWJlbHMgc2hvdWxkIGJlIHNob3duXHJcbiAgICAgICAgaWYgKGhlaWdodCAhPT0gMCAmJiBoZWlnaHQgLyBheGlzRGF0YS52YWx1ZXMubGVuZ3RoIDwgcGFyc2VJbnQoX3ZhcnMuZm9udFNpemUpKSB7XHJcbiAgICAgICAgICAgIGF4aXNEYXRhLmhpZGVWYWx1ZXMgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFN0ciA9IGF4aXNEYXRhLnZhbHVlc1tpXS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdHIubGVuZ3RoID4gbWF4U3RyaW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFN0cmluZyA9IGN1cnJlbnRTdHI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBtYXhTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICghIV92YXJzLnlMYWJlbEZvcm1hdCB8fCAhIV92YXJzLnhMYWJlbEZvcm1hdCkge1xyXG4gICAgICAgIHZhciBsYWJlbEZvcm1hdCA9IF92YXJzLnlMYWJlbEZvcm1hdDtcclxuICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgIGxhYmVsRm9ybWF0ID0gX3ZhcnMueExhYmVsRm9ybWF0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9ybWF0VHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKGF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgdmFyIGV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uKGxhYmVsRm9ybWF0KTtcclxuICAgICAgICBpZiAoZXhwcmVzc2lvbiAhPT0gJycpIHtcclxuICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBleHByZXNzaW9uKGF4aXNEYXRhLm1heCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBqdkZvcm1hdFZhbHVlKGF4aXNEYXRhLm1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmb3JtYXRUeXBlID0ganZGb3JtYXRWYWx1ZVR5cGUoYXhpc0RhdGEudmFsdWVzKTtcclxuICAgICAgICBpZiAoIWF4aXNEYXRhLmhhc093blByb3BlcnR5KCdtYXgnKSkge1xyXG4gICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBheGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChheGlzRGF0YS52YWx1ZXNbaV0ubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gYXhpc0RhdGEudmFsdWVzW2ldLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBtYXhBeGlzVGV4dCA9IGF4aXNEYXRhLnZhbHVlc1tpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0ganZGb3JtYXRWYWx1ZShheGlzRGF0YS5tYXgsIGZvcm1hdFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgLy9hbHNvIG5lZWQgdG8gY2hlY2sgd2lkdGggb2YgbGFiZWxcclxuICAgICAgICBpZiAobWF4QXhpc1RleHQubGVuZ3RoIDwgYXhpc0RhdGEubGFiZWwubGVuZ3RoICsgNSkge1xyXG4gICAgICAgICAgICAvL25lZWQgYWRkZWQgc3BhY2VcclxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBheGlzRGF0YS5sYWJlbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gYXhpc0RhdGEubGFiZWwgKyAnRXh0cmEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vQ3JlYXRlIGR1bW15IHN2ZyB0byBwbGFjZSBtYXggc2l6ZWQgdGV4dCBlbGVtZW50IG9uXHJcbiAgICB2YXIgZHVtbXlTVkcgPSBjaGFydERpdi5hcHBlbmQoJ3N2ZycpLmF0dHIoJ2NsYXNzJywgJ2R1bW15LXN2ZycpO1xyXG5cclxuICAgIC8vQ3JlYXRlIGR1bW15IHRleHQgZWxlbWVudFxyXG4gICAgdmFyIGF4aXNEdW1teSA9IGR1bW15U1ZHXHJcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd5JyAmJiBfdmFycy55TGFiZWxGb250U2l6ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZhcnMueUxhYmVsRm9udFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd4JyAmJiBfdmFycy54TGFiZWxGb250U2l6ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZhcnMueExhYmVsRm9udFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF92YXJzLmZvbnRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgIC5hdHRyKCd5JywgMClcclxuICAgICAgICAudGV4dChtYXhBeGlzVGV4dCk7XHJcblxyXG4gICAgLy9DYWxjdWxhdGUgdGhlIHdpZHRoIG9mIHRoZSBkdW1teSB0ZXh0XHJcbiAgICB2YXIgd2lkdGggPSBheGlzRHVtbXkubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgIC8vUmVtb3ZlIHRoZSBzdmcgYW5kIHRleHQgZWxlbWVudFxyXG4gICAgY2hhcnREaXYuc2VsZWN0KCcuZHVtbXktc3ZnJykucmVtb3ZlKCk7XHJcbiAgICByZXR1cm4gd2lkdGg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbHVlcyhvYmplY3QsIGRhdGFUYWJsZUFsaWduLCB0eXBlKSB7XHJcbiAgICB2YXIgdmFsdWVzQXJyYXkgPSBbXTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ2JhcicgfHwgdHlwZSA9PT0gJ3BpZScgfHwgdHlwZSA9PT0gJ2xpbmUnIHx8IHR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgIC8vZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgXy5rZXlzKGRhdGFUYWJsZUFsaWduKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlQWxpZ24uaGFzT3duUHJvcGVydHkoJ3ZhbHVlICcgKyBpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdFtkYXRhVGFibGVBbGlnblsndmFsdWUgJyArIGldXSAhPSBudWxsKSB7Ly8hPSBjaGVja3MgZm9yIG51bGxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNBcnJheS5wdXNoKG9iamVjdFtkYXRhVGFibGVBbGlnblsndmFsdWUgJyArIGldXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNBcnJheS5wdXNoKG9iamVjdFtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZXNBcnJheTtcclxufVxyXG4vKipnZXRZU2NhbGVcclxuICpcclxuICogZ2V0cyB0aGUgc2NhbGUgZm9yIHRoZSB5IGF4aXNcclxuICogQHBhcmFtcyB5QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRZU2NhbGUoeUF4aXNEYXRhLCBjb250YWluZXIsIHBhZGRpbmcsIHlSZXZlcnNlZCkge1xyXG4gICAgdmFyIHlBeGlzU2NhbGU7XHJcbiAgICB2YXIgbGVmdFBhZGRpbmcgPSAwLjQsXHJcbiAgICAgICAgcmlnaHRQYWRkaW5nID0gMC4yO1xyXG4gICAgaWYgKHBhZGRpbmcgPT09ICduby1wYWRkaW5nJykge1xyXG4gICAgICAgIGxlZnRQYWRkaW5nID0gMDtcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh5QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgeUF4aXNTY2FsZSA9IGQzLnNjYWxlLm9yZGluYWwoKS5kb21haW4oeUF4aXNEYXRhLnZhbHVlcykucmFuZ2VQb2ludHMoWzAsIGNvbnRhaW5lci5oZWlnaHRdKVxyXG4gICAgICAgICAgICAucmFuZ2VSb3VuZEJhbmRzKFswLCBjb250YWluZXIuaGVpZ2h0XSwgbGVmdFBhZGRpbmcsIHJpZ2h0UGFkZGluZyk7XHJcbiAgICB9IGVsc2UgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICB2YXIgbWF4ID0geUF4aXNEYXRhLnZhbHVlc1soeUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgdmFyIG1pbiA9IHlBeGlzRGF0YS52YWx1ZXNbMF07XHJcbiAgICAgICAgaWYgKHlSZXZlcnNlZCkge1xyXG4gICAgICAgICAgICB5QXhpc1NjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW21heCwgbWluXSkucmFuZ2VSb3VuZChbY29udGFpbmVyLmhlaWdodCwgMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbbWF4LCBtaW5dKS5yYW5nZVJvdW5kKFswLCBjb250YWluZXIuaGVpZ2h0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHlBeGlzU2NhbGU7XHJcbn1cclxuLyoqZ2V0WlNjYWxlXHJcbiAqXHJcbiAqIGdldHMgdGhlIHNjYWxlIGZvciB0aGUgeiBheGlzXHJcbiAqIEBwYXJhbXMgekF4aXNEYXRhLCBjb250YWluZXIsIHBhZGRpbmdcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0WlNjYWxlKHpBeGlzRGF0YSwgY29udGFpbmVyLCBfdmFycykge1xyXG4gICAgdmFyIHpBeGlzU2NhbGU7XHJcblxyXG4gICAgekF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFtkMy5taW4oekF4aXNEYXRhLnZhbHVlcyksIGQzLm1heCh6QXhpc0RhdGEudmFsdWVzKV0pLnJhbmdlUm91bmQoW192YXJzLk5PREVfTUlOX1NJWkUsIF92YXJzLk5PREVfTUFYX1NJWkVdKS5uaWNlKCk7XHJcbiAgICByZXR1cm4gekF4aXNTY2FsZTtcclxufVxyXG5cclxuICAgIC8qKmdlbmVyYXRlRXZlbnRHcm91cHNcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBjaGFydENvbnRhaW5lciwgYmFyRGF0YSwgY2hhcnRcclxuICAgICAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUV2ZW50R3JvdXBzKGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgZGF0YVRvUGxvdCA9IGp2Q2hhcnRzLmdldFBsb3REYXRhKGJhckRhdGEsIGNoYXJ0KSxcclxuICAgICAgICBldmVudEdyb3VwcztcclxuXHJcbiAgICAvL0ludmlzaWJsZSByZWN0YW5nbGVzIG9uIHNjcmVlbiB0aGF0IHJlcHJlc2VudCBiYXIgZ3JvdXBzLiBVc2VkIHRvIHNob3cvaGlkZSB0b29sIHRpcHMgb24gaG92ZXJcclxuICAgIGV2ZW50R3JvdXBzID0gY2hhcnRDb250YWluZXJcclxuICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2V2ZW50LXJlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IDAgOiAoY29udGFpbmVyLndpZHRoIC8gYmFyRGF0YS5sZW5ndGggKiBpKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7IC8vc2V0cyB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgYmFyXHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gKGNvbnRhaW5lci5oZWlnaHQgLyBiYXJEYXRhLmxlbmd0aCAqIGkpIDogMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uICgpIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IGNvbnRhaW5lci53aWR0aCA6IChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uICgpIHsgLy9zZXRzIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyAoY29udGFpbmVyLmhlaWdodCAvIGJhckRhdGEubGVuZ3RoKSA6IGNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsICd0cmFuc3BhcmVudCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdldmVudC1yZWN0IGVkaXRhYmxlLWJhciBiYXItY29sLScgKyBTdHJpbmcoYmFyRGF0YVtpXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJzxkb3Q+Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGV2ZW50R3JvdXBzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZChjaGFydCkge1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICB2YXIgY29sb3JMZWdlbmREYXRhID0gW107XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMudGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBPYmplY3Qua2V5cyhjaGFydC5fdmFycy50aHJlc2hvbGRzKS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb2xvckxlZ2VuZERhdGEucHVzaChjaGFydC5fdmFycy50aHJlc2hvbGRzW2pdLnRocmVzaG9sZE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgZ0xlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0aHJlc2hvbGRMZWdlbmRDb250YWluZXInKTtcclxuXHJcbiAgICB2YXIgbGVnZW5kID0gZ0xlZ2VuZC5zZWxlY3RBbGwoJy50aHJlc2hvbGRMZWdlbmQnKVxyXG4gICAgICAgIC5kYXRhKGNvbG9yTGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0aHJlc2hvbGRMZWdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gMTk7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAxOSAqIGNvbG9yTGVnZW5kRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICB2YXIgaG9yeiA9IC0yICogMTI7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ID0gaSAqIGhlaWdodCAtIG9mZnNldDtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGhvcnogKyAnLCcgKyB2ZXJ0ICsgJyknO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIDEyKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMilcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMudGhyZXNob2xkc1tpXS50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cigneCcsIDI0KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOClcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgJy43NWVtJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSk7XHJcblxyXG4gICAgLy9DZW50ZXJzIHRoZSBsZWdlbmQgaW4gdGhlIHBhbmVsXHJcbiAgICBpZiAoZ0xlZ2VuZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRXaWR0aCA9IGdMZWdlbmQubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICBnTGVnZW5kLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIChjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoIC0gbGVnZW5kV2lkdGgpICsgJywnICsgKDEwICogY29sb3JMZWdlbmREYXRhLmxlbmd0aCkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMpIHtcclxuICAgIC8vQWRkaW5nIHRoZSBjbGljayBldmVudCB0byBsZWdlbmQgcmVjdGFuZ2xlcyBmb3IgdG9nZ2xpbmcgb24vb2ZmXHJcblxyXG4gICAgbGVnZW5kRWxlbWVudHNcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSZWN0ID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSZWN0Ll9ncm91cHNbMF1bMF0uYXR0cmlidXRlcy5vcGFjaXR5LnZhbHVlICE9PSAnMC4yJykge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAnMC4yJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsICcxJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vR2V0cyB0aGUgaGVhZGVycyBvZiB0aGUgZGF0YSB0byBiZSBkcmF3blxyXG4gICAgICAgICAgICB2YXIgZGF0YUhlYWRlcnMgPSB1cGRhdGVEYXRhRnJvbUxlZ2VuZChsZWdlbmRFbGVtZW50cy5fZ3JvdXBzKTtcclxuXHJcbiAgICAgICAgICAgIC8vU2V0cyB0aGUgbGVnZW5kRGF0YSB0byB0aGUgdXBkYXRlZCBoZWFkZXJzXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycyA9IGRhdGFIZWFkZXJzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGRhdGFIZWFkZXJzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL1Bsb3RzIHRoZSBkYXRhXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydFtkcmF3RnVuY10oY2hhcnQuZmxpcHBlZERhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnRbZHJhd0Z1bmNdKGNoYXJ0LmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlVmVydGljYWxMZWdlbmRFbGVtZW50c1xyXG4gKlxyXG4gKiBDcmVhdGVzIHRoZSBsZWdlbmQgZWxlbWVudHMtLXJlY3RhbmdsZXMgYW5kIGxhYmVsc1xyXG4gKiBAcGFyYW1zIGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBsZWdlbmQsXHJcbiAgICAgICAgbGVnZW5kRGF0YUxlbmd0aCA9IGxlZ2VuZERhdGEubGVuZ3RoLFxyXG4gICAgICAgIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheTtcclxuXHJcbiAgICBjaGFydC5fdmFycy5ncmlkU2l6ZSA9IDIwO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXgpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID0gTWF0aC5mbG9vcihsZWdlbmREYXRhTGVuZ3RoIC8gY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMC4wMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9DaGVjayB0byBzZWUgaWYgbGVnZW5kIGVsZW1lbnQgdG9nZ2xlIGFycmF5IG5lZWRzIHRvIGJlIHNldFxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID49IDApIHtcclxuICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobGVnZW5kRGF0YSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAxOCArICcsJyArIDIwICsgJyknKTtcclxuXHJcbiAgICAvL0FkZGluZyBjb2xvcmVkIHJlY3RhbmdsZXMgdG8gdGhlIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZFJlY3RhbmdsZXMgPSBsZWdlbmQuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZFJlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgJzMnKVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjaGFydC5fdmFycy5ncmlkU2l6ZSkgKiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKiAxLjE7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoKCFsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgJiYgIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHx8IChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmICFsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKCFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IHRydWUpIHx8XHJcbiAgICAgICAgICAgICAgICAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgaSwgbGVnZW5kRGF0YVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLmVtcHR5TGVnZW5kU3F1YXJlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICYmIGkgPD0gKChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKyAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdvcGFjaXR5JywgJzEnKTtcclxuXHJcbiAgICAvL0FkZGluZyB0ZXh0IGxhYmVscyBmb3IgZWFjaCByZWN0YW5nbGUgaW4gbGVnZW5kXHJcbiAgICB2YXIgbGVnZW5kVGV4dCA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2xlZ2VuZFRleHQgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50IGVkaXRhYmxlLWxlZ2VuZC0nICsgaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUgKyA3KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjaGFydC5fdmFycy5ncmlkU2l6ZSkgKiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKiAxLjEgKyAxMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgLmF0dHIoJ2R5JywgJzAuMzVlbScpIC8vVmVydGljYWxseSBhbGlnbiB3aXRoIG5vZGVcclxuICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLmZvbnRDb2xvcilcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICYmIGkgPD0gKChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKyAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50TmFtZSA9IGxlZ2VuZERhdGFbaV07XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50TmFtZS5sZW5ndGggPiAyMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnROYW1lLnN1YnN0cmluZygwLCAxOSkgKyAnLi4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9BZGRpbmcgaW5mbyBib3ggdG8gbGVnZW5kIGVsZW1lbnRzIHdoZW4gaG92ZXJpbmcgb3ZlclxyXG4gICAgbGVnZW5kVGV4dFxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL09ubHkgY3JlYXRlIGNhcm91c2VsIGlmIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgZXhjZWVkcyBvbmUgbGVnZW5kIFwicGFnZVwiXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPiAwKSB7XHJcbiAgICAgICAgY3JlYXRlVmVydGljYWxDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWdlbmRSZWN0YW5nbGVzO1xyXG59XHJcblxyXG4vKipjcmVhdGVWZXJ0aWNhbENhcm91c2VsXHJcbiAqXHJcbiAqIERyYXdzIHRoZSB2ZXJ0aWNhbCBsZWdlbmQgY2Fyb3VzZWxcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWwoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGxlZ2VuZFBvbHlnb247XHJcblxyXG4gICAgLy9BZGRpbmcgY2Fyb3VzZWwgdG8gbGVnZW5kXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kLWNhcm91c2VsJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCcjbGVnZW5kLXRleHQtaW5kZXgnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsZWdlbmRQb2x5Z29uID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC1jYXJvdXNlbCcpO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBsZWZ0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZnRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICcjYzJjMmQ2JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcgKyAoKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAqIGNoYXJ0Ll92YXJzLmdyaWRTaXplKSArIDUwKSArICcpJylcclxuICAgICAgICAuYXR0cigncG9pbnRzJywgJzAsNy41LCAxNSwwLCAxNSwxNScpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID49IDEpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jLCBsZWdlbmREYXRhKTtcclxuICAgICAgICAgICAgY2hhcnQubG9jYWxDYWxsYmFja0FwcGx5RWRpdHMoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgZGlzcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBwYWdlIG51bWJlciBmb3IgY2Fyb3VzZWwgbmF2aWdhdGlvblxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmQtdGV4dC1pbmRleCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAzNSlcclxuICAgICAgICAuYXR0cigneScsIDI0Mi41KVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKyAnIC8gJyArIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9DcmVhdGVzIHJpZ2h0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JpZ2h0Q2hldnJvbicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BvaW50ZXItY3Vyc29yJylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnI2MyYzJkNicpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoODUsJyArICgoY2hhcnQuX3ZhcnMubGVnZW5kTWF4ICogY2hhcnQuX3ZhcnMuZ3JpZFNpemUpICsgNTApICsgJyknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMTUsNy41LCAwLDAsIDAsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA8IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9PT0gY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbi8vQmluZCBmdW5jdGlvbnMgdG8gcHJvdG90eXBlIG9yIGp2Q2hhcnRzIG9iamVjdFxyXG5qdkNoYXJ0cy5nZXRDb2xvcnMgPSBnZXRDb2xvcnM7XHJcbmp2Q2hhcnRzLnNldEJhckxpbmVMZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGE7XHJcbmp2Q2hhcnRzLmNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0ID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQ7XHJcbmp2Q2hhcnRzLnZhbHVlcyA9IHZhbHVlcztcclxuanZDaGFydHMuZ2V0WVNjYWxlID0gZ2V0WVNjYWxlO1xyXG5qdkNoYXJ0cy5nZXRaU2NhbGUgPSBnZXRaU2NhbGU7XHJcbmp2Q2hhcnRzLmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IGdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheTtcclxuanZDaGFydHMuZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlTGVnZW5kRWxlbWVudHM7XHJcbmp2Q2hhcnRzLnVwZGF0ZURhdGFGcm9tTGVnZW5kID0gdXBkYXRlRGF0YUZyb21MZWdlbmQ7XHJcbmp2Q2hhcnRzLmNyZWF0ZUNhcm91c2VsID0gY3JlYXRlQ2Fyb3VzZWw7XHJcbmp2Q2hhcnRzLmdlbmVyYXRlVGhyZXNob2xkTGVnZW5kID0gZ2VuZXJhdGVUaHJlc2hvbGRMZWdlbmQ7XHJcbmp2Q2hhcnRzLmF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQgPSBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kO1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHM7XHJcbmp2Q2hhcnRzLmNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWwgPSBjcmVhdGVWZXJ0aWNhbENhcm91c2VsO1xyXG5qdkNoYXJ0cy5nZXRUb2dnbGVkRGF0YSA9IGdldFRvZ2dsZWREYXRhO1xyXG5qdkNoYXJ0cy5nZXRQbG90RGF0YSA9IGdldFBsb3REYXRhO1xyXG5qdkNoYXJ0cy5nZXRQb3NDYWxjdWxhdGlvbnMgPSBnZXRQb3NDYWxjdWxhdGlvbnM7XHJcbmp2Q2hhcnRzLmdldFhTY2FsZSA9IGdldFhTY2FsZTtcclxuanZDaGFydHMuZ2V0WVNjYWxlID0gZ2V0WVNjYWxlO1xyXG5qdkNoYXJ0cy5zZXRCYXJMaW5lTGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhO1xyXG5qdkNoYXJ0cy5qdkZvcm1hdFZhbHVlID0ganZGb3JtYXRWYWx1ZTtcclxuanZDaGFydHMuZ2V0Rm9ybWF0RXhwcmVzc2lvbiA9IGdldEZvcm1hdEV4cHJlc3Npb247XHJcbmp2Q2hhcnRzLmdlbmVyYXRlRXZlbnRHcm91cHMgPSBnZW5lcmF0ZUV2ZW50R3JvdXBzO1xyXG5qdkNoYXJ0cy5qdkZvcm1hdFZhbHVlVHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlO1xyXG5qdkNoYXJ0cy5nZXRBeGlzU2NhbGUgPSBnZXRBeGlzU2NhbGU7XHJcbmp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzID0gc2V0Q2hhcnRDb2xvcnM7XHJcbmp2Q2hhcnRzLmdldERhdGFUeXBlRnJvbUtleXMgPSBnZXREYXRhVHlwZUZyb21LZXlzO1xyXG5qdkNoYXJ0cy5jbGVhblRvb2xEYXRhID0gY2xlYW5Ub29sRGF0YTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiLyoqKiAganZDb21tZW50ICoqKi9cclxuZnVuY3Rpb24ganZDb21tZW50KGNvbmZpZ09iaikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXM7XHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgY29tbWVudE9iai5zaG93Q29tbWVudHMgPSBmYWxzZTtcclxuICAgIGNvbW1lbnRPYmouY29tbWVudHMgPSBjb25maWdPYmouY29tbWVudHMgPyBjb25maWdPYmouY29tbWVudHMgOiB7fTtcclxuICAgIGNvbW1lbnRPYmouZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIGNvbW1lbnRPYmouZHJhd0NvbW1lbnROb2RlcygpO1xyXG4gICAgY29tbWVudE9iai50b2dnbGVDb21tZW50TW9kZSA9IGZ1bmN0aW9uICh0b2dnbGVCb29sKSB7XHJcbiAgICAgICAgdmFyIGVudGlyZVN2ZyA9IGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KFwic3ZnXCIpO1xyXG4gICAgICAgIGlmICh0b2dnbGVCb29sKSB7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgY29tbWVudE9iai5tYWtlQ29tbWVudCh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICBlbnRpcmVTdmcub24oJ2NsaWNrJywgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmoucmVtb3ZlQ29tbWVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbW1lbnRPYmouc2F2ZUNhbGxiYWNrRnVuY3Rpb24gPSBjb25maWdPYmouc2F2ZUNhbGxiYWNrRnVuY3Rpb247XHJcbiAgICBjb21tZW50T2JqLmdldE1vZGUgPSBjb25maWdPYmouZ2V0TW9kZTtcclxufVxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEFsbCBDb21tZW50IE1vZGUgRnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuanZDb21tZW50LnByb3RvdHlwZS5tYWtlQ29tbWVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG5cclxuICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LXJlYWRvbmx5XCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGlmIChjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94XCIpLl9ncm91cHNbMF0ubGVuZ3RoID09PSAwICYmIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtZWRpdFwiKS5fZ3JvdXBzWzBdLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHZhciB4ID0gcGFyc2VJbnQoZDMubW91c2UoZXZlbnQpWzBdKTtcclxuICAgICAgICB2YXIgeSA9IHBhcnNlSW50KGQzLm1vdXNlKGV2ZW50KVsxXSk7XHJcblxyXG4gICAgICAgIC8vY2FsY3VsYXRlIHBvc2l0aW9uIG9mIG92ZXJsYXkgZGl2XHJcbiAgICAgICAgdmFyIGNvbW1lbnRIZWlnaHQgPSAxNDUsXHJcbiAgICAgICAgICAgIGNvbW1lbnRXaWR0aCA9IDIwMCxcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpO1xyXG5cclxuICAgICAgICBjb21tZW50T2JqLmNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNvbW1lbnRib3hcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcImNvbW1lbnRib3hcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAuaHRtbChcIjxkaXYgY2xhc3M9J3RpdGxlJz48Yj5BZGQgTmV3IENvbW1lbnQ8L2I+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8dGV4dGFyZWEgcGxhY2Vob2xkZXI9J0VudGVyIGNvbW1lbnQuLi4nIGZvcm09J2NvbW1lbnRmb3JtJyBzdHlsZT0ncmVzaXplOm5vbmUnIGNsYXNzPSdjb21tZW50LXRleHRhcmVhJyByb3dzPSc0JyBjb2xzPScyNycgbmFtZT0nY29tbWVudCcgaWQgPSAndGV4dGFyZWExJz48L3RleHRhcmVhPlwiICtcclxuICAgICAgICAgICAgICAgIFwiPGJyPjxidXR0b24gY2xhc3M9J2NvbW1lbnRib3gtY2xvc2UnIGlkID0nY2FuY2VsJz48aSBjbGFzcz0nZmEgZmEtY2xvc2UnPjwvaT48L2J1dHRvbj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxidXR0b24gY2xhc3M9J3Ntc3MtYnRuIGNvbW1lbnRib3gtc3VibWl0JyBpZCA9ICdzdWJtaXQnPlN1Ym1pdCBDb21tZW50PC9idXR0b24+XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBwb3NpdGlvbi54ICsgXCJweFwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgcG9zaXRpb24ueSArIFwicHhcIik7XHJcblxyXG4gICAgICAgIC8vQXV0b2ZvY3VzIG9uIHRoZSB0ZXh0IGFyZWFcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRleHRhcmVhMVwiKS5mb2N1cygpO1xyXG5cclxuICAgICAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94XCIpLnNlbGVjdChcIiNjYW5jZWxcIilcclxuICAgICAgICAgICAgLm9uKFwiY2xpY2suZGVsZXRlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmoucmVtb3ZlQ29tbWVudCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGNvbW1lbnRUeXBlID0gJ3N2Z01haW4nO1xyXG5cclxuICAgICAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94XCIpLnNlbGVjdChcIiNzdWJtaXRcIilcclxuICAgICAgICAgICAgLm9uKFwiY2xpY2suc2F2ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tbWVudFRleHQgPSBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdChcIiNjb21tZW50Ym94XCIpLnNlbGVjdChcIiN0ZXh0YXJlYTFcIikuX2dyb3Vwc1swXVswXS52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBuZXdDb21tZW50T2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29tbWVudFRleHQnOiBjb21tZW50VGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dyb3VwSUQnOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAndHlwZSc6IGNvbW1lbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYmluZGluZyc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogeCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5JzogeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4Q2hhcnRBcmVhJzogY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3lDaGFydEFyZWEnOiBjb21tZW50T2JqLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRYJzogeCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjdXJyZW50WSc6IHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYoaXNOYU4oY29tbWVudE9iai5jb21tZW50cy5tYXhJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50T2JqLmNvbW1lbnRzLm1heElkID0gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLnNhdmVDYWxsYmFja0Z1bmN0aW9uKG5ld0NvbW1lbnRPYmosICsrY29tbWVudE9iai5jb21tZW50cy5tYXhJZCwgJ2FkZCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn07XHJcblxyXG5qdkNvbW1lbnQucHJvdG90eXBlLnJlbW92ZUNvbW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXM7XHJcbiAgICB2YXIgY2hhcnREaXYgPSBjb21tZW50T2JqLmNoYXJ0RGl2O1xyXG4gICAgY2hhcnREaXYuc2VsZWN0QWxsKCcuY29tbWVudGJveCcpLnJlbW92ZSgpO1xyXG59O1xyXG5cclxuanZDb21tZW50LnByb3RvdHlwZS5zaG93QWxsQ29tbWVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXM7XHJcblxyXG4gICAgLy9SZW1vdmUgYW55IGNvbW1lbnQgYm94ZXMgaWYgY29tbWVudHMgYXJlIGJlaW5nIHRvZ2dsZWRcclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3hcIikucmVtb3ZlKCk7XHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LWVkaXRcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgaWYgKGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID09PSBmYWxzZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgaW4gY29tbWVudE9iai5jb21tZW50cy5saXN0KSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWNvbW1lbnRPYmouY29tbWVudHMubGlzdFtpXVsnYmluZGluZyddKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbW1lbnQgaXMgaW4gb2xkIGZvcm1hdCwgd2lsbCBub3QgZGlzcGxheVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2ldO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNoYXJ0QXJlYVdpZHRoID0gY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgY2hhcnRBcmVhSGVpZ2h0ID0gY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHZhciB4ID0gKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtpXVsnYmluZGluZyddLnggLyBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbaV1bJ2JpbmRpbmcnXS54Q2hhcnRBcmVhICogY2hhcnRBcmVhV2lkdGgpO1xyXG4gICAgICAgICAgICB2YXIgeSA9IChjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbaV1bJ2JpbmRpbmcnXS55IC8gY29tbWVudE9iai5jb21tZW50cy5saXN0W2ldWydiaW5kaW5nJ10ueUNoYXJ0QXJlYSAqIGNoYXJ0QXJlYUhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29tbWVudFRleHQgPSB2YWx1ZVsnY29tbWVudFRleHQnXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb21tZW50SGVpZ2h0ID0gODAsXHJcbiAgICAgICAgICAgICAgICBjb21tZW50V2lkdGggPSAxODUsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGNvbW1lbnRPYmoub3ZlcmxheURpdlBvc2l0aW9uKGNvbW1lbnRXaWR0aCwgY29tbWVudEhlaWdodCwgeCwgeSk7XHJcblxyXG4gICAgICAgICAgICBjb21tZW50T2JqLmNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjb21tZW50Ym94LXJlYWRvbmx5XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImlkXCIsIFwiY29tbWVudGJveC1yZWFkb25seVwiICsgaSlcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgICAgIC8vLnN0eWxlKFwiYm9yZGVyXCIsIFwiMXB4IHNvbGlkIGJsYWNrXCIpXHJcbiAgICAgICAgICAgICAgICAuaHRtbChcIjx0ZXh0YXJlYSByZWFkb25seSBzdHlsZT0ncmVzaXplOm5vbmUnIGNsYXNzPSdjb21tZW50LXRleHRhcmVhJyByb3dzPSc0JyBjb2xzPScyNycgbmFtZT0nY29tbWVudCc+XCIgKyBjb21tZW50VGV4dCArIFwiPC90ZXh0YXJlYT5cIilcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgcG9zaXRpb24ueCArIFwicHhcIilcclxuICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCBwb3NpdGlvbi55ICsgXCJweFwiKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29tbWVudE9iai5zaG93Q29tbWVudHMgPSB0cnVlO1xyXG4gICAgICAgIC8vY2hhcnQudG9vbEJhci5zZWxlY3QoXCIjdG9wQmFyQnV0dG9uXCIrY2hhcnQuY29uZmlnLm5hbWUrXCJzaG93YWxsY29tbWVudHNcIikuc2VsZWN0KCdidXR0b24nKS5jbGFzc2VkKCd0b2dnbGVkJywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LXJlYWRvbmx5XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICAgICAgLy9jaGFydC50b29sQmFyLnNlbGVjdChcIiN0b3BCYXJCdXR0b25cIitjaGFydC5jb25maWcubmFtZStcInNob3dhbGxjb21tZW50c1wiKS5zZWxlY3QoJ2J1dHRvbicpLmNsYXNzZWQoJ3RvZ2dsZWQnLCBmYWxzZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5qdkNvbW1lbnQucHJvdG90eXBlLmRyYXdDb21tZW50Tm9kZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXM7XHJcblxyXG4gICAgdmFyIGNvbW1lbnRzID0gY29tbWVudE9iai5jb21tZW50cy5saXN0O1xyXG4gICAgdmFyIGNoYXJ0RGl2ID0gY29tbWVudE9iai5jaGFydERpdjtcclxuICAgIHZhciBzdmcgPSBjaGFydERpdi5zZWxlY3QoXCJzdmdcIik7XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5taW4tY29tbWVudFwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpIGluIGNvbW1lbnRzKSB7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgY2hhcnREaXYuX2dyb3VwcyA9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbW1lbnQgZGF0YSBpcyBpbiBvbGQgZm9ybWF0LCB3aWxsIG5vdCBkaXNwbGF5IG9yIGNoYXJ0IGRpdiBkb2VzbnQgZXhpc3RcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY29tbWVudHNbaV1bJ2JpbmRpbmcnXSB8fCAhY2hhcnREaXYuX2dyb3Vwc1swXVswXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbW1lbnQgZGF0YSBpcyBpbiBvbGQgZm9ybWF0LCB3aWxsIG5vdCBkaXNwbGF5IG9yIGNoYXJ0IGRpdiBkb2VzbnQgZXhpc3RcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgY2hhcnRBcmVhV2lkdGggPSBjaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIHZhciBjaGFydEFyZWFIZWlnaHQgPSBjaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIHggPSAoY29tbWVudHNbaV1bJ2JpbmRpbmcnXS54IC8gY29tbWVudHNbaV1bJ2JpbmRpbmcnXS54Q2hhcnRBcmVhICogY2hhcnRBcmVhV2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gKGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueSAvIGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueUNoYXJ0QXJlYSAqIGNoYXJ0QXJlYUhlaWdodCk7XHJcblxyXG4gICAgICAgIGNvbW1lbnRzW2ldWydiaW5kaW5nJ10uY3VycmVudFggPSAoY29tbWVudHNbaV1bJ2JpbmRpbmcnXS54IC8gY29tbWVudHNbaV1bJ2JpbmRpbmcnXS54Q2hhcnRBcmVhICogY2hhcnRBcmVhV2lkdGgpO1xyXG4gICAgICAgIGNvbW1lbnRzW2ldWydiaW5kaW5nJ10uY3VycmVudFkgPSAoY29tbWVudHNbaV1bJ2JpbmRpbmcnXS55IC8gY29tbWVudHNbaV1bJ2JpbmRpbmcnXS55Q2hhcnRBcmVhICogY2hhcnRBcmVhSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdmFyIGNvbW1lbnROb2RlID0gc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm1pbi1jb21tZW50XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJub2RlXCIgKyBpKVxyXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCIjZTZlNmU2XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCB4KVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgeSlcclxuICAgICAgICAgICAgLmF0dHIoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFwiZGFya2dyYXlcIilcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzE1cHgnO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdcXHVmMGU1JztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJvcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgIC5vbihcImRibGNsaWNrLmNvbW1lbnRcIiwgZnVuY3Rpb24gKG5vZGUpIHsvL0VkaXQgdGV4dCBvciBkZWxldGUgdGhlIGNvbW1lbnRcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1lZGl0XCIpLl9ncm91cHNbMF0ubGVuZ3RoID09PSAwICYmIGNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94XCIpLl9ncm91cHNbMF0ubGVuZ3RoID09PSAwKSB7Ly9ObyBjb21tZW50cyBhcmUgb3BlblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50T2JqLmdldE1vZGUoKSA9PT0gJ2NvbW1lbnQtbW9kZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudE9iai5zaG93Q29tbWVudHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtcmVhZG9ubHlcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50VGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50Q29tbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogaW4gY29tbWVudE9iai5jb21tZW50cy5saXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WCkgPT09IE1hdGgucm91bmQodGhpcy54LmJhc2VWYWxbMF0udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucm91bmQoY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFkpID09PSBNYXRoLnJvdW5kKHRoaXMueS5iYXNlVmFsWzBdLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50VGV4dCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5jb21tZW50VGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb21tZW50ID0gajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRIZWlnaHQgPSAxNDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50V2lkdGggPSAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGNvbW1lbnRPYmoub3ZlcmxheURpdlBvc2l0aW9uKGNvbW1lbnRXaWR0aCwgY29tbWVudEhlaWdodCwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjb21tZW50Ym94LWVkaXRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgcG9zaXRpb24ueCArIFwicHhcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCBwb3NpdGlvbi55ICsgXCJweFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8uc3R5bGUoXCJib3JkZXJcIiwgXCIxcHggc29saWQgYmxhY2tcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKFwiPGRpdiBjbGFzcz0ndGl0bGUnPjxiPkVkaXQgQ29tbWVudDwvYj48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8dGV4dGFyZWEgaWQ9J2VkaXQnIHN0eWxlPSdyZXNpemU6bm9uZScgY2xhc3M9J2NvbW1lbnQtdGV4dGFyZWEnIHJvd3M9JzQnIGNvbHM9JzI3JyBuYW1lPSdjb21tZW50Jz5cIiArIGNvbW1lbnRUZXh0ICsgXCI8L3RleHRhcmVhPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxicj48YnV0dG9uIGNsYXNzPSdjb21tZW50Ym94LWNsb3NlJyBpZCA9J2NhbmNlbC1lZGl0Jz48aSBjbGFzcz0nZmEgZmEtY2xvc2UnPjwvaT48L2J1dHRvbj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8YnV0dG9uIGNsYXNzPSdzbXNzLWJ0bicgaWQgPSdkZWxldGUnPkRlbGV0ZTwvYnV0dG9uPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxidXR0b24gY2xhc3M9J3Ntc3MtYnRuJyBpZCA9ICdzYXZlJz5TYXZlPC9idXR0b24+XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtZWRpdFwiKS5zZWxlY3QoXCIjZGVsZXRlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGljay5kZWxldGVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LWVkaXRcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtcmVhZG9ubHlcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiI25vZGVcIiArIGN1cnJlbnRDb21tZW50KS5hdHRyKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlZHJhdyBjb21tZW50IG5vZGVzIHdpdGggbmV3IGluZGV4ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50T2JqLnNhdmVDYWxsYmFja0Z1bmN0aW9uKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtjdXJyZW50Q29tbWVudF0sIGN1cnJlbnRDb21tZW50LCAncmVtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LWVkaXRcIikuc2VsZWN0KFwiI3NhdmVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrLnNhdmVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50VGV4dCA9IGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LWVkaXRcIikuc2VsZWN0KFwiI2VkaXRcIikuX2dyb3Vwc1swXVswXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbY3VycmVudENvbW1lbnRdLmNvbW1lbnRUZXh0ID0gY29tbWVudFRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtcmVhZG9ubHlcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtZWRpdFwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50T2JqLnNhdmVDYWxsYmFja0Z1bmN0aW9uKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtjdXJyZW50Q29tbWVudF0sIGN1cnJlbnRDb21tZW50LCAnZWRpdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1lZGl0XCIpLnNlbGVjdChcIiNjYW5jZWwtZWRpdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2suY2FuY2VsLWVkaXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LXJlYWRvbmx5XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LWVkaXRcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwibW91c2VlbnRlci5jb21tZW50XCIsIGZ1bmN0aW9uIChkKSB7Ly9TaG93IGhvdmVyIG92ZXIgYm94IHdoZW4gbW91c2UgZW50ZXJzIG5vZGVcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50T2JqLnNob3dDb21tZW50cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudFRleHQgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIGNvbW1lbnRPYmouY29tbWVudHMubGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WCkgPT09IE1hdGgucm91bmQodGhpcy54LmJhc2VWYWxbMF0udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WSkgPT09IE1hdGgucm91bmQodGhpcy55LmJhc2VWYWxbMF0udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudFRleHQgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2NvbW1lbnRUZXh0J107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRIZWlnaHQgPSA4MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudFdpZHRoID0gMTg1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGNvbW1lbnRPYmoub3ZlcmxheURpdlBvc2l0aW9uKGNvbW1lbnRXaWR0aCwgY29tbWVudEhlaWdodCwgeCwgeSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50RGl2ID0gY2hhcnREaXYuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY29tbWVudGJveC1yZWFkb25seVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8uc3R5bGUoXCJib3JkZXJcIiwgXCIxcHggc29saWQgYmxhY2tcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmh0bWwoXCI8dGV4dGFyZWEgcmVhZG9ubHkgcm93cz0nNCcgc3R5bGU9J3Jlc2l6ZTpub25lJyBjb2xzPScyNycgY2xhc3M9J3RleHRhcmVhJyBuYW1lPSdjb21tZW50Jz5cIiArIGNvbW1lbnRUZXh0ICsgXCI8L3RleHRhcmVhPlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIHBvc2l0aW9uLnggKyBcInB4XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCBwb3NpdGlvbi55ICsgXCJweFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwibW91c2VvdXQuY29tbWVudFwiLCBmdW5jdGlvbiAoZCkgey8vUmVtb3ZlIGhvdmVyIG92ZXIgYm94IHdoZW4gbW91c2UgbW92ZXMgYXdheVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LXJlYWRvbmx5XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogVXRpbGl0eSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmp2Q29tbWVudC5wcm90b3R5cGUub3ZlcmxheURpdlBvc2l0aW9uID0gZnVuY3Rpb24gKGRpdldpZHRoLCBkaXZIZWlnaHQsIG1vdXNlWCwgbW91c2VZKSB7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXM7XHJcbiAgICB2YXIgcG9zaXRpb24gPSB7fTtcclxuICAgIGlmIChtb3VzZVggPiAocGFyc2VJbnQoY29tbWVudE9iai5jaGFydERpdi5zdHlsZSgnd2lkdGgnKSkpIC8gMikge1xyXG4gICAgICAgIHBvc2l0aW9uLnggPSBtb3VzZVggLSBkaXZXaWR0aCAtIDU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uLnggPSBtb3VzZVggKyAxMDtcclxuICAgIH1cclxuICAgIGlmIChtb3VzZVkgLSBkaXZIZWlnaHQgLSAxMCA+IDApIHtcclxuICAgICAgICBwb3NpdGlvbi55ID0gbW91c2VZIC0gZGl2SGVpZ2h0IC0gMTA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uLnkgPSBtb3VzZVkgKyAxMDtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDb21tZW50O1xyXG4iLCIvKioqICBqdkVkaXQgKioqL1xyXG5mdW5jdGlvbiBqdkVkaXQoY29uZmlnT2JqKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIGVkaXRPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gJyc7XHJcbiAgICBlZGl0T2JqLnZpek9wdGlvbnMgPSBjb25maWdPYmoudml6T3B0aW9ucyA/IGNvbmZpZ09iai52aXpPcHRpb25zIDoge307XHJcbiAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID0gMDtcclxuICAgIGVkaXRPYmouZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCcuZWRpdC1kaXYnKS5yZW1vdmUoKTtcclxuICAgIGVkaXRPYmouZWRpdERpdiA9IGVkaXRPYmouY2hhcnREaXYuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdlZGl0LWRpdiBzZW1vc3MtZDMtdGlwIGFic29sdXRlJyk7XHJcbiAgICBlZGl0T2JqLmFwcGx5QWxsRWRpdHMoKTtcclxuICAgIGVkaXRPYmouc2F2ZVZpek9wdGlvbnMgPSBjb25maWdPYmouc2F2ZVZpek9wdGlvbnNGdW5jdGlvbjtcclxuICAgIGVkaXRPYmoudG9nZ2xlRWRpdE1vZGUgPSBmdW5jdGlvbiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgIHZhciBlbnRpcmVTdmcgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChcInN2Z1wiKTtcclxuICAgICAgICBpZiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcuc2VsZWN0QWxsKFwiLmV2ZW50LXJlY3RcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2VkaXQgbW9kZSBldmVudHNcclxuICAgICAgICAgICAgICAgIC8vZ29pbmcgdG8gYmUgbW91c2VvdmVyIHRvIGhpZ2hsaWdodCBvcHRpb25zIGZvciB3aGF0ZXZlciBwaWVjZSB5b3UgaG92ZXIgb3ZlclxyXG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzVGV4dCA9IGQzLnNlbGVjdChkMy5ldmVudC50YXJnZXQpLmF0dHIoJ2NsYXNzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzVGV4dC5pbmRleE9mKCdlZGl0YWJsZScpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE9iai5kaXNwbGF5RWRpdCh0aGlzLCBjbGFzc1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5zZWxlY3RBbGwoJy5lZGl0YWJsZScpLmNsYXNzZWQoJ3BvaW50ZXInLCB0cnVlKTtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdkYmxjbGljaycsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbCgnLmVkaXRhYmxlJykuY2xhc3NlZCgncG9pbnRlcicsIGZhbHNlKTtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbChcIi5ldmVudC1yZWN0XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEFsbCBFZGl0IE1vZGUgRnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqIGRpc3BsYXlFZGl0XHJcbiAqXHJcbiAqIERpc3BsYXlzIHRoZSBlZGl0IGRpdiwgZ3JhYmJpbmcgaXQgZnJvbSB0aGUgdGVtcGxhdGVcclxuICpcclxuICovXHJcbmp2RWRpdC5wcm90b3R5cGUuZGlzcGxheUVkaXQgPSBmdW5jdGlvbiAoZXZlbnQsIG9wdGlvbnMpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuXHJcbiAgICAvL3JldHVybiBpZiB5b3UgY2xpY2sgb24gdGhlIHNhbWUgZWxlbWVudCB0d2ljZSwgbm8gbmVlZCB0byBkaXNwbGF5IGEgc2Vjb25kIGVkaXQgZGl2IGlmIHRoZSBjdXJyZW50IG9uZSBpcyBzdGlsbCBvcGVuXHJcbiAgICBpZiAoZWRpdE9iai5lZGl0T3B0aW9ucyA9PT0gb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGVkaXRPYmouZWRpdERpdi5odG1sKCcnKTtcclxuICAgIGVkaXRPYmouZWRpdE9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgdmFyIG1vdXNlWCA9IGQzLm1vdXNlKGV2ZW50KVswXSxcclxuICAgICAgICBtb3VzZVkgPSBkMy5tb3VzZShldmVudClbMV07XHJcblxyXG5cclxuICAgIC8vZ2V0IHRoZSBlZGl0IHRlbXBsYXRlIGh0bWwgYW5kIHRoZW4gZGV0ZXJtaW5lIHdoaWNoIHBpZWNlcyB0byBzaG93XHJcbiAgICAkLmdldCgncmVzb3VyY2VzL2pzL2p2Q2hhcnRzL3NyYy9lZGl0T3B0aW9uc1RlbXBsYXRlLmh0bWwnLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIC8vYXNzaWduIGh0bWwgdG8gZWRpdERpdiAoYmFzaWNhbGx5IGRpc3BsYXlzIHRoZSBkaXYpXHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2Lmh0bWwoZGF0YSk7XHJcblxyXG4gICAgICAgIC8vb3B0aW9uVmFsdWVzIC0gYW4gYXJyYXkgb2Ygc3RyaW5ncy5cclxuICAgICAgICAvLyAgICAgIFN0cmluZyBpcyB0aGUgaWQgdG8gdGhlIGVsZW1lbnQgaW4gdGhlIGVkaXREaXYgZm9ybS5cclxuICAgICAgICAvLyAgICAgIFRoaXMgc3RyaW5nIGNvbnRhaW5zIHRoZSBzcGVjaWZpYyBvcHRpb24gdGhhdCBpcyBiZWluZyBjaGFuZ2VkXHJcblxyXG4gICAgICAgIC8vaXRlbVRvQ2hhbmdlXHJcbiAgICAgICAgLy8gICAgICBTdHJpbmcgdGhhdCBpcyB0aGUgY2xhc3Mgb2YgdGhlIHN2ZyBlbGVtZW50IHRvIGJlIGNoYW5nZWQgb24gdGhlIHZpeiBpdHNlbGZcclxuXHJcblxyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXMgPSBbXSxcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gJycsXHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50ID0gZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIiNlZGl0LW9wdGlvbi1lbGVtZW50XCIpO1xyXG5cclxuICAgICAgICAvL2lmIHN0YXRlbWVudHMgdG8gZGV0ZXJtaW5lIHdoaWNoIGVkaXQgb3B0aW9ucyB0byBkaXNwbGF5XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUteUF4aXMnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBZIEF4aXMnKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneUF4aXMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS14QXhpcycpID49IDApIHtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFggQXhpcycpO1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGl0ZW1Ub0NoYW5nZSA9ICd4QXhpcyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ3lMYWJlbCcpID49IDApIHtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFkgTGFiZWwnKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneUxhYmVsJztcclxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZigneExhYmVsJykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgWCBMYWJlbCcpO1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGl0ZW1Ub0NoYW5nZSA9ICd4TGFiZWwnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdsZWdlbmRUZXh0JykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgTGVnZW5kIEl0ZW0nKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSBvcHRpb25zLnN1YnN0cmluZyhvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWxlZ2VuZC0nKSkuc3BsaXQoJyAnKVswXTtcclxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtYmFyJykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgQmFyIENoYXJ0Jyk7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1iYXJcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWJhcicpO1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSBvcHRpb25zLnN1YnN0cmluZyhvcHRpb25zLmluZGV4T2YoJ2Jhci1jb2wtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXBpZScpID49IDApIHtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFBpZSBTbGljZScpO1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtcGllXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS1waWUnKTtcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdwaWUtc2xpY2UtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXNjYXR0ZXInKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBTY2F0dGVyIFBsb3QnKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXNjYXR0ZXJcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXNjYXR0ZXInKTtcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdzY2F0dGVyLWNpcmNsZS0nKSkuc3BsaXQoJyAnKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1zdmcnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBBbGwgVGV4dCcpO1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtdGV4dC1zaXplLWJ1dHRvbnNcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgLy9lZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLWRlZmF1bHQtYW5kLWFwcGx5XCIpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXRleHQtc2l6ZScpO1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSAnc3ZnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RpbGwgbmVlZCB0byBhZGQgb3B0aW9uIHRvIGRpc3BsYXkgZWRpdFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLW51bScpID49IDApIHtcclxuICAgICAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1udW0tZm9ybWF0XCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS1udW0tZm9ybWF0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXRleHQnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtdGV4dC1jb2xvclwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtdGV4dC1jb2xvcicpO1xyXG4gICAgICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXRleHQtc2l6ZVwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtdGV4dC1zaXplJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWNvbnRlbnQnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtY29udGVudFwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtY29udGVudCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9wb3B1bGF0ZSBlZGl0IGRpdiB3aXRoIGluaXRpYWwgdmFsdWVzXHJcbiAgICAgICAgaWYgKGVkaXRPYmoudml6T3B0aW9uc1tpdGVtVG9DaGFuZ2VdKSB7XHJcbiAgICAgICAgICAgIHBvcHVsYXRlU2VsZWN0aW9uc0VkaXRNb2RlKGVkaXRPYmouZWRpdERpdiwgZWRpdE9iai52aXpPcHRpb25zW2l0ZW1Ub0NoYW5nZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlZGl0T2JqLmVkaXREaXZcclxuICAgICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAwICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIDAgKyAncHgnKTtcclxuXHJcbiAgICAgICAgLy9jYWxjdWxhdGUgcG9zaXRpb24gb2Ygb3ZlcmxheSBkaXZcclxuICAgICAgICB2YXIgZWRpdEhlaWdodCA9IHBhcnNlRmxvYXQoZWRpdE9iai5lZGl0RGl2LnN0eWxlKCdoZWlnaHQnKSksXHJcbiAgICAgICAgICAgIGVkaXRXaWR0aCA9IHBhcnNlRmxvYXQoZWRpdE9iai5lZGl0RGl2LnN0eWxlKCd3aWR0aCcpKSxcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBlZGl0T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihlZGl0V2lkdGgsIGVkaXRIZWlnaHQsIG1vdXNlWCwgbW91c2VZKTtcclxuXHJcbiAgICAgICAgLy9zaG93IHRoZSBuZXcgZWRpdCBkaXZcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXZcclxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBwb3NpdGlvbi54ICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIHBvc2l0aW9uLnkgKyAncHgnKTtcclxuXHJcbiAgICAgICAgLy9hZGQgc3VibWl0LCBkZWZhdWx0LCBhbmQgZXhpdCBsaXN0ZW5lcnMgdG8gdGhlIGRpdlxyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJyNzdWJtaXRFZGl0TW9kZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzdWJtaXRFZGl0TW9kZShlZGl0T2JqLCBvcHRpb25WYWx1ZXMsIGl0ZW1Ub0NoYW5nZSk7XHJcbiAgICAgICAgICAgIGVkaXRPYmoucmVtb3ZlRWRpdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJyNzdWJtaXRFZGl0TW9kZURlZmF1bHQnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3VibWl0RWRpdE1vZGUoZWRpdE9iaiwgb3B0aW9uVmFsdWVzLCBpdGVtVG9DaGFuZ2UsIHRydWUpO1xyXG4gICAgICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjZXhpdEVkaXRNb2RlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRPYmoucmVtb3ZlRWRpdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnQgPSAwO1xyXG4gICAgICAgIC8vQWRkaW5nIGNsaWNrIGV2ZW50cyBmb3IgaW5jcmVhc2UvZGVjcmVhc2UgZm9udCBzaXplIGJ1dHRvbnNcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiI2luY3JlYXNlRm9udFNpemVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRPYmouaW5jcmVhc2VGb250U2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIjZGVjcmVhc2VGb250U2l6ZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZWRpdE9iai5kZWNyZWFzZUZvbnRTaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKiBpbmNyZWFzZUZvbnRTaXplXHJcbiAqXHJcbiAqIEluY3JlYXNlcyB0aGUgZm9udCBzaXplIGJ5IDEgd2hlbiBpbmNyZWFzZWQgdmlhIGVkaXQgb3B0aW9ucyBmb3IgYWxsIHRleHRcclxuICpcclxuICovXHJcbmp2RWRpdC5wcm90b3R5cGUuaW5jcmVhc2VGb250U2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcyxcclxuICAgICAgICBmb250SW5jcmVtZW50ID0gMSxcclxuICAgICAgICBtYXhTaXplID0gMjg7XHJcbiAgICBpZihlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50IDwgbWF4U2l6ZSkge1xyXG4gICAgICAgIGVkaXRPYmouY2hhbmdlRm9udFNpemUoZm9udEluY3JlbWVudCk7XHJcbiAgICAgICAgZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCsrO1xyXG4gICAgICAgIGVkaXRPYmoudml6T3B0aW9uc1tcInRleHRcIl0gPSB7J2VkaXRhYmxlLXRleHQtaW5jcmVtZW50JzogZWRpdE9iai5mb250U2l6ZUluY3JlbWVudH07XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKiogZGVjcmVhc2VGb250U2l6ZVxyXG4gKlxyXG4gKiBEZWNyZWFzZXMgdGhlIGZvbnQgc2l6ZSBieSAxIHdoZW4gZGVjcmVhc2VkIHZpYSBlZGl0IG9wdGlvbnMgZm9yIGFsbCB0ZXh0XHJcbiAqXHJcbiAqL1xyXG5qdkVkaXQucHJvdG90eXBlLmRlY3JlYXNlRm9udFNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXMsXHJcbiAgICAgICAgZm9udERlY3JlbWVudCA9IC0xLFxyXG4gICAgICAgIG1pblNpemUgPSAtMTI7XHJcbiAgICAvL21pbiBzaXplIGlzIG5lZyAxMiBiZWNhdXNlIGRlZmF1bHQgc2l6ZSBpcyAxMnB4IG9uIG91ciBjaGFydHNcclxuICAgIGlmKGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnQgPiBtaW5TaXplKSB7XHJcbiAgICAgICAgZWRpdE9iai5jaGFuZ2VGb250U2l6ZShmb250RGVjcmVtZW50KTtcclxuICAgICAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50LS07XHJcbiAgICAgICAgZWRpdE9iai52aXpPcHRpb25zW1widGV4dFwiXSA9IHsnZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnOiBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50fTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKiBjaGFuZ2VGb250U2l6ZVxyXG4gKlxyXG4gKiBJbmNyZWFzZXMgb3IgZGVjcmVhc2VzIGZvbnQgc2l6ZSBieSBhIGNlcnRhaW4gaW5jcmVtZW50XHJcbiAqXHJcbiAqL1xyXG5qdkVkaXQucHJvdG90eXBlLmNoYW5nZUZvbnRTaXplID0gZnVuY3Rpb24gKGluY3JlbWVudCkge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzLFxyXG4gICAgICAgIG5ld1NpemU7XHJcblxyXG4gICAgZWRpdE9iai5jaGFydERpdi5zZWxlY3RBbGwoJ3RleHQnKS5lYWNoKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgdmFyIHRoaXNEaXYgPSB0aGlzLFxyXG4gICAgICAgICAgICB0ZXh0U2l6ZSA9IDEyO1xyXG4gICAgICAgIGlmICh0aGlzRGl2LmdldEF0dHJpYnV0ZSgnZm9udC1zaXplJykpIHtcclxuICAgICAgICAgICAgdGV4dFNpemUgPSB0aGlzRGl2LmdldEF0dHJpYnV0ZSgnZm9udC1zaXplJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1NpemUgPSBwYXJzZUludCh0ZXh0U2l6ZSkgKyBpbmNyZW1lbnQ7XHJcbiAgICAgICAgdGhpc0Rpdi5zZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScsIG5ld1NpemUpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuLyoqIHBvcHVsYXRlU2VsZWN0aW9uc0VkaXRNb2RlXHJcbiAqXHJcbiAqIEluaXRpYWxseSBwb3B1bGF0ZXMgdGhlIGVkaXREaXYgaWYgdGhlcmUgYXJlIHZpek9wdGlvbnNcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHBvcHVsYXRlU2VsZWN0aW9uc0VkaXRNb2RlKGVkaXREaXYsIHZpek9wdGlvbnMpIHtcclxuICAgIGZvciAodmFyIG9wdGlvbiBpbiB2aXpPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHZpek9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRPYmplY3QgPSBlZGl0RGl2LnNlbGVjdCgnIycgKyBvcHRpb24pLl9ncm91cHNbMF1bMF07XHJcbiAgICAgICAgICAgIC8vZGVmYXVsdCBjb2xvciBpbnB1dHMgdG8gZ3JheVxyXG4gICAgICAgICAgICBpZiAodml6T3B0aW9uc1tvcHRpb25dID09PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC50eXBlID09PSAnY29sb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkT2JqZWN0LmlkLmluZGV4T2YoJ3RleHQnKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QudmFsdWUgPSAnIzAwMDAwMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QudmFsdWUgPSAnI2FhYWFhYSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QudmFsdWUgPSB2aXpPcHRpb25zW29wdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKiBzdWJtaXRFZGl0TW9kZVxyXG4gKlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gc3VibWl0RWRpdE1vZGUoZWRpdE9iaiwgb3B0aW9uVmFsdWVzLCBpdGVtVG9DaGFuZ2UsIGRlZmF1bHRCdG5DbGlja2VkKSB7XHJcbiAgICB2YXIgb3B0aW9uQXJyYXkgPSBvcHRpb25WYWx1ZXMsXHJcbiAgICAgICAgc2VsZWN0ZWRFZGl0T3B0aW9ucyA9IHt9LFxyXG4gICAgICAgIGVkaXRWYWx1ZSxcclxuICAgICAgICBzZWxlY3RlZE9iajtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbkFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbkFycmF5W2ldLmluZGV4T2YoJ2VkaXRhYmxlLWxlZ2VuZCcpID4gMCkge1xyXG4gICAgICAgICAgICAvL2NoYW5nZSBpdGVtIHRvIGNoYW5nZSBmb3IgbGVnZW5kIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbkFycmF5W2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxlY3RlZE9iaiA9IGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJyMnICsgb3B0aW9uQXJyYXlbaV0pO1xyXG4gICAgICAgIC8vc2VlIGlmIHNlbGVjdGVkIG9iamVjdCBleGlzdHNcclxuICAgICAgICBpZiAoc2VsZWN0ZWRPYmogJiYgc2VsZWN0ZWRPYmouX2dyb3Vwc1swXSAmJiBzZWxlY3RlZE9iai5fZ3JvdXBzWzBdWzBdKSB7XHJcbiAgICAgICAgICAgIGVkaXRWYWx1ZSA9IHNlbGVjdGVkT2JqLl9ncm91cHNbMF1bMF0udmFsdWU7XHJcbiAgICAgICAgICAgIC8vZ2V0IHNlbGVjdGVkIG9wdGlvbiBmcm9tIGVkaXQgZGl2XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25BcnJheVtpXSA9PT0gJ2VkaXRhYmxlLWNvbnRlbnQnICYmIGVkaXRWYWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIC8vZG9udCBhZGQgYW4gZW1wdHkgc3RyaW5nIHRvIHRoZSB2aXogb3B0aW9ucyBmb3IgZWRpdGFibGUgY29udGVudFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZWN0ZWRFZGl0T3B0aW9uc1tvcHRpb25BcnJheVtpXV0gPSBlZGl0VmFsdWU7XHJcbiAgICAgICAgICAgIGlmICgoIXNlbGVjdGVkRWRpdE9wdGlvbnNbb3B0aW9uQXJyYXlbaV1dKSAmJiBvcHRpb25BcnJheVtpXS5pbmRleE9mKCdjb250ZW50JykgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEVkaXRPcHRpb25zW29wdGlvbkFycmF5W2ldXSA9ICdkZWZhdWx0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZihkZWZhdWx0QnRuQ2xpY2tlZCl7XHJcbiAgICAgICAgaWYoaXRlbVRvQ2hhbmdlID09PSAnc3ZnJykge1xyXG4gICAgICAgICAgICBkZWxldGUgZWRpdE9iai52aXpPcHRpb25zWyd0ZXh0J107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSBlZGl0T2JqLnZpek9wdGlvbnNbaXRlbVRvQ2hhbmdlXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWRpdE9iai52aXpPcHRpb25zW2l0ZW1Ub0NoYW5nZV0gPSBzZWxlY3RlZEVkaXRPcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGl0ZW1Ub0NoYW5nZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICBkZWxldGUgZWRpdE9iai52aXpPcHRpb25zWydzdmcnXTtcclxuICAgIH1cclxuXHJcbiAgICAvL3NhdmUgdml6T3B0aW9uc1xyXG4gICAgZWRpdE9iai5zYXZlVml6T3B0aW9ucyhlZGl0T2JqLnZpek9wdGlvbnMpO1xyXG59XHJcblxyXG5cclxuanZFZGl0LnByb3RvdHlwZS5hcHBseUVkaXRNb2RlID0gZnVuY3Rpb24gKGl0ZW1Ub0NoYW5nZSwgb3B0aW9ucykge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzO1xyXG4gICAgdmFyIG9iamVjdCA9IGVkaXRPYmouY2hhcnREaXYuc2VsZWN0KFwiLlwiICsgaXRlbVRvQ2hhbmdlKTtcclxuICAgIHZhciBvYmplY3RHcm91cHMgPSBvYmplY3QuX2dyb3VwcztcclxuICAgIHZhciBvYmplY3RUYWdOYW1lID0gb2JqZWN0R3JvdXBzWzBdWzBdID8gb2JqZWN0R3JvdXBzWzBdWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA6IG51bGw7XHJcblxyXG4gICAgaWYgKGl0ZW1Ub0NoYW5nZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgLy9kbyBzb21ldGhpbmcgaWYgaXQgaXMgYWxsIHRoZSB0ZXh0IHRoYXQgaXMgYmVpbmcgY2hhbmdlZFxyXG4gICAgICAgIG9iamVjdCA9IGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwidGV4dFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvL29wdGlvbnMgYnkgdGFnTmFtZVxyXG4gICAgaWYgKG9iamVjdFRhZ05hbWUgPT09ICdnJykge1xyXG4gICAgICAgIG9iamVjdCA9IGVkaXRPYmouY2hhcnREaXYuc2VsZWN0KFwiLlwiICsgaXRlbVRvQ2hhbmdlKS5zZWxlY3RBbGwoJ3RleHQnKTtcclxuICAgIH0gZWxzZSBpZiAob2JqZWN0VGFnTmFtZSA9PT0gJ3JlY3QnKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLWJhciddKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5hdHRyKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtYmFyJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAob2JqZWN0VGFnTmFtZSA9PT0gJ2NpcmNsZScpIHtcclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtc2NhdHRlciddKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5hdHRyKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtc2NhdHRlciddKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG9iamVjdFRhZ05hbWUgPT09ICdwYXRoJykge1xyXG4gICAgICAgIGlmIChvcHRpb25zWydlZGl0YWJsZS1waWUnXSkge1xyXG4gICAgICAgICAgICBvYmplY3QuYXR0cignZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLXBpZSddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9zdGFuZGFyZCBvcHRpb25zXHJcbiAgICAvL0lmIGEgdGV4dCBpbmNyZW1lbnQgZXhpc3RzLCBhcHBseSBpdCBiYXNlZCBvbiB0aGUgc2lnbiBvZiB0aGUgdmFyaWFibGVcclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS10ZXh0LWluY3JlbWVudCcpKSB7XHJcbiAgICAgICAgZWRpdE9iai5jaGFuZ2VGb250U2l6ZShvcHRpb25zWydlZGl0YWJsZS10ZXh0LWluY3JlbWVudCddKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS10ZXh0LXNpemUnKSkge1xyXG4gICAgICAgIG9iamVjdC5zdHlsZSgnZm9udC1zaXplJywgb3B0aW9uc1snZWRpdGFibGUtdGV4dC1zaXplJ10pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLXRleHQtY29sb3InKSkge1xyXG4gICAgICAgIG9iamVjdC5zdHlsZSgnZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLXRleHQtY29sb3InXSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtbnVtLWZvcm1hdCcpKSB7XHJcbiAgICAgICAgdmFyIGV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbnNbJ2VkaXRhYmxlLW51bS1mb3JtYXQnXSk7XHJcbiAgICAgICAgb2JqZWN0XHJcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZCkgJiYgdHlwZW9mIGV4cHJlc3Npb24gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGV4cHJlc3Npb24oZCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLWNvbnRlbnQnKSkge1xyXG4gICAgICAgIGlmIChvcHRpb25zWydlZGl0YWJsZS1jb250ZW50J10ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBvYmplY3QuaHRtbChvcHRpb25zWydlZGl0YWJsZS1jb250ZW50J10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVkaXRPYmoucmVtb3ZlRWRpdCgpO1xyXG59O1xyXG5cclxuanZFZGl0LnByb3RvdHlwZS5hcHBseUFsbEVkaXRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzO1xyXG5cclxuICAgIGZvciAodmFyIG9wdGlvbiBpbiBlZGl0T2JqLnZpek9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoZWRpdE9iai52aXpPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikgJiYgZWRpdE9iai5jaGFydERpdi5zZWxlY3Qob3B0aW9uKSkge1xyXG4gICAgICAgICAgICBlZGl0T2JqLmFwcGx5RWRpdE1vZGUob3B0aW9uLCBlZGl0T2JqLnZpek9wdGlvbnNbb3B0aW9uXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuanZFZGl0LnByb3RvdHlwZS5yZW1vdmVFZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzO1xyXG4gICAgaWYgKGVkaXRPYmouZWRpdERpdikge1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5odG1sKCcnKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXZcclxuICAgICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgIH1cclxuICAgIGVkaXRPYmouZWRpdE9wdGlvbnMgPSAnJztcclxufTtcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBVdGlsaXR5IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuanZFZGl0LnByb3RvdHlwZS5vdmVybGF5RGl2UG9zaXRpb24gPSBmdW5jdGlvbiAoZGl2V2lkdGgsIGRpdkhlaWdodCwgbW91c2VYLCBtb3VzZVkpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIHZhciBwb3NpdGlvbiA9IHt9O1xyXG4gICAgaWYgKG1vdXNlWCA+IChwYXJzZUludChlZGl0T2JqLmNoYXJ0RGl2LnN0eWxlKCd3aWR0aCcpKSkgLyAyKSB7XHJcbiAgICAgICAgcG9zaXRpb24ueCA9IG1vdXNlWCAtIGRpdldpZHRoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwb3NpdGlvbi54ID0gbW91c2VYO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vdXNlWSAtIGRpdkhlaWdodCAtIDEwID4gMCkge1xyXG4gICAgICAgIHBvc2l0aW9uLnkgPSBtb3VzZVkgLSBkaXZIZWlnaHQgLSAxMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9zaXRpb24ueSA9IG1vdXNlWSArIDEwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xyXG59O1xyXG5cclxuLyoqIGdldEZvcm1hdEV4cHJlc3Npb25cclxuICpcclxuICogQGRlc2MgcmV0dXJucyB0aGUgZDMgZm9ybWF0IGV4cHJlc3Npb24gZm9yIGEgZ2l2ZW4gb3B0aW9uXHJcbiAqIEBwYXJhbXMgb3B0aW9uXHJcbiAqIEByZXR1cm5zIHN0cmluZyBleHByZXNzaW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbikge1xyXG4gICAgdmFyIGV4cHJlc3Npb24gPSAnJztcclxuICAgIGlmIChvcHRpb24gPT09IFwiY3VycmVuY3lcIikge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCIkLFwiKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09IFwiZml4ZWRDdXJyZW5jeVwiKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdChcIigkLjJmXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gXCJwZXJjZW50XCIpIHtcclxuICAgICAgICB2YXIgcCA9IE1hdGgubWF4KDAsIGQzLnByZWNpc2lvbkZpeGVkKDAuMDUpIC0gMik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdChcIi5cIiArIHAgKyBcIiVcIik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSBcIm1pbGxpb25zXCIpIHtcclxuICAgICAgICB2YXIgcCA9IGQzLnByZWNpc2lvblByZWZpeCgxZTUsIDEuM2U2KTtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0UHJlZml4KFwiLlwiICsgcCwgMS4zZTYpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2NvbW1hcycpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KFwiLC4wZlwiKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdub25lJyB8fCBvcHRpb24gPT09ICcnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdChcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZXhwcmVzc2lvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0WUF4aXNMYWJlbFdpZHRoKHRleHRTaXplKXtcclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZFZGl0O1xyXG4iLCIvKioqICBqdkVkaXQgKioqL1xyXG5mdW5jdGlvbiBqdlNlbGVjdChjb25maWdPYmopIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIHNlbGVjdE9iaiA9IHRoaXM7XHJcbiAgICBzZWxlY3RPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBzZWxlY3RPYmoudG9nZ2xlU2VsZWN0TW9kZSA9IGZ1bmN0aW9uICh0b2dnbGVCb29sKSB7XHJcbiAgICAgICAgdmFyIGVudGlyZVN2ZyA9IHNlbGVjdE9iai5jaGFydERpdi5zZWxlY3QoXCJzdmdcIik7XHJcbiAgICAgICAgaWYodG9nZ2xlQm9vbCl7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGQzLnNlbGVjdChkMy5ldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGFyZ2V0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5vbignZGJsY2xpY2snLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU2VsZWN0IE1vZGUgRnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2U2VsZWN0OyIsIi8qKiogIGp2VGlwICoqKi9cclxuXHJcbmZ1bmN0aW9uIGp2VGlwKGNvbmZpZ09iaikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgdGlwID0gdGhpcztcclxuXHJcbiAgICB0aXAudHlwZSA9IGNvbmZpZ09iai50eXBlO1xyXG4gICAgdGlwLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG5cclxuICAgIC8vQ3JlYXRlIGluaXRpYWwgZGl2XHJcbiAgICB0aXAuY2hhcnREaXYuc2VsZWN0KCcuanYtdG9vbHRpcCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIHRpcC5jaGFydERpdi5hcHBlbmQoXCJkaXZcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwidG9vbHRpcCBqdi10b29sdGlwXCIpXHJcbiAgICAgICAgLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xyXG59XHJcblxyXG5qdlRpcC5wcm90b3R5cGUuc2hvd1RpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aXAgPSB0aGlzO1xyXG4gICAgLy90b2RvIHBvc2l0aW9uIHRpcCBwcm9wZXJseVxyXG4gICAgdGlwLnRvb2xUaXAuc3R5bGUoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbn1cclxuXHJcbmp2VGlwLnByb3RvdHlwZS5oaWRlVGlwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcbiAgICBpZiAodGlwLnRvb2xUaXApIHtcclxuICAgICAgICB0aXAudG9vbFRpcC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFZpeiBTcGVjaWZpYyBGdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5qdlRpcC5wcm90b3R5cGUuZ2VuZXJhdGVTaW1wbGVUaXAgPSBmdW5jdGlvbiAoZGF0YU9iaiwgZGF0YVRhYmxlLCBldmVudCkge1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcbiAgICAvL0xvZ2ljIHRvIGRldGVybWluZSB3aGVyZSB0b29sdGlwIHdpbGwgYmUgcGxhY2VkIG9uIHBhZ2VcclxuICAgIHZhciBsZWZ0T2ZNb3VzZSA9IGZhbHNlLFxyXG4gICAgICAgIHRvcE9mTW91c2UgPSBmYWxzZTtcclxuICAgIGlmIChldmVudC5vZmZzZXRYID4gKHRpcC5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoIC8gMikpIHtcclxuICAgICAgICBsZWZ0T2ZNb3VzZSA9IHRydWVcclxuICAgIH1cclxuICAgIGlmIChldmVudC5vZmZzZXRZIDwgKHRpcC5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCAvIDIpKSB7XHJcbiAgICAgICAgdG9wT2ZNb3VzZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZihkYXRhT2JqLmhhc093blByb3BlcnR5KCd0aXRsZScpICYmIGRhdGFPYmoudGl0bGUgPT09ICcnKXtcclxuICAgICAgICBkYXRhT2JqLnRpdGxlID0gJ0VtcHR5J1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgdGlwLnRvb2xUaXAgPSB0aXAuY2hhcnREaXYuc2VsZWN0KFwiLnRvb2x0aXBcIilcclxuICAgICAgICAuaHRtbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2NsdXN0ZXJzJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ2NpcmNsZXZpZXdwbG90JyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3NjYXR0ZXJwbG90JyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3RyZWVtYXAnIHx8IGRhdGFPYmoudml6ID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUNvbG9ySFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFPYmoudml6ID09PSAncmFkaWFsJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3BpZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVBpZUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2NpcmNsZXBhY2snIHx8IGRhdGFPYmoudml6ID09PSAnanZzdW5idXJzdCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVBhY2tIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdoZWF0bWFwJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ2Nsb3VkJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlSGVhdG1hcEhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ3NhbmtleScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVNhbmtleUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVNpbXBsZUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKFwicmlnaHRcIiwgXCJhdXRvXCIpXHJcbiAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBcImF1dG9cIilcclxuICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgXCJhdXRvXCIpXHJcbiAgICAgICAgLnN0eWxlKFwiYm90dG9tXCIsIFwiYXV0b1wiKVxyXG4gICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKVxyXG4gICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XHJcblxyXG4gICAgdmFyIGZ1bGxQYWdlID0gZDMuc2VsZWN0KCdodG1sJykuX2dyb3Vwc1swXVswXTtcclxuICAgIHZhciByZWxhdGl2ZVBvc2l0aW9uaW5nID0gZnVsbFBhZ2UuY2xpZW50V2lkdGggLSB0aXAuY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aDtcclxuXHJcbiAgICBpZiAocmVsYXRpdmVQb3NpdGlvbmluZyA+IDEwKSB7XHJcbiAgICAgICAgIHRpcC50b29sVGlwLnN0eWxlKFwibGVmdFwiLCAoZXZlbnQudGFyZ2V0LmdldEJCb3goKS54ICsgXCJweFwiKSk7XHJcbiAgICAgICAgIHRpcC50b29sVGlwLnN0eWxlKFwidG9wXCIsIChldmVudC50YXJnZXQuZ2V0QkJveCgpLnkgKyBcInB4XCIpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGxlZnRPZk1vdXNlKSB7XHJcbiAgICAgICAgICAgIHRpcC50b29sVGlwLnN0eWxlKFwicmlnaHRcIiwgKHRpcC5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoIC0gZXZlbnQub2Zmc2V0WCArIFwicHhcIikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRpcC50b29sVGlwLnN0eWxlKFwibGVmdFwiLCAoZXZlbnQub2Zmc2V0WCkgKyBcInB4XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRvcE9mTW91c2UpIHtcclxuICAgICAgICAgICAgdGlwLnRvb2xUaXAuc3R5bGUoXCJ0b3BcIiwgKGV2ZW50Lm9mZnNldFkpICsgXCJweFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aXAudG9vbFRpcC5zdHlsZShcImJvdHRvbVwiLCAodGlwLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0IC0gZXZlbnQub2Zmc2V0WSArIFwicHhcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGF0YU9iai52aXogPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgIHRpcC50b29sVGlwXHJcbiAgICAgICAgICAgIC5zdHlsZShcIndpZHRoXCIsIFwiMzAwcHhcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRpcC50b29sdGlwO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gXCI8ZGl2PjxkaXYgY2xhc3M9J3RpdGxlIHNtLWxlZnQtbWFyZ2luIHhzLXRvcC1tYXJnaW4gc20tcmlnaHQtbWFyZ2luJz48Yj5cIiArIGRhdGFPYmoudGl0bGUgKyBcIjwvYj48L2Rpdj48aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5cIjtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcblxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPHNwYW4gY2xhc3M9J3NlbW9zcy1kMy10aXAtY29udGVudCBzbS1yaWdodC1tYXJnaW4nPlwiICtcclxuICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdjaXJjbGVCYXNlIGQzLXRvb2x0aXAtY2lyY2xlIGlubGluZSBzbS1yaWdodC1tYXJnaW4gc20tbGVmdC1tYXJnaW4nIHN0eWxlPSdiYWNrZ3JvdW5kOiBcIiArIGRhdGFPYmouY29sb3JbaXRlbV0gKyBcIic+XCIgK1xyXG4gICAgICAgICAgICBcIjwvZGl2PlwiICsgaXRlbSArIFwiOiBcIiArIHZhbHVlICsgXCI8L3NwYW4+PGJyLz5cIjtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2luZ2xlQ29sb3JIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0LFxyXG4gICAgICAgIHRvb2x0aXBDb2xvcixcclxuICAgICAgICBzaG93Q29sb3JDaXJjbGUgPSB0cnVlLFxyXG4gICAgICAgIGNvbG9yQ2lyY2xlID0gXCJcIjtcclxuXHJcbiAgICBpZiAoISFkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YVtkYXRhVGFibGUuc2VyaWVzXV0pIHtcclxuICAgICAgICB0b29sdGlwQ29sb3IgPSBkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YVtkYXRhVGFibGUuc2VyaWVzXV07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghIWRhdGFPYmouY29sb3JbZGF0YVRhYmxlLmxhYmVsXSAmJiBkYXRhT2JqLnZpeiAhPT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgdG9vbHRpcENvbG9yID0gZGF0YU9iai5jb2xvcltkYXRhVGFibGUubGFiZWxdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hvd0NvbG9yQ2lyY2xlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNob3dDb2xvckNpcmNsZSkge1xyXG4gICAgICAgIGNvbG9yQ2lyY2xlID0gXCI8ZGl2IGNsYXNzPSdjaXJjbGVCYXNlIGQzLXRvb2x0aXAtY2lyY2xlIGlubGluZSBzbS1yaWdodC1tYXJnaW4gc20tbGVmdC1tYXJnaW4nIHN0eWxlPSdiYWNrZ3JvdW5kOiBcIiArIHRvb2x0aXBDb2xvciArIFwiJz5cIiArXHJcbiAgICAgICAgICAgIFwiPC9kaXY+XCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb2xvckNpcmNsZSA9IFwiPGRpdiBjbGFzcz0naW5saW5lIHNtcmlnaHQgbWFyZ2luIHNtLWxlZnQtbWFyZ2luJz5cIjtcclxuICAgIH1cclxuXHJcbiAgICB0b29sdGlwVGV4dCA9XHJcbiAgICAgICAgXCI8ZGl2IGNsYXNzPSdpbmxpbmUnPlwiICtcclxuICAgICAgICBjb2xvckNpcmNsZSArXHJcbiAgICAgICAgXCI8ZGl2IGNsYXNzPSd0aXRsZSB4eHMtbGVmdC1tYXJnaW4geHMtdG9wLW1hcmdpbiBzbS1yaWdodC1tYXJnaW4gaW5saW5lJz48Yj5cIiArIGRhdGFPYmoudGl0bGUgKyBcIjwvYj5cIiArXHJcbiAgICAgICAgXCI8L2Rpdj5cIiArXHJcbiAgICAgICAgXCI8aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5cIjtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcblxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPHNwYW4gY2xhc3M9J3NlbW9zcy1kMy10aXAtY29udGVudCBzbS1sZWZ0LW1hcmdpbiBzbS1yaWdodC1tYXJnaW4nPlwiICtcclxuICAgICAgICAgICAgaXRlbSArIFwiOiBcIiArIHZhbHVlICsgXCI8L3NwYW4+PGJyLz5cIjtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUGFja0hUTUwoZGF0YU9iaikge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBcIjxkaXYgY2xhc3M9J2lubGluZSc+XCIgKyBcIjxkaXYgY2xhc3M9J2NpcmNsZUJhc2UgZDMtdG9vbHRpcC1jaXJjbGUgaW5saW5lIHNtLXJpZ2h0LW1hcmdpbiBzbS1sZWZ0LW1hcmdpbicgc3R5bGU9J2JhY2tncm91bmQ6IFwiICsgZGF0YU9iai5kYXRhLmNvbG9yICsgXCInPlwiICtcclxuICAgICAgICBcIjwvZGl2PlwiICsgXCI8ZGl2IGNsYXNzPSd0aXRsZSB4eHMtbGVmdC1tYXJnaW4geHMtdG9wLW1hcmdpbiBzbS1yaWdodC1tYXJnaW4gaW5saW5lJz48Yj5cIiArIGRhdGFPYmoudGl0bGUgKyBcIjwvYj48L2Rpdj48aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5cIjtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcblxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPHNwYW4gY2xhc3M9J3NlbW9zcy1kMy10aXAtY29udGVudCBzbS1sZWZ0LW1hcmdpbiBzbS1yaWdodC1tYXJnaW4nPlwiICtcclxuICAgICAgICAgICAgaXRlbSArIFwiOiBcIiArIHZhbHVlICsgXCI8L3NwYW4+PGJyLz5cIjtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlSGVhdG1hcEhUTUwoZGF0YU9iaikge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBcIjxkaXYgY2xhc3M9J2lubGluZSc+XCIgKyBcIjxkaXYgY2xhc3M9J2NpcmNsZUJhc2UgZDMtdG9vbHRpcC1jaXJjbGUgaW5saW5lIHNtLXJpZ2h0LW1hcmdpbiBzbS1sZWZ0LW1hcmdpbicgc3R5bGU9J2JhY2tncm91bmQ6IFwiICsgZGF0YU9iai5jb2xvciArIFwiJz5cIiArXHJcbiAgICAgICAgXCI8L2Rpdj5cIiArIFwiPGRpdiBjbGFzcz0ndGl0bGUgeHhzLWxlZnQtbWFyZ2luIHhzLXRvcC1tYXJnaW4gc20tcmlnaHQtbWFyZ2luIGlubGluZSc+PGI+XCIgKyBkYXRhT2JqLnRpdGxlICsgXCI8L2I+PC9kaXY+PGhyIHN0eWxlPSdtYXJnaW46M3B4IDAgM3B4IDA7Jy8+XCI7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG5cclxuICAgICAgICB0b29sdGlwVGV4dCArPSBcIjxzcGFuIGNsYXNzPSdzZW1vc3MtZDMtdGlwLWNvbnRlbnQgc20tbGVmdC1tYXJnaW4gc20tcmlnaHQtbWFyZ2luJz5cIiArXHJcbiAgICAgICAgICAgIGl0ZW0gKyBcIjogXCIgKyB2YWx1ZSArIFwiPC9zcGFuPjxici8+XCI7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVBpZUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcbiAgICB0b29sdGlwVGV4dCA9IFwiPGRpdiBjbGFzcz0naW5saW5lJz5cIiArIFwiPGRpdiBjbGFzcz0nY2lyY2xlQmFzZSBkMy10b29sdGlwLWNpcmNsZSBpbmxpbmUgc20tcmlnaHQtbWFyZ2luIHNtLWxlZnQtbWFyZ2luJyBzdHlsZT0nYmFja2dyb3VuZDogXCIgKyBkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YS5sYWJlbF0gKyBcIic+XCIgK1xyXG4gICAgICAgIFwiPC9kaXY+XCIgKyBcIjxkaXYgY2xhc3M9J3RpdGxlIHh4cy1sZWZ0LW1hcmdpbiB4cy10b3AtbWFyZ2luIHNtLXJpZ2h0LW1hcmdpbiBpbmxpbmUnPjxiPlwiICsgZGF0YU9iai50aXRsZSArIFwiPC9iPjwvZGl2PjxociBzdHlsZT0nbWFyZ2luOjNweCAwIDNweCAwOycvPlwiO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuXHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gXCI8c3BhbiBjbGFzcz0nc2Vtb3NzLWQzLXRpcC1jb250ZW50IHNtLWxlZnQtbWFyZ2luIHNtLXJpZ2h0LW1hcmdpbic+XCIgK1xyXG4gICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gKyBcIjogXCIgKyB2YWx1ZSArIFwiPC9zcGFuPjxici8+XCI7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVNhbmtleUhUTUwoZGF0YU9iaikge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBcIjxkaXYgY2xhc3M9J2lubGluZSc+XCIgK1xyXG4gICAgICAgIFwiPC9kaXY+XCIgKyBcIjxkaXYgY2xhc3M9J3RpdGxlIHh4cy1sZWZ0LW1hcmdpbiB4cy10b3AtbWFyZ2luIHNtLXJpZ2h0LW1hcmdpbiBpbmxpbmUnPjxiPlwiICsgZGF0YU9iai50aXRsZSArIFwiPC9iPjwvZGl2PjxociBzdHlsZT0nbWFyZ2luOjNweCAwIDNweCAwOycvPlwiO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuXHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gXCI8c3BhbiBjbGFzcz0nc2Vtb3NzLWQzLXRpcC1jb250ZW50IHNtLWxlZnQtbWFyZ2luIHNtLXJpZ2h0LW1hcmdpbic+XCIgK1xyXG4gICAgICAgICAgICBpdGVtICsgXCI6IFwiICsgdmFsdWUgKyBcIjwvc3Bhbj48YnIvPlwiO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsKSB7XHJcbiAgICBpZiAoIWlzTmFOKHZhbCkpIHtcclxuICAgICAgICB2YXIgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KFwiLC4wZlwiKTtcclxuICAgICAgICBpZiAodmFsID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgLy9taWxsaW9uc1xyXG4gICAgICAgICAgICAvLyB2YXIgcCA9IGQzLnByZWNpc2lvblByZWZpeCgxZTUsIDEuM2U2KTtcclxuICAgICAgICAgICAgLy8gZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0UHJlZml4KFwiLlwiICsgcCwgMS4zZTYpO1xyXG4gICAgICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoXCIsLjJmXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmFsIDw9IDEwMCkge1xyXG4gICAgICAgICAgICAvLzIgZGVjaW1hbHNcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KFwiLC4yZlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdlRpcDsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZXREZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zO1xyXG5cclxuZnVuY3Rpb24gZ2V0RGVmYXVsdE9wdGlvbnModXNlck9wdGlvbnMgPSB7fSkge1xyXG4gICAgY29uc29sZS5sb2codXNlck9wdGlvbnMpO1xyXG4gICAgdmFyIF92YXJzID0ge307XHJcblxyXG4gICAgLy9HZW5lcmFsIFN0eWxlcy9BdHRyaWJ1dGVzXHJcbiAgICAvL2NvbG9yc1xyXG4gICAgX3ZhcnMuZ3JheSA9IFwiI2NjY2NjY1wiO1xyXG4gICAgX3ZhcnMud2hpdGUgPSAnI0ZGRkZGRic7XHJcbiAgICBfdmFycy5ibGFjayA9ICcjMDAwMDAwJztcclxuICAgIF92YXJzLmxpZ2h0ID0gJyNCQkJCQkInO1xyXG4gICAgX3ZhcnMuYmFja2dyb3VuZENvbG9yID0gJ25vbmUnO1xyXG4gICAgX3ZhcnMuc3Ryb2tlV2lkdGggPSBcIjJweFwiO1xyXG4gICAgXHJcbiAgICBfdmFycy50aHJlc2hvbGRzID0gJ25vbmUnOyAvL2lmIG5vdCBub25lLCBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxyXG4gICAgX3ZhcnMudGhyZXNob2xkTGVnZW5kID0gZmFsc2U7XHJcblxyXG4gICAgLy9BY3Rpb24gQXR0cmlidXRlc1xyXG4gICAgX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IgPSBfdmFycy5ibGFjaztcclxuICAgIF92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoID0gXCIycHhcIjtcclxuXHJcbiAgICAvL0NvbXBvbmVudCBTcGVjaWZpYyBTdHlsZXMvQXR0cmlidXRlc1xyXG4gICAgX3ZhcnMuYXhpc0NvbG9yID0gX3ZhcnMuZ3JheTtcclxuICAgIF92YXJzLmF4aXNXaWR0aCA9IF92YXJzLnN0cm9rZVdpZHRoO1xyXG4gICAgX3ZhcnMuZGlzcGxheVZhbHVlcyA9IGZhbHNlO1xyXG4gICAgX3ZhcnMudG9nZ2xlTGVnZW5kID0gZmFsc2U7XHJcbiAgICBfdmFycy5sZWdlbmRNYXggPSA5O1xyXG4gICAgX3ZhcnMuZ3JpZFNpemUgPSAxMjtcclxuICAgIF92YXJzLnhSZXZlcnNlZCA9IGZhbHNlO1xyXG4gICAgX3ZhcnMueVJldmVyc2VkID0gZmFsc2U7XHJcblxyXG4gICAgLy9mb250IHN0eWxlc1xyXG4gICAgX3ZhcnMuZm9udFNpemUgPSAnMTJweCc7XHJcbiAgICBfdmFycy5mb250Q29sb3IgPSBfdmFycy5ibGFjaztcclxuICAgIF92YXJzLnhMYWJlbEZvbnRTaXplID0gJ25vbmUnO1xyXG4gICAgX3ZhcnMueUxhYmVsRm9udFNpemUgPSAnbm9uZSc7XHJcblxyXG4gICAgLy9IZWF0bWFwIFNwZWNpZmljIFN0eWxlcy9BdHRyaWJ1dGVzXHJcbiAgICBfdmFycy5jb2xvciA9IFwiI2ZmMDAwMFwiO1xyXG4gICAgX3ZhcnMudG9nZ2xlTGVnZW5kID0gZmFsc2U7XHJcbiAgICBfdmFycy5idWNrZXRzID0gXCIxMFwiO1xyXG4gICAgX3ZhcnMuY29sb3JMYWJlbCA9ICdub25lJztcclxuICAgIF92YXJzLm1pbiA9IFwiMFwiO1xyXG4gICAgX3ZhcnMubWF4ID0gXCIxMFwiO1xyXG4gICAgX3ZhcnMuZG9tYWluQXJyYXkgPSBcIlwiO1xyXG4gICAgX3ZhcnMuc3RlcCA9IFwiMVwiO1xyXG4gICAgX3ZhcnMucXVhbnRpbGVzID0gdHJ1ZTtcclxuICAgIF92YXJzLmhlYXRMZWdlbmRTcGFjaW5nID0gMjtcclxuICAgIF92YXJzLmhlYXRHcmlkU2l6ZSA9IDIwO1xyXG4gICAgX3ZhcnMuY29sb3JzID0gW1xyXG4gICAgICBcIiNmYmYyZDJcIixcclxuICAgICAgXCIjZmRlZGI1XCIsXHJcbiAgICAgIFwiI2ZlZTdhMFwiLFxyXG4gICAgICBcIiNmZmRhODRcIixcclxuICAgICAgXCIjZmZjNjY1XCIsXHJcbiAgICAgIFwiI2ZlYjQ0ZVwiLFxyXG4gICAgICBcIiNmZWE3NDNcIixcclxuICAgICAgXCIjZmQ5YjNmXCIsXHJcbiAgICAgIFwiI2ZkOGMzY1wiLFxyXG4gICAgICBcIiNmZDc3MzVcIixcclxuICAgICAgXCIjZmQ2MDJmXCIsXHJcbiAgICAgIFwiI2ZiNGIyOVwiLFxyXG4gICAgICBcIiNmNDM3MjNcIixcclxuICAgICAgXCIjZWEyNDFlXCIsXHJcbiAgICAgIFwiI2UwMTYxY1wiLFxyXG4gICAgICBcIiNkNjBiMjBcIixcclxuICAgICAgXCIjYzgwMzI0XCIsXHJcbiAgICAgIFwiI2IxMDAyNlwiLFxyXG4gICAgICBcIiM4NzAwMjVcIixcclxuICAgICAgXCIjNjIwMDIzXCJcclxuICAgIF07XHJcblxyXG4gICAgLy9waWUgc3BlY2lmaWNcclxuICAgIF92YXJzLnBpZUJvcmRlciA9IF92YXJzLndoaXRlO1xyXG4gICAgX3ZhcnMuZW1wdHlMZWdlbmRTcXVhcmUgPSBfdmFycy53aGl0ZTtcclxuXHJcblxyXG4gICAgLy9hZGQgdXNlciBvcHRpb25zXHJcbiAgICBmb3IodmFyIGtleSBpbiB1c2VyT3B0aW9ucykge1xyXG4gICAgICAgIGlmKHVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgICAgICBfdmFyc1trZXldID0gdXNlck9wdGlvbnNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX3ZhcnM7XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi92aXN1YWxzL2p2TGluZS5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmFyZWEgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZmlsbEFyZWEgPSBmaWxsQXJlYTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGluZSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0TGluZURhdGFcclxuICogIGdldHMgbGluZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG5cclxuICAgIC8vc29ydCBjaGFydCBkYXRhIGlmIHRoZXJlIGlzIGEgc29ydCB0eXBlIGFuZCBsYWJlbCBpbiB0aGUgX3ZhcnNcclxuICAgIGlmIChjaGFydC5fdmFycy5zb3J0VHlwZSkge1xyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5zb3J0TGFiZWwgJiYgY2hhcnQuX3ZhcnMuc29ydFR5cGUgIT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICBjaGFydC5vcmdhbml6ZUNoYXJ0RGF0YShjaGFydC5fdmFycy5zb3J0TGFiZWwsIGNoYXJ0Ll92YXJzLnNvcnRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhKTtcclxuXHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW2l0ZW1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG4vKiogcGFpbnRMaW5lQ2hhcnRcclxuICpcclxuICogVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGxpbmUgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIC8vVXNlcyB0aGUgb3JpZ2luYWwgZGF0YSBhbmQgdGhlbiBtYW5pcHVsYXRlcyBpdCBiYXNlZCBvbiBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xyXG4gICAgdmFyIGRhdGFPYmogPSBjaGFydC5nZXRCYXJEYXRhRnJvbU9wdGlvbnMoKTtcclxuXHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcbiAgICAvL092ZXJ3cml0ZSBhbnkgcHJlLWV4aXN0aW5nIHpvb21cclxuICAgIGNoYXJ0LmNvbmZpZy56b29tRXZlbnQgPSBudWxsO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhkYXRhT2JqLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGRhdGFPYmoueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGRhdGFPYmoubGVnZW5kRGF0YSwgJ2dlbmVyYXRlTGluZScpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZUxpbmUoZGF0YU9iaik7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGZpbGxBcmVhKGxpbmVEYXRhKSB7XHJcblxyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICAvL2xpbmVEYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3I7XHJcblxyXG4gICAgLy9JZiBhIGxlZ2VuZCBlbGVtZW50IGlzIHRvZ2dsZWQgb2ZmLCB1c2UgdGhlIG5ldyBsaXN0IG9mIGhlYWRlcnNcclxuICAgIGlmIChjaGFydC5fdmFycy5oYXNPd25Qcm9wZXJ0eSgnbGVnZW5kSGVhZGVycycpKSB7XHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HZXQgdGhlIFggYW5kIFkgU2NhbGVcclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMsICduby1wYWRkaW5nJyk7XHJcblxyXG4gICAgLy9JZiBheGlzIGFyZSBub3JtYWxcclxuICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC54KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueTAoY29udGFpbmVyLmhlaWdodClcclxuICAgICAgICAgICAgLnkxKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueDEoMClcclxuICAgICAgICAgICAgLngwKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZWdlbmREYXRhLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGVnZW5kRGF0YSAhPT0gXCJ1bmRlZmluZWRcIikgey8vQWNjb3VudGluZyBmb3IgbGVnZW5kIHRvZ2dsZXNcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmREYXRhW2tdLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0Rvbid0IHdyaXRlIGFueXRoaW5nIHRvIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IGxpbmVEYXRhW2ldW3lBeGlzRGF0YS5sYWJlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsvL0luaXRpYWwgY3JlYXRpb24gb2YgdmlzdWFsaXphdGlvbiB3L28gbGVnZW5kIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd4JzogbGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIuYXJlYVwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICB2YXIgaWkgPSAwO1xyXG4gICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7XHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAgICAgLmRhdHVtKGRhdGFbaV0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5jb2xvckxpbmUgPT0gdHJ1ZSAmJiBjaGFydC5fdmFycy50aHJlc2hvbGRzICE9ICdub25lJyAmJiBjaGFydC5fdmFycy5jb2xvckNoYXJ0ICE9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJlYSBhcmVhLXRocmVzaG9sZFwiXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFyZWFcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJkXCIsIGFyZWEpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGssIGkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMC42KVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBjb250YWluZXIuaGVpZ2h0IC8gbGluZURhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMCwgXCIgKyB0cmFuc2xhdGlvbiArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gY29udGFpbmVyLndpZHRoIC8gbGluZURhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGlvbiArIFwiLCAwKVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKTtcclxuICAgICAgICBpaSsrO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuYmFyID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQmFyVGhyZXNob2xkID0gZ2VuZXJhdGVCYXJUaHJlc2hvbGQ7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUJhcnMgPSBnZW5lcmF0ZUJhcnM7XHJcblxyXG5cclxuLyoqcGFpbnRcclxuICpcclxuICogVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGJhciBjaGFydCwgYmVnaW5zIHRoZSBkcmF3aW5nIHByb2Nlc3MuIE11c3QgYWxyZWFkeSBoYXZlIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgY2hhcnRcclxuICogb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgLy9Vc2VzIHRoZSBvcmlnaW5hbCBkYXRhIGFuZCB0aGVuIG1hbmlwdWxhdGVzIGl0IGJhc2VkIG9uIGFueSBleGlzdGluZyBvcHRpb25zXHJcbiAgICB2YXIgZGF0YU9iaiA9IGNoYXJ0LmdldEJhckRhdGFGcm9tT3B0aW9ucygpO1xyXG5cclxuICAgIC8vYXNzaWduIGN1cnJlbnQgZGF0YSB3aGljaCBpcyB1c2VkIGJ5IGFsbCBiYXIgY2hhcnQgb3BlcmF0aW9uc1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhkYXRhT2JqLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGRhdGFPYmoueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGRhdGFPYmoubGVnZW5kRGF0YSwgJ2dlbmVyYXRlQmFycycpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVCYXJzKGRhdGFPYmopO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlNldHMgdGhlIGRhdGEgZm9yIHRoZSBiYXIgY2hhcnQgcHJpb3IgdG8gcGFpbnRpbmdcclxuICogIEBmdW5jdGlvblxyXG4gKiBAcGFyYW1zIHtPYmplY3R9IGRhdGEgLSBEYXRhIHBhc3NlZCBpbnRvIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHtPYmplY3R9IGRhdGFUYWJsZSAtIFNob3dzIHdoaWNoIGRhdGEgY29sdW1uIGlzIGFzc29jaWF0ZWQgd2l0aCBlYWNoIGZpZWxkIGluIHZpc3VhbCBwYW5lbFxyXG4gKiBAcGFyYW1zIHtPYmplY3R9IGRhdGFUYWJsZUtleXMgLSBDb250YWlucyB0aGUgZGF0YSB0eXBlIGZvciBlYWNoIGNvbHVtbiBvZiBkYXRhXHJcbiAqIEBwYXJhbXMge09iamVjdH0gY29sb3JzIC0gQ29sb3JzIG9iamVjdCB1c2VkIHRvIGNvbG9yIHRoZSBiYXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICAvL3NvcnQgY2hhcnQgZGF0YSBpZiB0aGVyZSBpcyBhIHNvcnQgdHlwZSBhbmQgbGFiZWwgaW4gdGhlIF92YXJzXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuaGFzT3duUHJvcGVydHkoJ3NvcnRUeXBlJykgJiYgY2hhcnQuX3ZhcnMuc29ydFR5cGUpIHtcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydExhYmVsICYmIGNoYXJ0Ll92YXJzLnNvcnRUeXBlICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgY2hhcnQub3JnYW5pemVDaGFydERhdGEoY2hhcnQuX3ZhcnMuc29ydExhYmVsLCBjaGFydC5fdmFycy5zb3J0VHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd4JywgY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd5JywgY2hhcnQuZGF0YSk7XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIGNoYXJ0LnNldEZsaXBwZWRTZXJpZXMoY2hhcnQuZGF0YS5kYXRhVGFibGVLZXlzKTtcclxuICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5mbGlwcGVkRGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuLyoqc2V0QmFyTGluZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW2l0ZW1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCYXIgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVCYXJUaHJlc2hvbGQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICB0eXBlID0gY2hhcnQuY29uZmlnLnR5cGUsXHJcbiAgICAgICAgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHRocmVzaG9sZHMgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzLFxyXG4gICAgICAgIGxlbmd0aCA9IHRocmVzaG9sZHMgIT09ICdub25lJyA/IE9iamVjdC5rZXlzKHRocmVzaG9sZHMpLmxlbmd0aCA6IDA7XHJcblxyXG4gICAgdmFyIHggPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlO1xyXG4gICAgdmFyIHkgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc1NjYWxlO1xyXG5cclxuICAgIGlmICh0aHJlc2hvbGRzICE9PSAnbm9uZScpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSB0aHJlc2hvbGRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnhBeGlzVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgaGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgdGhyZXNob2xkLnRocmVzaG9sZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5jb2xvckNoYXJ0ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGRSZWN0cyA9IGQzLnNlbGVjdEFsbCgncmVjdC5yZWN0LScgKyBpKTtcclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZFJlY3RzLmF0dHIoJ2ZpbGwnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipnZW5lcmF0ZUJhcnNcclxuICpcclxuICogRG9lcyB0aGUgYWN0dWFsIHBhaW50aW5nIG9mIGJhcnMgb24gdGhlIGJhciBjaGFydFxyXG4gKiBAcGFyYW1zIGJhckRhdGFcclxuICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJhcnMoYmFyRGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmc7XHJcblxyXG4gICAgLy9Vc2VkIHRvIGRyYXcgbGluZSB0aGF0IGFwcGVhcnMgd2hlbiB0b29sIHRpcHMgYXJlIHZpc2libGVcclxuICAgIHZhciB0aXBMaW5lWCA9IDAsXHJcbiAgICAgICAgdGlwTGluZVdpZHRoID0gMCxcclxuICAgICAgICB0aXBMaW5lSGVpZ2h0ID0gMCxcclxuICAgICAgICB0aXBMaW5lWSA9IDA7XHJcblxyXG4gICAgLy9SZW1vdmVzIGFueSBleGlzdGluZyBiYXIgY29udGFpbmVycyBhbmQgY3JlYXRlcyBhIG5ldyBvbmVcclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cuYmFyLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG4gICAgdmFyIGJhcnMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYmFyLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpO1xyXG5cclxuICAgIC8vQWRkIGxvZ2ljIHRvIGZpbHRlciBiYXJkYXRhXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkID8gY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgPyBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycyA6IGJhckRhdGEubGVnZW5kRGF0YSA6IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPyBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzIDogYmFyRGF0YS5sZWdlbmREYXRhO1xyXG5cclxuICAgIHZhciBiYXJEYXRhTmV3ID0ganZDaGFydHMuZ2V0VG9nZ2xlZERhdGEoYmFyRGF0YSwgZGF0YUhlYWRlcnMpO1xyXG5cclxuXHJcbiAgICBnZW5lcmF0ZUJhckdyb3VwcyhiYXJzLCBiYXJEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgdmFyIGV2ZW50R3JvdXBzID0ganZDaGFydHMuZ2VuZXJhdGVFdmVudEdyb3VwcyhiYXJzLCBiYXJEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgLy9BZGQgbGlzdGVuZXJzXHJcblxyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLnRpcC1saW5lJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNlSXRlbSA9IGQzLnNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRpcExpbmVYID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkueDtcclxuICAgICAgICAgICAgICAgIHRpcExpbmVXaWR0aCA9IG1vdXNlSXRlbS5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZUhlaWdodCA9IG1vdXNlSXRlbS5ub2RlKCkuZ2V0QkJveCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRpcExpbmVZID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkueTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgbGluZSBpbiBjZW50ZXIgb2YgZXZlbnQtcmVjdFxyXG4gICAgICAgICAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RpcC1saW5lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gMCA6IHRpcExpbmVYICsgdGlwTGluZVdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyB0aXBMaW5lV2lkdGggOiB0aXBMaW5lWCArIHRpcExpbmVXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gdGlwTGluZVkgKyB0aXBMaW5lSGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gdGlwTGluZVkgKyB0aXBMaW5lSGVpZ2h0IC8gMiA6IHRpcExpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc2hhcGUtcmVuZGVyaW5nJywgJ2NyaXNwRWRnZXMnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAnMXB4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGlzcGxheVZhbHVlcygpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVDbGlwUGF0aCgpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVCYXJUaHJlc2hvbGQoKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVCYXJHcm91cHNcclxuICpcclxuICogUGFpbnRzIHRoZSBncm91cHMgb2YgdGhlIGJhcnNcclxuICogQHBhcmFtcyBjaGFydENvbnRhaW5lciwgYmFyRGF0YSwgY2hhcnRcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQmFyR3JvdXBzKGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuXHJcblxyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG5cclxuICAgIHZhciBwb3NDYWxjID0ganZDaGFydHMuZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGEsIGNoYXJ0Ll92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydCk7XHJcblxyXG5cclxuICAgIHZhciBkYXRhVG9QbG90ID0ganZDaGFydHMuZ2V0UGxvdERhdGEoYmFyRGF0YSwgY2hhcnQpO1xyXG5cclxuICAgIHZhciBiYXJHcm91cHM7XHJcbiAgICBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnU1RSSU5HJyB8fCAheEF4aXNEYXRhLmhhc093blByb3BlcnR5KCdtaW4nKSkge1xyXG4gICAgICAgIC8vQ3JlYXRlcyBiYXIgZ3JvdXBzXHJcbiAgICAgICAgYmFyR3JvdXBzID0gY2hhcnRDb250YWluZXJcclxuICAgICAgICAgICAgLmRhdGEoZGF0YVRvUGxvdClcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdiYXItZ3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIC8vVHJhbnNsYXRlIHRoZSBiYXIgZ3JvdXBzIGJ5IChvdXRlciBwYWRkaW5nICogc3RlcCkgYW5kIHRoZSB3aWR0aCBvZiB0aGUgYmFycyAoY29udGFpbmVyLndpZHRoIC8gYmFyRGF0YS5sZW5ndGggKiBpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArICgoeC5wYWRkaW5nT3V0ZXIoKSAqIHguc3RlcCgpKSArICh4LnN0ZXAoKSAqIGkpKSArICcsMCknO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIC8vQ3JlYXRlcyBiYXIgZ3JvdXBzXHJcbiAgICAgICAgYmFyR3JvdXBzID0gY2hhcnRDb250YWluZXJcclxuICAgICAgICAgICAgLmRhdGEoZGF0YVRvUGxvdClcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdiYXItZ3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIC8vVHJhbnNsYXRlIHRoZSBiYXIgZ3JvdXBzIGJ5IChvdXRlciBwYWRkaW5nICogc3RlcCkgYW5kIHRoZSB3aWR0aCBvZiB0aGUgYmFycyAoY29udGFpbmVyLndpZHRoIC8gYmFyRGF0YS5sZW5ndGggKiBpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwnICsgKCh5LnBhZGRpbmdPdXRlcigpICogeS5zdGVwKCkpICsgKHkuc3RlcCgpICogaSkpICsgJyknO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy9DcmVhdGVzIGJhcnMgd2l0aGluIGJhciBncm91cHNcclxuICAgIHZhciBleHRlcm5hbENvdW50ZXJGb3JKID0gLTE7XHJcbiAgICB2YXIgYmFycyA9IGJhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgIC5kYXRhKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxDb3VudGVyRm9ySisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IFN0cmluZyhiYXJEYXRhW2V4dGVybmFsQ291bnRlckZvckpdW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF0pLnJlcGxhY2UoL1xccy9nLCAnXycpLnJlcGxhY2UoL1xcLi9nLCAnPGRvdD4nKSxcclxuICAgICAgICAgICAgICAgIGxlZ2VuZFZhbCA9IFN0cmluZyhjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhW2ldKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJzxkb3Q+Jyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeEF4aXNWYWx1ZSA9IGJhckRhdGFbZXh0ZXJuYWxDb3VudGVyRm9ySl1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnhBeGlzVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkRGlyID0gY2hhcnQuc2V0VGhyZXNob2xkKHhBeGlzVmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZERpciA9IGNoYXJ0LnNldFRocmVzaG9sZChkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICdlZGl0YWJsZSBlZGl0YWJsZS1iYXIgYmFyLWNvbC0nICsgbGFiZWwgKyAnLWluZGV4LScgKyBsZWdlbmRWYWwgKyAnIGhpZ2hsaWdodC1jbGFzcy0nICsgbGFiZWwgKyAnIHJlY3QgJyArIHRocmVzaG9sZERpcjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuc3RhcnR4KGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5zdGFydHkoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5zdGFydHdpZHRoKGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnN0YXJ0aGVpZ2h0KGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnNbaV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVyc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3J4JywgMClcclxuICAgICAgICAuYXR0cigncnknLCAwKVxyXG4gICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMC45KVxyXG4gICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCA+IDMwMDAwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybCgjY2xpcC1hYm92ZSknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAndXJsKCNjbGlwLWJlbG93KSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgYmFycy50cmFuc2l0aW9uKClcclxuICAgICAgICAuZHVyYXRpb24oODAwKVxyXG4gICAgICAgIC5lYXNlKGQzLmVhc2VQb2x5T3V0KVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMueChkLCBpLCBqKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMueShkLCBpLCBqKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLndpZHRoKGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLmhlaWdodChkLCBpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gYmFyR3JvdXBzOy8vcmV0dXJucyB0aGUgYmFyIGNvbnRhaW5lcnNcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdhbnR0ID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlR2FudHRCYXJzID0gZ2VuZXJhdGVHYW50dEJhcnM7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zZXRHYW50dExlZ2VuZERhdGEgPSBzZXRHYW50dExlZ2VuZERhdGE7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zZXRHYW50dEF4aXNEYXRhID0gc2V0R2FudHRBeGlzRGF0YTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogR2FudHQgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKipcclxuICpcclxuICogQHBhcmFtIGRhdGFcclxuICogQHBhcmFtIGRhdGFUYWJsZVxyXG4gKiBAcGFyYW0gY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBjaGFydC5zZXRHYW50dExlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEdhbnR0QXhpc0RhdGEoY2hhcnQsICd4Jyk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEdhbnR0QXhpc0RhdGEoY2hhcnQsICd5Jyk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEdhbnR0TGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IE9iamVjdC5rZXlzKGRhdGEuZGF0YVRhYmxlKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShbXCJzdGFydCBcIiArIGldKSkge1xyXG4gICAgICAgICAgICAvL2NoZWNrIHRvIG1ha2Ugc3VyZSBpdCBoYXMgYSBtYXRjaGluZyBlbmQgZGF0ZVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoW1wiZW5kIFwiICsgaV0pKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW1wic3RhcnQgXCIgKyBpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRHYW50dEF4aXNEYXRhKGNoYXJ0LCBheGlzKSB7XHJcbiAgICB2YXIgYXhpc0RhdGEgPSBbXSxcclxuICAgICAgICBkYXRhID0gY2hhcnQuZGF0YSxcclxuICAgICAgICBjaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVHlwZTtcclxuXHJcbiAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gZGF0YS5kYXRhVGFibGUuZ3JvdXA7XHJcbiAgICAgICAgZGF0YVR5cGUgPSAnREFURSc7XHJcblxyXG4gICAgICAgIHZhciBudW1CYXJzID0gZGF0YS5sZWdlbmREYXRhLmxlbmd0aDtcclxuICAgICAgICAvL0xvb3AgdGhyb3VnaCBkYXRhVGFibGUgYW5kIGFzc2lnbiBsYWJlbHMgYmFzZWQgb24gaG93IG1hbnkgZ3JvdXBzIHRoZXJlIGFyZVxyXG4gICAgICAgIHZhciB2YWx1ZUNvbnRhaW5lciA9IFtdO1xyXG4gICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJzdGFydCAxXCJdKTtcclxuICAgICAgICB2YWx1ZUNvbnRhaW5lci5wdXNoKGRhdGEuZGF0YVRhYmxlW1wiZW5kIDFcIl0pO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbnVtQmFyczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJzdGFydCBcIiArIChpICsgMSldKTtcclxuICAgICAgICAgICAgdmFsdWVDb250YWluZXIucHVzaChkYXRhLmRhdGFUYWJsZVtcImVuZCBcIiArIChpICsgMSldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vR2V0IGFsbCB0aGUgc3RhcnQgYW5kIGVuZCBkYXRlcyBhbmQgYWRkIHRoZW0gdG8gYXhpcyBkYXRhXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZUNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY2hhcnREYXRhLmxlbmd0aDsgaWkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGF0YVtpaV1bdmFsdWVDb250YWluZXJbaV1dICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpaV1bdmFsdWVDb250YWluZXJbaV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9BZGQgYW55IGF4aXMgZm9ybWF0dGluZyB0byB0aGlzIG9iamVjdCwgbmVlZCB0byB1c2Ugd2hlbiBwYWludGluZ1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnhBeGlzRm9ybWF0dGluZyA9IHt9O1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVR5cGUgPSBcIlNUUklOR1wiO1xyXG4gICAgICAgIHZhciBsYWJlbCA9IGRhdGEuZGF0YVRhYmxlLmdyb3VwO1xyXG5cclxuICAgICAgICAvL0FkZCBhbnkgYXhpcyBmb3JtYXR0aW5nIHRvIHRoaXMgb2JqZWN0LCBuZWVkIHRvIHVzZSB3aGVuIHBhaW50aW5nXHJcbiAgICAgICAgY2hhcnQuX3ZhcnMueUF4aXNGb3JtYXR0aW5nID0ge307XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goY2hhcnREYXRhW2ldW2xhYmVsXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2xhYmVsJzogbGFiZWwsXHJcbiAgICAgICAgJ3ZhbHVlcyc6IGF4aXNEYXRhLFxyXG4gICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTtcclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUdhbnR0QmFycycpO1xyXG4gICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVHYW50dEJhcnMoY2hhcnQuY3VycmVudERhdGEpO1xyXG4gICAgaWYgKHR5cGVvZiBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUdhbnR0QmFycyhnYW50dERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IGdhbnR0RGF0YS5jb2xvcixcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGdhbnR0RGF0YS55QXhpc0RhdGE7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCJnLmJhci1jb250YWluZXJcIikucmVtb3ZlKCk7XHJcbiAgICB2YXIgYmFycyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJhci1jb250YWluZXJcIiksXHJcbiAgICAgICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID8gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA6IGdhbnR0RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGdhbnR0RGF0YU5ldyA9IGp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhKGdhbnR0RGF0YSwgZGF0YUhlYWRlcnMpLFxyXG4gICAgICAgIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCBnYW50dERhdGEueEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKSxcclxuICAgICAgICB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgZ2FudHREYXRhLnlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyksXHJcbiAgICAgICAgc2FtcGxlRGF0YSA9IGdhbnR0RGF0YU5ldztcclxuXHJcbiAgICBjaGFydC5fdmFycy5yb3RhdGVBeGlzID0gdHJ1ZTtcclxuXHJcbiAgICB2YXIgbnVtQmFycyA9IGdhbnR0RGF0YS5sZWdlbmREYXRhLmxlbmd0aDtcclxuICAgIHZhciBnYW50dEJhcnMgPSBbXTtcclxuICAgIC8vY3JlYXRlIGFycmF5IG9mIHN0YXJ0IGRhdGVzIGFuZCBlbmQgZGF0ZXMgdG8gaXRlcmF0ZSB0aHJvdWdoXHJcbiAgICB2YXIgc3RhcnREYXRlcyA9IFtdO1xyXG4gICAgdmFyIGVuZERhdGVzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBudW1CYXJzOyBpKyspIHtcclxuICAgICAgICBzdGFydERhdGVzLnB1c2goY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlW1wic3RhcnQgXCIgKyBpXSk7XHJcbiAgICAgICAgZW5kRGF0ZXMucHVzaChjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGVbXCJlbmQgXCIgKyBpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG51bUJhcnM7IGlpKyspIHtcclxuICAgICAgICBnYW50dEJhcnNbaWldID0gYmFycy5zZWxlY3RBbGwoXCIuZ2FudHQtYmFyXCIgKyBpaSlcclxuICAgICAgICAgICAgLmRhdGEoc2FtcGxlRGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZChcInJlY3RcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdhbnR0LWJhclwiICsgaWkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkuYmFuZHdpZHRoKCkgLyBudW1CYXJzO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkW3N0YXJ0RGF0ZXNbaWldXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4KG5ldyBEYXRlKGRbc3RhcnREYXRlc1tpaV1dKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkW3lBeGlzRGF0YS5sYWJlbF0pICsgKHkuYmFuZHdpZHRoKCkgLyBudW1CYXJzICogaWkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInJ4XCIsIDMpXHJcbiAgICAgICAgICAgIC5hdHRyKFwicnlcIiwgMylcclxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZVZhbCA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZVtcIlR5cGVcIiArIChpaSArIDEpXTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgMCwgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVyc1tpaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgMCwgY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtpaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGdhbnR0QmFyc1tpaV0udHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbig0MDApXHJcbiAgICAgICAgICAgIC5kZWxheSgxMDApXHJcbiAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHgobmV3IERhdGUoZFtlbmREYXRlc1tpaV1dKSkgLSB4KG5ldyBEYXRlKGRbc3RhcnREYXRlc1tpaV1dKSk7Ly8oeChkLlN0YXJ0RGF0ZSkgLSB4KGQuRW5kRGF0ZSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRhdGFUb1Bsb3QgPSBqdkNoYXJ0cy5nZXRQbG90RGF0YShnYW50dERhdGFOZXcsIGNoYXJ0KTtcclxuICAgIHZhciBldmVudEdyb3VwcyA9IGJhcnMuc2VsZWN0QWxsKFwiLmV2ZW50LXJlY3RcIilcclxuICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImV2ZW50LXJlY3RcIilcclxuICAgICAgICAuYXR0cihcInhcIiwgMClcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQgLyBnYW50dERhdGFOZXcubGVuZ3RoICogaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgY29udGFpbmVyLndpZHRoKVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0IC8gZ2FudHREYXRhTmV3Lmxlbmd0aDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcInRyYW5zcGFyZW50XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCwwKVwiKTtcclxuICAgIGV2ZW50R3JvdXBzXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vIFRyYW5zaXRpb25zIGluIEQzIGRvbid0IHN1cHBvcnQgdGhlICdvbicgZnVuY3Rpb24gVGhleSBvbmx5IGV4aXN0IG9uIHNlbGVjdGlvbnMuIFNvIG5lZWQgdG8gbW92ZSB0aGF0IGV2ZW50IGxpc3RlbmVyIGFib3ZlIHRyYW5zaXRpb24gYW5kIGFmdGVyIGFwcGVuZFxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2YXIgZGF0ZURhdGEgPSBbY3VycmVudERhdGVdO1xyXG4gICAgLy9EcmF3cyBhIGxpbmUgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGRhdGVcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIuY3VycmVudERhdGVMaW5lXCIpXHJcbiAgICAgICAgLmRhdGEoZGF0ZURhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKFwibGluZVwiKVxyXG4gICAgICAgIC5hdHRyKFwieDFcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIngyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5MVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCIwcHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieTJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImN1cnJlbnREYXRlTGluZVwiKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcclxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCBcIjJweFwiKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLWRhc2hhcnJheVwiLCAoXCIzLCAzXCIpKTtcclxuXHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5jdXJyZW50RGF0ZUxhYmVsXCIpXHJcbiAgICAgICAgLmRhdGEoZGF0ZURhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgdmFyIGRkID0gdG9kYXkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbW0gPSB0b2RheS5nZXRNb250aCgpICsgMTsgLy9KYW51YXJ5IGlzIDAhXHJcblxyXG4gICAgICAgICAgICB2YXIgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIGlmIChkZCA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBkZCA9ICcwJyArIGRkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1tIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIG1tID0gJzAnICsgbW1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdG9kYXkgPSBtbSArICcvJyArIGRkICsgJy8nICsgeXl5eTtcclxuICAgICAgICAgICAgcmV0dXJuIHRvZGF5O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIi0xMHB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5oZWF0bWFwID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlSGVhdE1hcCA9IGdlbmVyYXRlSGVhdE1hcDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogSGVhdE1hcCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuZnVuY3Rpb24gcXVhbnRpemVkKGNoYXJ0LCBtaW4sIG1heCkge1xyXG4gICAgdmFyIGJ1Y2tldENvdW50ID0gY2hhcnQuX3ZhcnMuYnVja2V0cztcclxuICAgIHZhciBzZWN0aW9uVmFsdWUgPSAobWF4IC0gbWluKSAvIGJ1Y2tldENvdW50O1xyXG4gICAgdmFyIHF1YW50aXplZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldENvdW50OyBpKyspIHtcclxuICAgICAgICBxdWFudGl6ZWRBcnJheVtpXSA9IG1pbiArIGkgKiBzZWN0aW9uVmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcXVhbnRpemVkQXJyYXk7XHJcbn1cclxuXHJcbi8qKnNldEhlYXRNYXBEYXRhXHJcbiAqICBnZXRzIGhlYXRtYXAgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoY2hhcnQpIHtcclxuICAgIHZhciBheGlzTmFtZXMgPSBzZXRIZWF0QXhpc05hbWVzKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBheGlzTmFtZXMueEF4aXNEYXRhO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBheGlzTmFtZXMueUF4aXNEYXRhO1xyXG4gICAgY2hhcnQuZGF0YS5wcm9jZXNzZWREYXRhID0gc2V0UHJvY2Vzc2VkRGF0YShjaGFydC5kYXRhLCBjaGFydC5kYXRhLnhBeGlzRGF0YS52YWx1ZXMsIGNoYXJ0LmRhdGEueUF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS54QXhpc0RhdGEudmFsdWVzLCBjaGFydC5jb2xvcnMpO1xyXG4gICAgY2hhcnQuZGF0YS5oZWF0RGF0YSA9IHNldEhlYXRtYXBMZWdlbmREYXRhKGNoYXJ0LCBjaGFydC5kYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0SGVhdG1hcExlZ2VuZERhdGEoY2hhcnQsIGRhdGEpIHtcclxuICAgIHZhciBoZWF0RGF0YTtcclxuICAgIHZhciBidWNrZXRNYXBwZXIgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdO1xyXG4gICAgdmFyIGJ1Y2tldENvdW50O1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3JzID0gb3JnYW5pemVDb2xvcnMoY2hhcnQpO1xyXG5cclxuICAgIGRhdGEuaGVhdFNjb3Jlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yU2NhbGUgPSBkMy5zY2FsZVF1YW50aWxlKClcclxuICAgICAgICAuZG9tYWluKGRhdGEuaGVhdFNjb3JlcylcclxuICAgICAgICAucmFuZ2UoY2hhcnQuX3ZhcnMuY29sb3JzKTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMucXVhbnRpbGVzID09PSB0cnVlKSB7XHJcbiAgICAgICAgdmFyIHRlbXAgPSBjaGFydC5kYXRhLmNvbG9yU2NhbGUucXVhbnRpbGVzKCk7XHJcbiAgICAgICAgaWYodGVtcFswXSA9PT0gMCl7XHJcbiAgICAgICAgICAgIGhlYXREYXRhID0gY2hhcnQuZGF0YS5jb2xvclNjYWxlLnF1YW50aWxlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYXREYXRhID0gWzBdLmNvbmNhdChjaGFydC5kYXRhLmNvbG9yU2NhbGUucXVhbnRpbGVzKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnVja2V0Q291bnQgPSBidWNrZXRNYXBwZXJbY2hhcnQuX3ZhcnMuYnVja2V0cyAtIDFdO1xyXG4gICAgICAgIGhlYXREYXRhID0gcXVhbnRpemVkKGNoYXJ0LCBkYXRhLmhlYXRTY29yZXNbMF0sIGRhdGEuaGVhdFNjb3Jlc1tkYXRhLmhlYXRTY29yZXMubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gaGVhdERhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9yZ2FuaXplQ29sb3JzKGNoYXJ0KSB7XHJcbiAgICB2YXIgY29sb3JTZWxlY3RlZEJ1Y2tldCA9IFtdO1xyXG4gICAgZm9yICh2YXIgYyBpbiBjaGFydC5fdmFycy5jb2xvcnMpIHtcclxuICAgICAgICBjb2xvclNlbGVjdGVkQnVja2V0LnB1c2goY2hhcnQuX3ZhcnMuY29sb3JzW2NdKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc1ZhbHVlID0gY2hhcnQuX3ZhcnMuYnVja2V0cztcclxuICAgIHZhciBuZXdDb2xvcnMgPSBbXTtcclxuICAgIHZhciBidWNrZXRNYXBwZXIgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdO1xyXG4gICAgdmFyIGJ1Y2tldENvdW50ID0gYnVja2V0TWFwcGVyW3NWYWx1ZSAtIDFdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWNrZXRDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgPj0gYnVja2V0Q291bnQgLyAyKSB7XHJcbiAgICAgICAgICAgIG5ld0NvbG9yc1tpXSA9IGNvbG9yU2VsZWN0ZWRCdWNrZXRbTWF0aC5yb3VuZCgoaSArIDEpIC8gYnVja2V0Q291bnQgKiAyMCkgLSAxXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdDb2xvcnNbaV0gPSBjb2xvclNlbGVjdGVkQnVja2V0W01hdGgucm91bmQoKGkpIC8gYnVja2V0Q291bnQgKiAyMCldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBjb2xvcnMgPSBuZXdDb2xvcnMuc2xpY2UoMCk7XHJcbiAgICByZXR1cm4gY29sb3JzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRIZWF0QXhpc05hbWVzKGRhdGEpIHtcclxuICAgIHZhciBjaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YTtcclxuICAgIHZhciB4QXhpc05hbWUgPSBkYXRhLmRhdGFUYWJsZS54O1xyXG4gICAgdmFyIHlBeGlzTmFtZSA9IGRhdGEuZGF0YVRhYmxlLnk7XHJcbiAgICB2YXIgeEF4aXNBcnJheSA9IFtdO1xyXG4gICAgdmFyIHlBeGlzQXJyYXkgPSBbXTtcclxuICAgIHZhciByZXR1cm5PYmogPSB7fTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5kYXRhVGFibGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlS2V5c1tpXS52aXpUeXBlID09PSAneCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLmRhdGFUeXBlID0gZGF0YS5kYXRhVGFibGVLZXlzW2ldLnR5cGU7XHJcbiAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEubGFiZWwgPSBkYXRhLmRhdGFUYWJsZS54O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgPT09ICd5Jykge1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhID0ge307XHJcbiAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEuZGF0YVR5cGUgPSBkYXRhLmRhdGFUYWJsZUtleXNbaV0udHlwZTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5sYWJlbCA9IGRhdGEuZGF0YVRhYmxlLnk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHhBeGlzQXJyYXkuaW5kZXhPZihjaGFydERhdGFbaV1beEF4aXNOYW1lXSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHhBeGlzQXJyYXkucHVzaChjaGFydERhdGFbaV1beEF4aXNOYW1lXSk7XHJcbiAgICAgICAgICAgIC8vVE9ETyBtYWtlIGludG8gMSBmdW5jdGlvbiBmb3IgbWluIG1heC4uLiB3YXN0ZSBvZiBzcGFjZVxyXG4gICAgICAgICAgICBpZiAocmV0dXJuT2JqLnhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgICAgIC8vcHVzaCBtaW4gYW5kIG1heCBpbmZvXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai54QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0gPCByZXR1cm5PYmoueEF4aXNEYXRhLm1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEubWluID0gY2hhcnREYXRhW2ldW3hBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXR1cm5PYmoueEF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3hBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdIDwgcmV0dXJuT2JqLnhBeGlzRGF0YS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLm1heCA9IGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5QXhpc0FycmF5LmluZGV4T2YoY2hhcnREYXRhW2ldW3lBeGlzTmFtZV0pID09PSAtMSkge1xyXG4gICAgICAgICAgICB5QXhpc0FycmF5LnB1c2goY2hhcnREYXRhW2ldW3lBeGlzTmFtZV0pO1xyXG4gICAgICAgICAgICBpZiAocmV0dXJuT2JqLnlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgICAgIC8vcHVzaCBtaW4gYW5kIG1heCBpbmZvXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai55QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3lBeGlzTmFtZV0gPCByZXR1cm5PYmoueUF4aXNEYXRhLm1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEubWluID0gY2hhcnREYXRhW2ldW3lBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXR1cm5PYmoueUF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3lBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdIDwgcmV0dXJuT2JqLnlBeGlzRGF0YS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLm1heCA9IGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuT2JqLnhBeGlzRGF0YS52YWx1ZXMgPSB4QXhpc0FycmF5O1xyXG4gICAgcmV0dXJuT2JqLnlBeGlzRGF0YS52YWx1ZXMgPSB5QXhpc0FycmF5O1xyXG5cclxuICAgIHJldHVybiByZXR1cm5PYmo7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFByb2Nlc3NlZERhdGEoZGF0YSwgeEF4aXNBcnJheSwgeUF4aXNBcnJheSkge1xyXG4gICAgdmFyIGNoYXJ0RGF0YSA9IGRhdGEuY2hhcnREYXRhO1xyXG4gICAgdmFyIHhBeGlzTmFtZSA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICB2YXIgeUF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgIHZhciBoZWF0ID0gZGF0YS5kYXRhVGFibGUuaGVhdDtcclxuICAgIHZhciBkYXRhQXJyYXkgPSBbXTtcclxuICAgIGRhdGEuaGVhdFNjb3JlcyA9IFtdO1xyXG4gICAgICAgIC8qQXNzaWduIGVhY2ggbmFtZSBhIG51bWJlciBhbmQgcGxhY2UgbWF0cml4IGNvb3JkaW5hdGVzIGluc2lkZSBvZiBkYXRhQXJyYXkgKi9cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGF0YUFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICB2YWx1ZTogY2hhcnREYXRhW2ldW2hlYXRdLFxyXG4gICAgICAgICAgICB4QXhpc05hbWU6IGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdLFxyXG4gICAgICAgICAgICB5QXhpc05hbWU6IGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9UaGlzIGFycmF5IHN0b3JlcyB0aGUgdmFsdWVzIGFzIG51bWJlcnNcclxuICAgICAgICBkYXRhLmhlYXRTY29yZXMucHVzaChjaGFydERhdGFbaV1baGVhdF0pO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgeEF4aXNBcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoeEF4aXNBcnJheVtqXSA9PT0gZGF0YUFycmF5W2ldLnhBeGlzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YUFycmF5W2ldLnhBeGlzID0gajtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgeUF4aXNBcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoeUF4aXNBcnJheVtqXSA9PT0gZGF0YUFycmF5W2ldLnlBeGlzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YUFycmF5W2ldLnlBeGlzID0gajtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGFBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcbiAgICB2YXIgY3VzdG9tTWFyZ2luID0ge1xyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICByaWdodDogNDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICBib3R0b206IDIwXHJcbiAgICB9O1xyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBjdXN0b21NYXJnaW4pO1xyXG4gICAgLy9jaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVIZWF0TWFwJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUhlYXRNYXAoKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVIZWF0TWFwXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgSGVhdE1hcCBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyBIZWF0TWFwRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVIZWF0TWFwKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3JzLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbWluQ29udGFpbmVyID0gMzAwLFxyXG4gICAgICAgIHF1YW50aWxlcyA9IGNoYXJ0Ll92YXJzLnF1YW50aWxlcyxcclxuICAgICAgICBkYXRhID0gY2hhcnQuZGF0YS5wcm9jZXNzZWREYXRhLFxyXG4gICAgICAgIHRvZ2dsZUxlZ2VuZCA9ICFjaGFydC5fdmFycy50b2dnbGVMZWdlbmQsXHJcbiAgICAgICAgaGVhdE1hcERhdGEgPSBjaGFydC5jdXJyZW50RGF0YSxcclxuICAgICAgICBncmlkU2l6ZSA9IGNoYXJ0Ll92YXJzLmhlYXRHcmlkU2l6ZSxcclxuICAgICAgICBsZWdlbmRTcGFjaW5nID0gY2hhcnQuX3ZhcnMuaGVhdExlZ2VuZFNwYWNpbmc7XHJcblxyXG4gICAgdmFyIGRpdiA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXHJcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMCk7XHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsMCknKS5hdHRyKCdjbGFzcycsICdoZWF0bWFwJyk7XHJcblxyXG4gICAgdmFyIHlBeGlzVGl0bGUgPSB2aXMuc2VsZWN0QWxsKCcuaGVhdG1hcCcpXHJcbiAgICAgICAgLmRhdGEoW2hlYXRNYXBEYXRhLmRhdGFUYWJsZS55XSk7XHJcblxyXG4gICAgeUF4aXNUaXRsZS5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNMYWJlbHMgYm9sZCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAtMjEpXHJcbiAgICAgICAgLmF0dHIoJ3knLCAtNSlcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB5QXhpc1RpdGxlLmV4aXQoKS5yZW1vdmUoKTtcclxuICAgIHZhciBmb3JtYXRUeXBlID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlcyk7XHJcblxyXG4gICAgdmFyIHlBeGlzID0gdmlzLnNlbGVjdEFsbCgnLnlBeGlzJylcclxuICAgICAgICAuZGF0YShoZWF0TWFwRGF0YS55QXhpc0RhdGEudmFsdWVzKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VHlwZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneCcsIDApXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaSAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoLTYsJyArIGdyaWRTaXplIC8gMS41ICsgJyknKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiAncm93TGFiZWwgcG9pbnRlcic7IH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5yb3dMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5jb2xMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWJvcmRlcicsIGZhbHNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkKTtcclxuICAgICAgICAgICAgLy9mYWRlIGFsbCByZWN0cyBleGNlcHQgaW4gdGhpcyByb3dcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlc1tpXSA9PT0gZCAmJiBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnlBeGlzICE9IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgeEF4aXNUaXRsZSA9IHZpcy5zZWxlY3RBbGwoJy54QXhpc1RpdGxlJylcclxuICAgICAgICAuZGF0YShbaGVhdE1hcERhdGEuZGF0YVRhYmxlLnhdKTtcclxuXHJcbiAgICB4QXhpc1RpdGxlLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpc0xhYmVscyBib2xkJylcclxuICAgICAgICAuYXR0cigneCcsIDYpXHJcbiAgICAgICAgLmF0dHIoJ3knLCA5KVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgLWdyaWRTaXplICsgJywgLTIwKXJvdGF0ZSgtNDUpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHhBeGlzVGl0bGUuZXhpdCgpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciB4QXhpcyA9IHZpcy5zZWxlY3RBbGwoJy54QXhpcycpXHJcbiAgICAgICAgLmRhdGEoaGVhdE1hcERhdGEueEF4aXNEYXRhLnZhbHVlcylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3N2ZzpnJyk7XHJcblxyXG4gICAgZm9ybWF0VHlwZSA9IGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWVUeXBlKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXMpO1xyXG5cclxuICAgIHhBeGlzLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VHlwZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuYXR0cigneCcsIDYpXHJcbiAgICAgICAgLmF0dHIoJ3knLCA3KVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiAnY29sTGFiZWwgcG9pbnRlcic7IH0pXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyAoKGkgKiBncmlkU2l6ZSkpICsgJywgLTYpcm90YXRlKC00NSknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IGluIHRoaXMgY29sdW1uXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXNbaV0gPT09IGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIueEF4aXMgIT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAqIGdyaWRTaXplO1xyXG4gICAgdmFyIGhlaWdodCA9IGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICogZ3JpZFNpemU7XHJcbiAgICB2YXIgZm9ybWF0VmFsdWVUeXBlID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUoY2hhcnQuZGF0YS5oZWF0RGF0YSk7XHJcblxyXG4gICAgLy92ZXJ0aWNhbCBsaW5lc1xyXG4gICAgdmFyIHZMaW5lID0gdmlzLnNlbGVjdEFsbCgnLnZsaW5lJylcclxuICAgICAgICAuZGF0YShkMy5yYW5nZShoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCArIDEpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcik7XHJcblxyXG4gICAgLy9ob3Jpem9udGFsIGxpbmVzXHJcbiAgICB2YXIgaExpbmUgPSB2aXMuc2VsZWN0QWxsKCcuaGxpbmUnKVxyXG4gICAgICAgIC5kYXRhKGQzLnJhbmdlKGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICsgMSkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpO1xyXG5cclxuICAgIHZhciBoZWF0TWFwID0gdmlzLnNlbGVjdEFsbCgnLmhlYXQnKVxyXG4gICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZC54QXhpcykgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChkLnlBeGlzKSAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3J4JywgMilcclxuICAgICAgICAuYXR0cigncnknLCAyKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdoZWF0JylcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBncmlkU2l6ZSAtIDEpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGdyaWRTaXplIC0gMSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAocXVhbnRpbGVzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXkubGVuZ3RoID09PSAwIHx8IChkLnZhbHVlID49IGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5WzBdICYmIGQudmFsdWUgPD0gY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXlbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0LmRhdGEuY29sb3JTY2FsZShkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnd2hpdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5kb21haW5BcnJheS5sZW5ndGggPT0gMCB8fCAoZC52YWx1ZSA+PSBjaGFydC5fdmFycy5kb21haW5BcnJheVswXSAmJiBkLnZhbHVlIDw9IGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5WzFdKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFF1YW50aXplZENvbG9yKGNoYXJ0LmRhdGEuaGVhdERhdGEsIGQudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnd2hpdGUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgIHRpcERhdGEuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yU2NhbGUoZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vYm9yZGVyIGFyb3VuZCBzZWxlY3RlZCByZWN0XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdyZWN0LWJvcmRlcicsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgLy9GYWRlIHJvdyBsYWJlbHNcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucm93TGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEocmkgPT0gKGQueUF4aXMpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vZmFkZSBjb2x1bW4gbGFiZWxzXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmdW5jdGlvbiAociwgcmkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKHJpID09IChkLnhBeGlzKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2ZhZGUgYWxsIHJlY3RzIGV4Y2VwdCBzZWxlY3RlZFxyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmdW5jdGlvbiAociwgcmkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyLnlBeGlzICE9IGQueUF4aXMgfHwgci54QXhpcyAhPSBkLnhBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIFxyXG4gICAgY2hhcnQuY2hhcnREaXYuc2VsZWN0KFwic3ZnLmhlYXRMZWdlbmRcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgaWYgKHRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRDb250YWluZXIgPSBjaGFydC5jaGFydERpdi5hcHBlbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgndG9wJywgY2hhcnQuY29uZmlnLm1hcmdpbi50b3AgKyAncHgnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2JhY2tncm91bmQnLCBjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdoZWF0TGVnZW5kJylcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgY2hhcnQuY29uZmlnLmhlYXRXaWR0aCk7XHJcblxyXG4gICAgICAgIHZhciBsZWdlbmQgPSBsZWdlbmRDb250YWluZXIuc2VsZWN0QWxsKCcubGVnZW5kJylcclxuICAgICAgICAgICAgLmRhdGEoY2hhcnQuZGF0YS5oZWF0RGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZ3JpZFNpemUgKyBsZWdlbmRTcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGhlaWdodCAqIGNoYXJ0LmRhdGEuY29sb3JTY2FsZS5kb21haW4oKS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhvcnogPSAtMiAqIGdyaWRTaXplO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZlcnQgPSBpICogaGVpZ2h0IC0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIDAgKyAnLCcgKyAoZ3JpZFNpemUgKiBpKSArICcpJztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgZ3JpZFNpemUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBncmlkU2l6ZSlcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcnNbaV07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgICAgICAvL2ZhZGUgYWxsIHJlY3RzIGV4Y2VwdCBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIudmFsdWUgPCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmRUZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBncmlkU2l6ZSArIGxlZ2VuZFNwYWNpbmcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZ3JpZFNpemUgLSBsZWdlbmRTcGFjaW5nKVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganZDaGFydHMuanZGb3JtYXRWYWx1ZShkLCBmb3JtYXRWYWx1ZVR5cGUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydC5fdmFycy5ibGFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UXVhbnRpemVkQ29sb3IocXVhbnRpemVkQXJyYXksIHZhbHVlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBxdWFudGl6ZWRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCBxdWFudGl6ZWRBcnJheVtpXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1tpIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbG9yc1txdWFudGl6ZWRBcnJheS5sZW5ndGggLSAxXTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuXHJcblxyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmxpbmUgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVMaW5lID0gZ2VuZXJhdGVMaW5lO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2V0TGluZVRocmVzaG9sZERhdGEgPSBzZXRMaW5lVGhyZXNob2xkRGF0YTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGluZSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0TGluZURhdGFcclxuICogIGdldHMgbGluZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG5cclxuICAgIC8vc29ydCBjaGFydCBkYXRhIGlmIHRoZXJlIGlzIGEgc29ydCB0eXBlIGFuZCBsYWJlbCBpbiB0aGUgX3ZhcnNcclxuICAgIGlmIChjaGFydC5fdmFycy5zb3J0VHlwZSkge1xyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5zb3J0TGFiZWwgJiYgY2hhcnQuX3ZhcnMuc29ydFR5cGUgIT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICBjaGFydC5vcmdhbml6ZUNoYXJ0RGF0YShjaGFydC5fdmFycy5zb3J0TGFiZWwsIGNoYXJ0Ll92YXJzLnNvcnRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhKTtcclxuXHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn07XHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW2l0ZW1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG4vKiogcGFpbnRMaW5lQ2hhcnRcclxuICpcclxuICogVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGxpbmUgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIC8vVXNlcyB0aGUgb3JpZ2luYWwgZGF0YSBhbmQgdGhlbiBtYW5pcHVsYXRlcyBpdCBiYXNlZCBvbiBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xyXG4gICAgdmFyIGRhdGFPYmogPSBjaGFydC5nZXRCYXJEYXRhRnJvbU9wdGlvbnMoKTtcclxuXHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoZGF0YU9iai54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhkYXRhT2JqLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChkYXRhT2JqLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUxpbmUnKTtcclxuICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVMaW5lKGRhdGFPYmopO1xyXG59XHJcblxyXG4vKiogZ2VuZXJhdGVMaW5lXHJcbiAqXHJcbiAqIFBhaW50cyB0aGUgbGluZXNcclxuICogQHBhcmFtcyBsaW5lRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5lKGxpbmVEYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiZy5saW5lLWNvbnRhaW5lclwiKS5yZW1vdmUoKTtcclxuICAgIHZhciBsaW5lcyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxpbmUtY29udGFpbmVyXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIik7XHJcblxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCA/IGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzID8gY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgOiBsaW5lRGF0YS5sZWdlbmREYXRhIDogY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA/IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgOiBsaW5lRGF0YS5sZWdlbmREYXRhO1xyXG4gICAgdmFyIGxpbmVEYXRhTmV3ID0ganZDaGFydHMuZ2V0VG9nZ2xlZERhdGEobGluZURhdGEsIGRhdGFIZWFkZXJzKTtcclxuXHJcbiAgICAvL0lmIGl0J3MgYW4gYXJlYSBjaGFydCwgYWRkIHRoZSBhcmVhXHJcbiAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgIGNoYXJ0LmZpbGxBcmVhKGxpbmVEYXRhTmV3KTtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUxpbmVHcm91cHMobGluZXMsIGxpbmVEYXRhTmV3LCBjaGFydCk7XHJcbiAgICB2YXIgZXZlbnRHcm91cHMgPSBqdkNoYXJ0cy5nZW5lcmF0ZUV2ZW50R3JvdXBzKGxpbmVzLCBsaW5lRGF0YU5ldywgY2hhcnQpO1xyXG5cclxuICAgIGV2ZW50R3JvdXBzXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vIFRyYW5zaXRpb25zIGluIEQzIGRvbid0IHN1cHBvcnQgdGhlICdvbicgZnVuY3Rpb24gVGhleSBvbmx5IGV4aXN0IG9uIHNlbGVjdGlvbnMuIFNvIG5lZWQgdG8gbW92ZSB0aGF0IGV2ZW50IGxpc3RlbmVyIGFib3ZlIHRyYW5zaXRpb24gYW5kIGFmdGVyIGFwcGVuZFxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChcIi50aXAtbGluZVwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChcIi50aXAtbGluZVwiKS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjaGFydC5kaXNwbGF5VmFsdWVzKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUNsaXBQYXRoKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxpbmVUaHJlc2hvbGQoKTtcclxuXHJcbiAgICByZXR1cm4gbGluZXM7XHJcbn07XHJcblxyXG4vKiogZ2VuZXJhdGVMaW5lR3JvdXBzXHJcbiAqXHJcbiAqIFBhaW50cyB0aGUgZ3JvdXBzIG9mIHRoZSBsaW5lc1xyXG4gKiBAcGFyYW1zIGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydFxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5lR3JvdXBzKGxpbmVDb250YWluZXIsIGxpbmVEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcixcclxuICAgICAgICBsaW5lcztcclxuXHJcbiAgICAvL0dldCBQb3NpdGlvbiBDYWxjdWxhdGlvbnNcclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMsICduby1wYWRkaW5nJyk7XHJcblxyXG4gICAgdmFyIHhUcmFuc2xhdGUsXHJcbiAgICAgICAgeVRyYW5zbGF0ZTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHhUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geChkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHlUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHkobGluZURhdGFbaV1beUF4aXNEYXRhLmxhYmVsXSkpICsgKGNvbnRhaW5lci5oZWlnaHQgLyAobGluZURhdGEubGVuZ3RoKSAvIDIpOy8vICsgY29udGFpbmVyLmhlaWdodCAvIChsaW5lRGF0YS5sZW5ndGgpIC8gMiAgLSB5LnBhZGRpbmdJbm5lcigpKTtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4KGxpbmVEYXRhW2ldW3hBeGlzRGF0YS5sYWJlbF0pKSArIChjb250YWluZXIud2lkdGggLyAobGluZURhdGEubGVuZ3RoKSAvIDIpOy8vICsgY29udGFpbmVyLndpZHRoIC8gKGxpbmVEYXRhLmxlbmd0aCkgLyAyIC0geC5wYWRkaW5nSW5uZXIoKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkoZCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FwcGVuZCBsaW5lcyBhbmQgY2lyY2xlc1xyXG5cclxuICAgIHZhciBkYXRhID0ge307XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVnZW5kRGF0YS5sZW5ndGg7IGsrKykge1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFydC5fdmFycy5sZWdlbmRPcHRpb25zICE9PSBcInVuZGVmaW5lZFwiKSB7Ly9BY2NvdW50aW5nIGZvciBsZWdlbmQgdG9nZ2xlc1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZE9wdGlvbnNba10udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRG9uJ3Qgd3JpdGUgYW55dGhpbmcgdG8gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Xcml0ZSBzb21ldGhpbmcgdG8gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaChwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7Ly9Jbml0aWFsIGNyZWF0aW9uIG9mIHZpc3VhbGl6YXRpb24gdy9vIGxlZ2VuZCBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtsZWdlbmREYXRhW2tdXS5sZW5ndGggPCBsaW5lRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2gocGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKFwiLmxpbmVzXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoXCIubGluZVwiKS5yZW1vdmUoKTtcclxuICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoXCIuY2lyY2xlXCIpLnJlbW92ZSgpO1xyXG4gICAgY2hhcnQuc3ZnLnNlbGVjdEFsbChcIiNsaW5lLWdyYWRpZW50XCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGxpbmVzID0gY2hhcnQuc3ZnLnNlbGVjdEFsbChcIi5saW5lLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICB2YXIgdmFsdWVsaW5lID0ge307XHJcbiAgICB2YXIgY2lyY2xlcyA9IHt9O1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIHZhciBsaW5lQ29sb3JzID0gW107XHJcbiAgICB2YXIgdGhyZXNob2xkaW5nID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBrIGluIGRhdGEpIHtcclxuICAgICAgICAvL0NyZWF0ZSBwYXRoIGdlbmVyYXRvciBmb3IgZWFjaCBzZXJpZXNcclxuICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG4gICAgICAgICAgICB2YWx1ZWxpbmVba10gPSBkMy5saW5lKCkvL2xpbmUgZHJhd2luZyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geVRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAvL0FkZCBsaW5lcyB0byB0aGUgbGluZS1jb250YWluZXJcclxuICAgICAgICAgICAgbGluZXNcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUgJyArIChrKSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJwYXRoXCIpLy9kcmF3cyB0aGUgbGluZVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yT2JqID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgayk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZUNvbG9ycy5wdXNoKGNvbG9yT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JPYmo7XHJcbiAgICAgICAgICAgICAgICB9KSAgIC8vIGZpbGxzIHRoZSBiYXIgd2l0aCBjb2xvclxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgXCIyXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJub25lXCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgdmFsdWVsaW5lW2tdKGRhdGFba10pKTtcclxuXHJcbiAgICAgICAgICAgIC8vQ29sb3IgVGhyZXNob2xkaW5nIGZvciBlYWNoIHRpZXJcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMgIT0gJ25vbmUnICYmIGNoYXJ0Ll92YXJzLmNvbG9yQ2hhcnQgIT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5jb2xvckxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkUGVyY2VudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgemVybyA9IHsgcGVyY2VudDogMCwgY29sb3I6IGxpbmVDb2xvcnNbaW5kZXhdIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2goemVybyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gMDsgeiA8IE9iamVjdC5rZXlzKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMpLmxlbmd0aDsgeisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcENlbnQgPSAoKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHNbel0udGhyZXNob2xkKSAqIDEwMCkgLyAoeEF4aXNEYXRhLm1heCAtIHhBeGlzRGF0YS5taW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB7IHBlcmNlbnQ6IHBDZW50LCBjb2xvcjogY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGRDb2xvciB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6ZXJvID0geyBwZXJjZW50OiAwLCBjb2xvcjogbGluZUNvbG9yc1tpbmRleF0gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh6ZXJvKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHogPSAwOyB6IDwgT2JqZWN0LmtleXMoY2hhcnQuX3ZhcnMudGhyZXNob2xkcykubGVuZ3RoOyB6KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwQ2VudCA9ICgoY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGQpICogMTAwKSAvICh5QXhpc0RhdGEubWF4IC0geUF4aXNEYXRhLm1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHsgcGVyY2VudDogcENlbnQsIGNvbG9yOiBjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZENvbG9yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZERhdGEgPSBjaGFydC5zZXRMaW5lVGhyZXNob2xkRGF0YShjaGFydCwgdGhyZXNob2xkUGVyY2VudHMsIGxpbmVDb2xvcnNbaW5kZXhdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZXMuc2VsZWN0QWxsKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lLXRocmVzaG9sZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQuc3ZnLmFwcGVuZChcImxpbmVhckdyYWRpZW50XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImlkXCIsIFwibGluZS1ncmFkaWVudFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJncmFkaWVudFVuaXRzXCIsIFwidXNlclNwYWNlT25Vc2VcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgeFRyYW5zbGF0ZSh4QXhpc0RhdGEubWluKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDJcIiwgeFRyYW5zbGF0ZSh4QXhpc0RhdGEubWF4KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoXCJzdG9wXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aHJlc2hvbGREYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwic3RvcFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJvZmZzZXRcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQub2Zmc2V0OyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJzdG9wLWNvbG9yXCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbG9yOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5zdmcuYXBwZW5kKFwibGluZWFyR3JhZGllbnRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJsaW5lLWdyYWRpZW50XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImdyYWRpZW50VW5pdHNcIiwgXCJ1c2VyU3BhY2VPblVzZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB5VHJhbnNsYXRlKHlBeGlzRGF0YS5taW4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB5VHJhbnNsYXRlKHlBeGlzRGF0YS5tYXgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbChcInN0b3BcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKHRocmVzaG9sZERhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJzdG9wXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcIm9mZnNldFwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInN0b3AtY29sb3JcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29sb3I7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vQWRkIGNpcmNsZXMgYXQgam9pbnRzIGluIHRoZSBsaW5lc1xyXG4gICAgICAgICAgICBjaXJjbGVzW2tdID0gbGluZXNcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NpcmNsZSAnICsgKGspKVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKGRhdGFba10pXHJcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcImNpcmNsZVwiKS8vQ2lyY2xlcyBmb3IgdGhlIGpvaW50cyBpbiB0aGUgbGluZVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2NpcmNsZS0nICsgY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF0gKyAnIGhpZ2hsaWdodC1jbGFzcy0nICsgaTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImN4XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geVRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhyZXNob2xkaW5nID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE9iamVjdC5rZXlzKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMpLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gbGVuZ3RoOyB6ID4gLTE7IHotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID49IHRocmVzaG9sZC50aHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gbGVuZ3RoOyB6ID4gLTE7IHotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID49IHRocmVzaG9sZC50aHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBrKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcInJcIiwgMi41KTtcclxuXHJcbiAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vUmV0dXJuIGxpbmUgZ3JvdXBzXHJcbiAgICByZXR1cm4gbGluZXMuc2VsZWN0QWxsKFwiLmNpcmNsZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGluZVRocmVzaG9sZERhdGEoY2hhcnQsIHRocmVzaG9sZHMpIHtcclxuICAgIHZhciBkYXRhID0gW107XHJcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHRocmVzaG9sZHMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICB2YXIgZ3JhZGllbnRPbmUgPSB7IG9mZnNldDogdGhyZXNob2xkc1trXS5wZXJjZW50ICsgXCIlXCIsIGNvbG9yOiB0aHJlc2hvbGRzW2tdLmNvbG9yIH07XHJcbiAgICAgICAgZGF0YS5wdXNoKGdyYWRpZW50T25lKTtcclxuXHJcbiAgICAgICAgaWYgKGsgKyAxIDwgdGhyZXNob2xkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGdyYWRpZW50VHdvID0geyBvZmZzZXQ6IHRocmVzaG9sZHNbayArIDFdLnBlcmNlbnQgKyBcIiVcIiwgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGdyYWRpZW50VHdvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChrID09IHRocmVzaG9sZHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB2YXIgbGFzdCA9IHsgb2Zmc2V0OiBcIjEwMCVcIiwgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGxhc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jaXJjbGVwYWNrID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlUGFjayA9IGdlbmVyYXRlUGFjaztcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGFjayBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0UGFja0NoYXJ0RGF0YVxyXG4gKiAgZ2V0cyBwYWNrIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRQYWNrTGVnZW5kRGF0YShjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGNoYXJ0LmNvbG9ycztcclxufVxyXG5cclxuLyoqc2V0UGFja0xlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0UGFja0xlZ2VuZERhdGEoZGF0YVRhYmxlKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIHZhciBsYWJlbCA9ICcnXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsID0gZGF0YVRhYmxlW2tleV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGFUYWJsZVtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZWdlbmRBcnJheS51bnNoaWZ0KGxhYmVsKTtcclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG5cclxuICAgIHZhciBwYWNrTWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDMwLFxyXG4gICAgICAgIHJpZ2h0OiAyMCxcclxuICAgICAgICBib3R0b206IDE1LFxyXG4gICAgICAgIGxlZnQ6IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgcGFja01hcmdpbnMpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZCgnZ2VuZXJhdGVQYWNrJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVBhY2soY2hhcnQuY3VycmVudERhdGEpO1xyXG59O1xyXG5cclxuLyoqIGdlbmVyYXRlUGFja1xyXG4gKlxyXG4gKiBwYWludHMgdGhlIHBhY2sgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgcGFja0RhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUGFjaygpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgdyA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICByID0gTWF0aC5taW4oaCAvIDIsIHcgLyAzKSxcclxuICAgICAgICBtYXJnaW4gPSAyMCxcclxuICAgICAgICBkaWFtZXRlciA9IHIgKiAyO1xyXG5cclxuICAgIGNoYXJ0LmNoaWxkcmVuID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcblxyXG4gICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKClcclxuICAgICAgICAucmFuZ2UoY2hhcnQuZGF0YS5jb2xvclxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IGMgPSBkMy5yZ2IoYyk7IGMub3BhY2l0eSA9IDAuODsgcmV0dXJuIGM7IH0pKTtcclxuXHJcbiAgICAvLyAgYXNzaWducyB0aGUgZGF0YSB0byBhIGhpZXJhcmNoeSB1c2luZyBwYXJlbnQtY2hpbGQgcmVsYXRpb25zaGlwc1xyXG4gICAgdmFyIHJvb3QgPSBkMy5oaWVyYXJjaHkoY2hhcnQuY2hpbGRyZW4sIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW47XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcGFjayA9IGQzLnBhY2soKVxyXG4gICAgICAgIC5zaXplKFtjb250YWluZXIud2lkdGgsIGNvbnRhaW5lci5oZWlnaHRdKVxyXG4gICAgICAgIC5wYWRkaW5nKDIpO1xyXG5cclxuICAgIHBhY2socm9vdFxyXG4gICAgICAgIC5zdW0oZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuaGFzT3duUHJvcGVydHkoJ2NoaWxkcmVuJykgPyAwIDogZC5uYW1lO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGIuaGVpZ2h0IC0gYS5oZWlnaHQgfHwgYi52YWx1ZSAtIGEudmFsdWU7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLmRlc2NlbmRhbnRzKCk7XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5wYWNrXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciB2aXMgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJwYWNrXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAodyAvIDIpICsgXCIsXCIgKyByICsgXCIpXCIpO1xyXG5cclxuICAgIHZhciBjaXJjbGUgPSB2aXMuc2VsZWN0QWxsKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgLmRhdGEocm9vdC5kZXNjZW5kYW50cygpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQucGFyZW50ID8gZC5jaGlsZHJlbiA/IFwibm9kZVwiIDogXCJub2RlIG5vZGUtLWxlYWZcIiA6IFwibm9kZSBub2RlLS1yb290XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGQuY29sb3IgPSBjb2xvcihkLmRlcHRoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gPyBjb2xvcihkLmRlcHRoKSA6IG51bGw7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZm9jdXMgIT09IGQpIHtcclxuICAgICAgICAgICAgICAgIHpvb20oZCksIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vIHZhciB0ZXh0ID0gdmlzLnNlbGVjdEFsbChcInRleHRcIilcclxuICAgIC8vICAgICAuZGF0YShyb290LmRlc2NlbmRhbnRzKCkpXHJcbiAgICAvLyAgICAgLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgLy8gICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxyXG4gICAgLy8gICAgIC5zdHlsZShcImRpc3BsYXlcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gZC5wYXJlbnQgPT09IHJvb3QgPyBcImlubGluZVwiIDogXCJub25lXCI7XHJcbiAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgdmFyIG5vZGUgPSBzdmcuc2VsZWN0QWxsKFwiY2lyY2xlLHRleHRcIik7XHJcblxyXG4gICAgZDMuc2VsZWN0KFwiYm9keVwiKVxyXG4gICAgICAgIC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgem9vbShyb290KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB6b29tVG8oW3Jvb3QueCwgcm9vdC55LCByb290LnIgKiAyICsgbWFyZ2luXSk7XHJcblxyXG4gICAgZnVuY3Rpb24gem9vbShkKSB7XHJcbiAgICAgICAgdmFyIGZvY3VzID0gZDtcclxuXHJcbiAgICAgICAgZDMudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbihkMy5ldmVudC5hbHRLZXkgPyA3NTAwIDogNzUwKVxyXG4gICAgICAgICAgICAudHdlZW4oXCJ6b29tXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGQzLmludGVycG9sYXRlWm9vbSh2aWV3LCBbZm9jdXMueCwgZm9jdXMueSwgZm9jdXMuciAqIDIgKyBtYXJnaW5dKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHpvb21UbyhpKHQpKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB0cmFuc2l0aW9uLnNlbGVjdEFsbChcInRleHRcIilcclxuICAgICAgICAvLyAgICAgLmZpbHRlcihmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZC5wYXJlbnQgPT09IGZvY3VzIHx8IHRoaXMuc3R5bGUuZGlzcGxheSA9PT0gXCJpbmxpbmVcIjtcclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gZm9jdXMgPyAxIDogMDtcclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZC5wYXJlbnQgPT09IGZvY3VzID8gXCJpbmxpbmVcIiA6IFwibm9uZVwiO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuZWFjaChcInN0YXJ0XCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChkLnBhcmVudCA9PT0gZm9jdXMpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIGlmIChkLnBhcmVudCAhPT0gZm9jdXMpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmFyIHZpZXc7XHJcbiAgICBmdW5jdGlvbiB6b29tVG8odikge1xyXG4gICAgICAgIHZhciBrID0gZGlhbWV0ZXIgLyB2WzJdO1xyXG5cclxuICAgICAgICAvL3NldCBnbG9iYWwgem9vbVxyXG4gICAgICAgIHZpZXcgPSB2O1xyXG5cclxuICAgICAgICBub2RlLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgJiYgZC54ICYmIGQueSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgKGQueCAtIHZbMF0pICogayArIFwiLFwiICsgKGQueSAtIHZbMV0pICogayArIFwiKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNpcmNsZS5hdHRyKFwiclwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5yICogaztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG4gdmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5waWUgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVQaWUgPSBnZW5lcmF0ZVBpZTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGllIERhdGEgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFBpZURhdGFcclxuICogIGdldHMgcGllIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRQaWVMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcbi8qKnNldFBpZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0UGllTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSBkYXRhLmNoYXJ0RGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goKGRhdGEuY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgdmFyIGN1c3RvbU1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiA0MCxcclxuICAgICAgICByaWdodDogMjAsXHJcbiAgICAgICAgYm90dG9tOiAyMCxcclxuICAgICAgICBsZWZ0OiAyMFxyXG4gICAgfTtcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuICAgIGNoYXJ0LmxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGE7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGN1c3RvbU1hcmdpbnMpO1xyXG5cclxuICAgIC8vSWYgdGhlIGNvbnRhaW5lciBzaXplIGlzIHNtYWxsLCBkb24ndCBnZW5lcmF0ZSBhIGxlZ2VuZFxyXG4gICAgaWYgKGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGggPiA1NTApIHtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVBpZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmdlbmVyYXRlUGllKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVQaWVcclxuICpcclxuICogY3JlYXRlcyBhbmQgZHJhd3MgYSBwaWUgY2hhcnQgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAqIEBwYXJhbXMgc3ZnLCBwaWVEYXRhLCBfdmFycywgY29udGFpbmVyLCBjaGFydE5hbWVcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVQaWUoY3VycmVudERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIHBpZURhdGEgPSBjdXJyZW50RGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YTtcclxuXHJcbiAgICAvL2RlZmluZSB2YXJpYWJsZXMgdG8gY2hhbmdlIGF0dHInc1xyXG4gICAgc3ZnLnNlbGVjdCgnZy5waWUtY29udGFpbmVyJykucmVtb3ZlKCk7XHJcblxyXG4gICAgLy92YXIga2V5cyA9IE9iamVjdC5rZXlzKHBpZURhdGFbMF0pOy8vRGF0YSBoZWFkZXJzXHJcbiAgICB2YXIga2V5cyA9IFtjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbCwgY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdO1xyXG4gICAgdmFyIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yO1xyXG5cclxuICAgIHZhciB3ID0gY29udGFpbmVyLndpZHRoO1xyXG4gICAgdmFyIGggPSBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgdmFyIHIgPSBNYXRoLm1pbihoIC8gMiwgdyAvIDMpO1xyXG5cclxuICAgIHZhciBkYXRhID0gW107XHJcbiAgICB2YXIgdG90YWwgPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGllRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRhdGFbaV0gPSB7IGxhYmVsOiBwaWVEYXRhW2ldW2tleXNbMF1dLCB2YWx1ZTogcGllRGF0YVtpXVtrZXlzWzFdXSB9O1xyXG4gICAgICAgIC8vdG90YWwgKz0gcGFyc2VGbG9hdChwaWVEYXRhW2ldW2tleXNbMV1dKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGllRGF0YU5ldyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpOy8vY29weSBvZiBwaWUgZGF0YVxyXG5cclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gbGVnZW5kRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG5cclxuICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBqdkNoYXJ0cy5nZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoZGF0YUhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBpZURhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gcGllRGF0YU5ld1tqXS5sYWJlbCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcGllRGF0YU5ldy5zcGxpY2UoaiwxKTtcclxuICAgICAgICAgICAgICAgICAgICBwaWVEYXRhTmV3W2pdLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaWVEYXRhTmV3Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdG90YWwgKz0gcGFyc2VGbG9hdChwaWVEYXRhTmV3W2ldLnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmRhdGEoW3BpZURhdGFOZXddKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdwaWUtY29udGFpbmVyJylcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgMjAwKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAodyAvIDIpICsgJywnICsgciArICcpJyk7XHJcblxyXG4gICAgdmFyIHBpZSA9IGQzLnBpZSgpLnZhbHVlKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2RlY2xhcmUgYW4gYXJjIGdlbmVyYXRvciBmdW5jdGlvblxyXG4gICAgdmFyIGFyYyA9IGQzLmFyYygpXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKDApLy9Ob3JtYWwgcGllIGNoYXJ0IHdoZW4gdGhpcyA9IDAsIGNhbiBiZSBjaGFuZ2VkIHRvIGNyZWF0ZSBkb251dCBjaGFydFxyXG4gICAgICAgIC5vdXRlclJhZGl1cyhyKTtcclxuXHJcbiAgICB2YXIgYXJjT3ZlciA9IGQzLmFyYygpXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKDApXHJcbiAgICAgICAgLm91dGVyUmFkaXVzKHIgKyAxNSk7XHJcblxyXG4gICAgLy9zZWxlY3QgcGF0aHMsIHVzZSBhcmMgZ2VuZXJhdG9yIHRvIGRyYXdcclxuICAgIHZhciBhcmNzID0gdmlzXHJcbiAgICAgICAgLnNlbGVjdEFsbCgnZy5zbGljZScpXHJcbiAgICAgICAgLmRhdGEocGllKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3NsaWNlJyk7XHJcblxyXG4gICAgYXJjcy5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIHBpZURhdGFbaV1ba2V5c1swXV0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2QnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJjKGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdlZGl0YWJsZSBlZGl0YWJsZS1waWUgcGllLXNsaWNlLScgKyBpICsgJyBoaWdobGlnaHQtY2xhc3MtJyArIGk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJyNGRkZGRkYnKVxyXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxKVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZC5kYXRhLCBpKTtcclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXJjcy5zZWxlY3RBbGwoJyonKS5zdHlsZSgnb3BhY2l0eScsIDAuNyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSBkMy5zZWxlY3QodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzbGljZS5zdHlsZSgnb3BhY2l0eScsIDEpO1xyXG4gICAgICAgICAgICAgICAgc2xpY2UudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDIwMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyY092ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIGFyY3Muc2VsZWN0QWxsKCcqJykuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgYXJjKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBhcmNzLmFwcGVuZCgnc3ZnOnRleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdzbGljZUxhYmVsJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgdmFyIHRlc3QgPSBhcmMuY2VudHJvaWQoZCk7XHJcbiAgICAgICAgICAgIHRlc3RbMF0gPSB0ZXN0WzBdICogMS42O1xyXG4gICAgICAgICAgICB0ZXN0WzFdID0gdGVzdFsxXSAqIDEuNjtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIHRlc3QgKyAnKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBwZXJjZW50ID0gcGllRGF0YU5ld1tpXS52YWx1ZSAvIHRvdGFsICogMTAwO1xyXG4gICAgICAgICAgICBwZXJjZW50ID0gZDMuZm9ybWF0KCcuMWYnKShwZXJjZW50KTtcclxuICAgICAgICAgICAgaWYgKHBlcmNlbnQgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVyY2VudCArICclJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyNGRkZGRkYnKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5yYWRpYWwgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVSYWRpYWwgPSBnZW5lcmF0ZVJhZGlhbDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUmFkaWFsIERhdGEgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLyoqc2V0UmFkaWFsQ2hhcnREYXRhXHJcbiAqICBnZXRzIGJhciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0UmFkaWFsTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG5cclxuICAgIHZhciByYWRpYWxNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogNDAsXHJcbiAgICAgICAgcmlnaHQ6IDIwLFxyXG4gICAgICAgIGJvdHRvbTogMjAsXHJcbiAgICAgICAgbGVmdDogMjBcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCByYWRpYWxNYXJnaW5zKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlVmVydGljYWxMZWdlbmQoJ2dlbmVyYXRlUmFkaWFsJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVJhZGlhbCgpO1xyXG59XHJcblxyXG4vKipzZXRSYWRpYWxMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldFJhZGlhbExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YoZGF0YS5jaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGUubGFiZWxdKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlUmFkaWFsXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgcmFkaWwgYmFyIGNoYXJ0IG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHJhZGlhbERhdGFcclxuICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVJhZGlhbCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmRhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICByYWRpYWxEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgdGlja051bWJlciA9IDMsXHJcbiAgICAgICAgYmFySGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCAvIDIgLSA0MCxcclxuICAgICAgICB3aWR0aCA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHIgPSBNYXRoLm1pbihoZWlnaHQgLyAyLCB3aWR0aCAvIDMpLFxyXG4gICAgICAgIGRhdGEgPSBbXSxcclxuICAgICAgICBhbGxLZXlzID0gW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsLCBjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV0sXHJcbiAgICAgICAgcmFkaWFsRGF0YU5ldyxcclxuICAgICAgICBkYXRhSGVhZGVycyxcclxuICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBbXSxcclxuICAgICAgICByYWRpYWxEYXRhRmlsdGVyZWQ7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYWRpYWxEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGF0YVtpXSA9IHsgbGFiZWw6IHJhZGlhbERhdGFbaV1bYWxsS2V5c1swXV0sIHZhbHVlOiByYWRpYWxEYXRhW2ldW2FsbEtleXNbMV1dIH07XHJcbiAgICAgICAgLy90b3RhbCArPSBwYXJzZUZsb2F0KHJhZGlhbERhdGFbaV1ba2V5c1sxXV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJhZGlhbERhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGxlZ2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG4gICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHJhZGlhbERhdGFGaWx0ZXJlZCA9IFtdO1xyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gcmFkaWFsRGF0YU5ld1tqXS5sYWJlbCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhZGlhbERhdGFOZXdbal0udmFsdWUgPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAocmFkaWFsRGF0YU5ld1tqXS52YWx1ZSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmFkaWFsRGF0YUZpbHRlcmVkLnB1c2gocmFkaWFsRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJhZGlhbERhdGFGaWx0ZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIGIudmFsdWUgLSBhLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cucmFkaWFsLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGlhbC1jb250YWluZXInKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh3aWR0aCAvIDIpICsgJywnICsgciArICcpJyk7XHJcblxyXG4gICAgdmFyIGV4dGVudCA9IGQzLmV4dGVudChyYWRpYWxEYXRhRmlsdGVyZWQsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2NvbW1hcyBhbmQgMCBkZWNpbWFsc1xyXG4gICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLC4wZicpO1xyXG4gICAgaWYgKGV4dGVudFsxXSA+PSAxMDAwMDAwKSB7XHJcbiAgICAgICAgLy9taWxsaW9uc1xyXG4gICAgICAgIHZhciBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdFByZWZpeCgnLicgKyBwLCAxLjNlNik7XHJcbiAgICB9IGVsc2UgaWYgKGV4dGVudFsxXSA8PSAxMDApIHtcclxuICAgICAgICAvLzIgZGVjaW1hbHNcclxuICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJywuMmYnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKGV4dGVudFswXSAhPT0gMCkge1xyXG4gICAgICAgIGV4dGVudFswXSA9IDA7XHJcbiAgICB9XHJcbiAgICB2YXIgYmFyU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgLmRvbWFpbihleHRlbnQpXHJcbiAgICAgICAgLnJhbmdlKFswLCBiYXJIZWlnaHRdKTtcclxuXHJcbiAgICB2YXIga2V5cyA9IHJhZGlhbERhdGFGaWx0ZXJlZC5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gZC5sYWJlbDtcclxuICAgIH0pO1xyXG4gICAgdmFyIG51bUJhcnMgPSBrZXlzLmxlbmd0aDtcclxuXHJcbiAgICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAuZG9tYWluKGV4dGVudClcclxuICAgICAgICAucmFuZ2UoWzAsIC1iYXJIZWlnaHRdKTtcclxuXHJcbiAgICAvL2NyZWF0ZSB4QXhpcyBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICB2YXIgeEF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgLnNjYWxlKHgpXHJcbiAgICAgICAgLnRpY2tzKHRpY2tOdW1iZXIpXHJcbiAgICAgICAgLnRpY2tGb3JtYXQoZm9ybWF0TnVtYmVyKTtcclxuXHJcbiAgICB2aXMuc2VsZWN0QWxsKCdjaXJjbGUnKVxyXG4gICAgICAgIC5kYXRhKHgudGlja3MoMykpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhclNjYWxlKGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMiwyJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcuNXB4Jyk7XHJcblxyXG4gICAgdmFyIGFyYyA9IGQzLmFyYygpXHJcbiAgICAgICAgLnN0YXJ0QW5nbGUoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChpICogMiAqIE1hdGguUEkpIC8gbnVtQmFycztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lbmRBbmdsZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKChpICsgMSkgKiAyICogTWF0aC5QSSkgLyBudW1CYXJzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKDApO1xyXG5cclxuICAgIHZhciBzZWdtZW50cyA9IHZpcy5zZWxlY3RBbGwoJ3BhdGgnKVxyXG4gICAgICAgIC5kYXRhKHJhZGlhbERhdGFGaWx0ZXJlZClcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC8vLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXHJcbiAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgZC5vdXRlclJhZGl1cyA9IDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgZC5sYWJlbCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZCcsIGFyYylcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgc2VnbWVudHMudHJhbnNpdGlvbigpLmR1cmF0aW9uKDgwMCkuZWFzZShkMy5lYXNlRWxhc3RpYykuZGVsYXkoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gNzUwIC0gNTAgKiBpO1xyXG4gICAgfSlcclxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZnVuY3Rpb24gKGQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGUoZC5vdXRlclJhZGl1cywgYmFyU2NhbGUoK2QudmFsdWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICBkLm91dGVyUmFkaXVzID0gaSh0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmMoZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZpcy5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ3InLCBiYXJIZWlnaHQpXHJcbiAgICAgICAgLmNsYXNzZWQoJ291dGVyJywgdHJ1ZSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzEuNXB4Jyk7XHJcblxyXG4gICAgdmlzLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgLmRhdGEoa2V5cylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsYWJlbCcpXHJcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgLWJhckhlaWdodCAtIDIwKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcuNXB4JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdyb3RhdGUoJyArIChpICogMzYwIC8gbnVtQmFycykgKyAnKSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIGF4aXNHcm91cCA9IHZpcy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd4QXhpcycpXHJcbiAgICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdub25lJylcclxuICAgICAgICAuY2FsbCh4QXhpcyk7XHJcbiAgICB2YXIgeUF4aXNDbGFzcyA9ICd5QXhpc0xhYmVscyBlZGl0YWJsZSBlZGl0YWJsZS15QXhpcyBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLW51bSc7XHJcblxyXG4gICAgYXhpc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKS8vQ3VzdG9taXplIHRoZSBjb2xvciBvZiBheGlzIGxhYmVsc1xyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIHlBeGlzQ2xhc3MpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID09PSB4QXhpcy5zY2FsZSgpLnRpY2tzKHRpY2tOdW1iZXIpW3RpY2tOdW1iZXJdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCAxMCknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsMCknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zYW5rZXkgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn1cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVNhbmtleSA9IGdlbmVyYXRlU2Fua2V5O1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBTYW5rZXkgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRhXHJcbiAgICAgKiBAcGFyYW0gZGF0YVRhYmxlXHJcbiAgICAgKiBAcGFyYW0gY29sb3JzXHJcbiAgICAgKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG4gICAgdmFyIHNhbmtleURhdGEgPSB7fSxcclxuICAgICAgICBkYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuZGF0YS5kYXRhVGFibGU7XHJcblxyXG4gICAgc2Fua2V5RGF0YS5saW5rcyA9IFtdO1xyXG4gICAgc2Fua2V5RGF0YS5ub2RlcyA9IFtdO1xyXG5cclxuICAgIC8vSXRlcmF0ZSB0aHJvdWdoIHNvdXJjZXMgYW5kIHRhcmdldHMgdG8gbWFrZSBhIG5vZGUgbGlzdFxyXG4gICAgdmFyIG5vZGVMaXN0ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFUYWJsZSkge1xyXG4gICAgICAgIGlmIChpdGVtID09PSBcInZhbHVlXCIpIHsgY29udGludWU7IH07XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwb3RlbnRpYWxOb2RlID0gZGF0YVtpXVtkYXRhVGFibGVbaXRlbV1dO1xyXG4gICAgICAgICAgICB2YXIgYWRkVG9MaXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBub2RlTGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvdGVudGlhbE5vZGUgPT09IG5vZGVMaXN0W2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9MaXN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFkZFRvTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZUxpc3QucHVzaChwb3RlbnRpYWxOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vQ3JlYXRlIG5vZGVzIG9iamVjdFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNhbmtleURhdGEubm9kZXMucHVzaCh7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBub2RlTGlzdFtpXVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNhbmtleURhdGEubGlua3MgPSBkYXRhLm1hcChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFwic291cmNlXCI6IHhbZGF0YVRhYmxlLnN0YXJ0XSxcclxuICAgICAgICAgICAgXCJ0YXJnZXRcIjogeFtkYXRhVGFibGUuZW5kXSxcclxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiB4W2RhdGFUYWJsZS52YWx1ZV1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgbm9kZU1hcCA9IHt9O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW5rZXlEYXRhLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2Fua2V5RGF0YS5ub2Rlc1tpXS5ub2RlID0gaTtcclxuICAgICAgICBub2RlTWFwW3NhbmtleURhdGEubm9kZXNbaV0ubmFtZV0gPSBpO1xyXG4gICAgfVxyXG4gICAgc2Fua2V5RGF0YS5saW5rcyA9IHNhbmtleURhdGEubGlua3MubWFwKGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc291cmNlOiBub2RlTWFwW3guc291cmNlXSxcclxuICAgICAgICAgICAgdGFyZ2V0OiBub2RlTWFwW3gudGFyZ2V0XSxcclxuICAgICAgICAgICAgdmFsdWU6IHgudmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBzYW5rZXlEYXRhO1xyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTIwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIHZhciBkYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcblxyXG4gICAgLy9nZW5lcmF0ZSBTVkdcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVNhbmtleShkYXRhKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHNhbmtleSBjaGFydCB3aXRoIHRoZSBnaXZlbiBkYXRhXHJcbiAqIEBwYXJhbSBzYW5rZXlEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVNhbmtleShzYW5rZXlEYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvciA9IGNoYXJ0Ll92YXJzLmNvbG9yO1xyXG5cclxuICAgIHZhciB3aWR0aCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGg7XHJcbiAgICB2YXIgaGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQ7XHJcblxyXG4gICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIiwuMGZcIiksICAgIC8vIHplcm8gZGVjaW1hbCBwbGFjZXNcclxuICAgICAgICBmb3JtYXQgPSBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZm9ybWF0TnVtYmVyKGQpICsgXCIgXCIgKyBcIldpZGdldHNcIjsgfSxcclxuICAgICAgICBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTIwKTtcclxuXHJcbiAgICAvL3ZhciBub2RlTWFwID0ge307XHJcbiAgICAvL2ZvciAodmFyIGkgPSAwOyBpIDwgc2Fua2V5RGF0YS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgLy8gICAgc2Fua2V5RGF0YS5ub2Rlc1tpXS5ub2RlID0gaTtcclxuICAgIC8vICAgIG5vZGVNYXBbc2Fua2V5RGF0YS5ub2Rlc1tpXS5uYW1lXSA9IGk7XHJcbiAgICAvL31cclxuICAgIC8vc2Fua2V5RGF0YS5saW5rcyA9IHNhbmtleURhdGEubGlua3MubWFwKGZ1bmN0aW9uKHgpe1xyXG4gICAgLy8gICAgcmV0dXJuIHtcclxuICAgIC8vICAgICAgICBzb3VyY2U6IG5vZGVNYXBbeC5zb3VyY2VdLFxyXG4gICAgLy8gICAgICAgIHRhcmdldDogbm9kZU1hcFt4LnRhcmdldF0sXHJcbiAgICAvLyAgICAgICAgdmFsdWU6IHgudmFsdWVcclxuICAgIC8vICAgIH07XHJcbiAgICAvL30pO1xyXG5cclxuICAgIHZhciBzYW5rZXkgPSBkMy5zYW5rZXkoKVxyXG4gICAgICAgIC5ub2RlV2lkdGgoMTApXHJcbiAgICAgICAgLm5vZGVQYWRkaW5nKDE1KVxyXG4gICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSk7XHJcblxyXG4gICAgdmFyIHBhdGggPSBzYW5rZXkubGluaygpO1xyXG5cclxuICAgIC8vIC8vQWRkaW5nIHpvb20gdjQgYmVoYXZpb3IgdG8gc2Fua2V5XHJcbiAgICBkMy5zZWxlY3RBbGwoXCJzdmdcIilcclxuICAgICAgICAuY2FsbChkMy56b29tKClcclxuICAgICAgICAgICAgLnNjYWxlRXh0ZW50KFsuMSwgMTBdKVxyXG4gICAgICAgICAgICAub24oXCJ6b29tXCIsIHpvb20pKTsvL3pvb20gZXZlbnQgbGlzdGVuZXJcclxuXHJcbiAgICBzYW5rZXlcclxuICAgICAgICAubm9kZXMoc2Fua2V5RGF0YS5ub2RlcylcclxuICAgICAgICAubGlua3Moc2Fua2V5RGF0YS5saW5rcylcclxuICAgICAgICAubGF5b3V0KDMyKTtcclxuXHJcbiAgICB2YXIgbGluayA9IHN2Zy5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5zYW5rZXktbGlua1wiKVxyXG4gICAgICAgIC5kYXRhKHNhbmtleURhdGEubGlua3MpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKFwicGF0aFwiKVxyXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWUgPiAwOyB9KVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJzYW5rZXktbGlua1wiKVxyXG4gICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKVxyXG4gICAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMSwgZC5keSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYi5keSAtIGEuZHk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgbm9kZSA9IHN2Zy5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5ub2RlXCIpXHJcbiAgICAgICAgLmRhdGEoc2Fua2V5RGF0YS5ub2RlcylcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZSA+IDA7IH0pXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm5vZGVcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIiwgXCIgKyBkLnkgKyBcIilcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYWxsKGQzLmRyYWcoKVxyXG4gICAgICAgICAgICAuc3ViamVjdChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcInN0YXJ0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBkMy5ldmVudC5zb3VyY2VFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwiZHJhZ1wiLCBkcmFnbW92ZSkpO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKFwicmVjdFwiKVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChkLmR5LCAwKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgc2Fua2V5Lm5vZGVXaWR0aCgpKVxyXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuY29sb3IgPSBjb2xvcihkLm5hbWUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkMy5yZ2IoZC5jb2xvcikuZGFya2VyKDIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCAtNilcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuZHkgLyAyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIG51bGwpXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgbnVsbClcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54IDwgd2lkdGggLyAyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDYgKyBzYW5rZXkubm9kZVdpZHRoKCkpXHJcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWdtb3ZlKGQpIHtcclxuICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0cihcInRyYW5zZm9ybVwiLFxyXG4gICAgICAgICAgICBcInRyYW5zbGF0ZShcIiArIChcclxuICAgICAgICAgICAgICAgIGQueCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHdpZHRoIC0gZC5keCwgZDMuZXZlbnQueCkpXHJcbiAgICAgICAgICAgICkgKyBcIixcIiArIChcclxuICAgICAgICAgICAgICAgIGQueSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGhlaWdodCAtIGQuZHksIGQzLmV2ZW50LnkpKVxyXG4gICAgICAgICAgICApICsgXCIpXCIpO1xyXG4gICAgICAgIHNhbmtleS5yZWxheW91dCgpO1xyXG4gICAgICAgIGxpbmsuYXR0cihcImRcIiwgcGF0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gem9vbSgpIHsgLy9JbXBsZW1lbnRpbmcgdGhlIHY0IHpvb21pbmcgZmVhdHVyZVxyXG4gICAgICAgIHN2Zy5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zY2F0dGVycGxvdCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVNjYXR0ZXIgPSBnZW5lcmF0ZVNjYXR0ZXI7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jcmVhdGVMaW5lR3VpZGUgPSBjcmVhdGVMaW5lR3VpZGU7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNjYXR0ZXIgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFNjYXR0ZXJEYXRhXHJcbiAqICBnZXRzIHNjYXR0ZXIgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoY2hhcnQpIHtcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFNjYXR0ZXJMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBzZXRTY2F0dGVyQXhpc0RhdGEoY2hhcnQuZGF0YSwgJ3gnLCBjaGFydC5fdmFycyk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IHNldFNjYXR0ZXJBeGlzRGF0YShjaGFydC5kYXRhLCAneScsIGNoYXJ0Ll92YXJzKTtcclxuICAgIGNoYXJ0LmRhdGEuekF4aXNEYXRhID0gY2hhcnQuZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3onKSA/IHNldFNjYXR0ZXJBeGlzRGF0YShjaGFydC5kYXRhLCAneicsIGNoYXJ0Ll92YXJzKSA6IHt9O1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG4vKipzZXRTY2F0dGVyTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRTY2F0dGVyTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2VyaWVzJykpIHtcclxuICAgICAgICB2YXIgaXRlbSA9IGRhdGEuZGF0YVRhYmxlLnNlcmllcztcclxuICAgICAgICBmb3IgKHZhciB2YWx1ZSBpbiBkYXRhLmNoYXJ0RGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudCA9IGRhdGEuY2hhcnREYXRhW3ZhbHVlXVtpdGVtXTtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YobGVnZW5kRWxlbWVudCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGxlZ2VuZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSkge1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGUubGFiZWwpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBsZWdlbmRBcnJheVswXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGUubGFiZWwpO1xyXG4gICAgfVxyXG4gICAgLy9vcmRlciBsZWdlbmQgZGF0YSBpbiBhbHBoYWJldGljYWwgb3JkZXJcclxuICAgIGxlZ2VuZEFycmF5LnNvcnQoKTtcclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuLyoqc2V0U2NhdHRlckF4aXNEYXRhXHJcbiAqICBnZXRzIHogYXhpcyBkYXRhIGJhc2VkIG9uIHRoZSBjaGFydERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGVcclxuICogQHJldHVybnMgb2JqZWN0IHdpdGggbGFiZWwgYW5kIHZhbHVlc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0U2NhdHRlckF4aXNEYXRhKGRhdGEsIGF4aXMsIF92YXJzKSB7XHJcbiAgICAvL2RlY2xhcmUgdmFyc1xyXG4gICAgdmFyIGF4aXNEYXRhID0gW10sXHJcbiAgICAgICAgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgc2NhdHRlckxhYmVsID0gZGF0YS5kYXRhVGFibGVbYXhpc10sXHJcbiAgICAgICAgbWluID0gc2NhdHRlckxhYmVsID8gY2hhcnREYXRhWzBdW3NjYXR0ZXJMYWJlbF0gOiAwLFxyXG4gICAgICAgIG1heCA9IHNjYXR0ZXJMYWJlbCA/IGNoYXJ0RGF0YVswXVtzY2F0dGVyTGFiZWxdIDogMCxcclxuICAgICAgICBkYXRhVHlwZTtcclxuICAgIFxyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmRhdGFUYWJsZUtleXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGVLZXlzW2pdLnZpelR5cGUgPT09IGF4aXMpIHtcclxuICAgICAgICAgICAgZGF0YVR5cGUgPSBkYXRhLmRhdGFUYWJsZUtleXNbal0udHlwZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9sb29wIG92ZXIgZGF0YSB0byBmaW5kIG1heCBhbmQgbWluXHJcbiAgICAvL2Fsc28gZGV0ZXJtaW5lcyB0aGUgeSBheGlzIHRvdGFsIGlmIHRoZSBkYXRhIGlzIHN0YWNrZWRcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGNoYXJ0RGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShzY2F0dGVyTGFiZWwpKSB7XHJcbiAgICAgICAgICAgIHZhciBudW0gPSBjaGFydERhdGFbaV1bc2NhdHRlckxhYmVsXTtcclxuICAgICAgICAgICAgaWYgKCFpc05hTihudW0pKSB7XHJcbiAgICAgICAgICAgICAgICBudW0gPSBwYXJzZUZsb2F0KG51bSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gbnVtO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChudW0gPCBtaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBudW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYXhpcyAhPT0gJ3onKSB7XHJcbiAgICAgICAgbWluICo9IDAuOTtcclxuICAgICAgICBtYXggKj0gMS4xO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChfdmFycy55TWluICYmICFpc05hTihfdmFycy55TWluKSAmJiBheGlzID09PSAneScpIHtcclxuICAgICAgICBtaW4gPSBfdmFycy55TWluO1xyXG4gICAgfVxyXG4gICAgaWYgKF92YXJzLnlNYXggJiYgIWlzTmFOKF92YXJzLnlNYXgpICYmIGF4aXMgPT09ICd5Jykge1xyXG4gICAgICAgIG1heCA9IF92YXJzLnlNYXg7XHJcbiAgICB9XHJcbiAgICBpZiAoX3ZhcnMueE1pbiAmJiAhaXNOYU4oX3ZhcnMueE1pbikgJiYgYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgbWluID0gX3ZhcnMueE1pbjtcclxuICAgIH1cclxuICAgIGlmIChfdmFycy54TWF4ICYmICFpc05hTihfdmFycy54TWF4KSAmJiBheGlzID09PSAneCcpIHtcclxuICAgICAgICBtYXggPSBfdmFycy54TWF4O1xyXG4gICAgfVxyXG5cclxuICAgIGF4aXNEYXRhLnB1c2gobWluKTtcclxuICAgIGF4aXNEYXRhLnB1c2gobWF4KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2xhYmVsJzogc2NhdHRlckxhYmVsLFxyXG4gICAgICAgICd2YWx1ZXMnOiBheGlzRGF0YSxcclxuICAgICAgICAnZGF0YVR5cGUnOiAnTlVNQkVSJyxcclxuICAgICAgICAnbWluJzogbWluLFxyXG4gICAgICAgICdtYXgnOiBtYXhcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KGNoYXJ0KSB7XHJcbiAgICB2YXIgZGF0YU9iaiA9IHt9O1xyXG5cclxuICAgIGRhdGFPYmouY2hhcnREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcbiAgICBkYXRhT2JqLmxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGE7XHJcbiAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlO1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG4gICAgZGF0YU9iai54QXhpc0RhdGEgPSBjaGFydC5kYXRhLnhBeGlzRGF0YTtcclxuICAgIGRhdGFPYmoueUF4aXNEYXRhID0gY2hhcnQuZGF0YS55QXhpc0RhdGE7XHJcbiAgICBkYXRhT2JqLnpBeGlzRGF0YSA9IGNoYXJ0LmRhdGEuekF4aXNEYXRhO1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG5cclxuICAgIC8vVE9ETyByZW1vdmUgdGhlc2UgZnJvbSBkcmF3IG9iamVjdFxyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlU2NhdHRlcicpO1xyXG5cclxuICAgIGNoYXJ0LmdlbmVyYXRlU2NhdHRlcigpO1xyXG4gICAgY2hhcnQuY3JlYXRlTGluZUd1aWRlKCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcygpLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVNZWFuKGRhdGEsIHR5cGUpIHtcclxuICAgIHJldHVybiBkMy5tZWFuKGRhdGEsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiArdmFsdWVbdHlwZV07XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGluZUd1aWRlKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBjaGFydERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGE7XHJcblxyXG4gICAgdmFyIHhMaW5lVmFsID0gY2FsY3VsYXRlTWVhbihjaGFydERhdGEsIGRhdGFUYWJsZS54KTtcclxuICAgIHZhciB5TGluZVZhbCA9IGNhbGN1bGF0ZU1lYW4oY2hhcnREYXRhLCBkYXRhVGFibGUueSk7XHJcblxyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cubGluZWd1aWRlLngnKS5yZW1vdmUoKTtcclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cubGluZWd1aWRlLnknKS5yZW1vdmUoKTtcclxuXHJcbiAgICB2YXIgbGluZUdyb3VwID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUtZ3JvdXAnKTtcclxuXHJcbiAgICAvL3ggbGluZSBncm91cCBmb3IgY3Jvc3NoYWlyXHJcbiAgICB2YXIgbGluZUd1aWRlWCA9IGxpbmVHcm91cC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lZ3VpZGUgeCcpXHJcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnZ3JheScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpXHJcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGluZUd1aWRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICdibGFjaycpO1xyXG5cclxuICAgIC8veSBsaW5lIGdyb3VwIGZvciBjcm9zc2hhaXJcclxuICAgIHZhciBsaW5lR3VpZGVZID0gbGluZUdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmVndWlkZSB5JylcclxuICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdncmF5JylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSlcclxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5saW5lR3VpZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ2JsYWNrJyk7XHJcblxyXG4gICAgLy9jcmVhdGUgY3Jvc3NoYWlyIGJhc2VkIG9uIG1lZGlhbiB4ICh1cC9kb3duKSAncG90ZW50aWFsbHknIHBhc3NlZCB3aXRoIGRhdGFcclxuICAgIGxpbmVHdWlkZVhcclxuICAgICAgICAuYXR0cigneDEnLCB4KHhMaW5lVmFsKSlcclxuICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgIC5hdHRyKCd4MicsIHgoeExpbmVWYWwpKVxyXG4gICAgICAgIC5hdHRyKCd5MicsIGNvbnRhaW5lci5oZWlnaHQpO1xyXG5cclxuICAgIC8vY3JlYXRlIGNyb3NzaGFpciBiYXNlZCBvbiBtZWRpYW4geSAobGVmdC9yaWdodCkgJ3BvdGVudGlhbGx5JyBwYXNzZWQgd2l0aCBkYXRhXHJcbiAgICBsaW5lR3VpZGVZXHJcbiAgICAgICAgLmF0dHIoJ3gxJywgMClcclxuICAgICAgICAuYXR0cigneTEnLCB5KHlMaW5lVmFsKSlcclxuICAgICAgICAuYXR0cigneDInLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgeSh5TGluZVZhbCkpO1xyXG5cclxuICAgIHJldHVybiBsaW5lR3JvdXA7XHJcbn1cclxuLyoqZ2VuZXJhdGVTY2F0dGVyXHJcbiAqXHJcbiAqIGNyZWF0ZXMgYW5kIGRyYXdzIGEgc2NhdHRlciBwbG90IG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gKiBAcGFyYW1zIHN2Zywgc2NhdHRlckRhdGEsIF92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgekF4aXNEYXRhLCBjb250YWluZXIsIGRhdGFUYWJsZSBsZWdlbmREYXRhLCBjaGFydE5hbWVcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVTY2F0dGVyKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBzY2F0dGVyRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVGFibGUgPSBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICB6QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS56QXhpc0RhdGEsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3IsXHJcbiAgICAgICAgc2NhdHRlckRhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNjYXR0ZXJEYXRhKSk7XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSA9IDQuNTtcclxuICAgIH1cclxuICAgIGlmICghY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgPSAyNTtcclxuICAgIH1cclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXItY29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXItY29udGFpbmVyLmVkaXRhYmxlLXNjYXR0ZXInKS5yZW1vdmUoKTsgICAgICAgIFxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHZhciBzY2F0dGVyRGF0YUZpbHRlcmVkID0gW107XHJcblxyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJ3VuZGVmaW5lZCcgfHwgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuel0gPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuc2VyaWVzXSAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS54XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS56XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdICE9PSAtMSAmJiBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUueV0gIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHNjYXR0ZXJEYXRhRmlsdGVyZWQucHVzaChzY2F0dGVyRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICBpZiAoekF4aXNEYXRhICYmIHR5cGVvZiB6QXhpc0RhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHpBeGlzRGF0YSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHpBeGlzRGF0YSk7XHJcbiAgICAgICAgdmFyIHogPSBqdkNoYXJ0cy5nZXRaU2NhbGUoekF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGN4VHJhbnNsYXRlLFxyXG4gICAgICAgIGN5VHJhbnNsYXRlO1xyXG5cclxuICAgIGN4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geChzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3hBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuICAgIGN5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geShzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3lBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2NhdHRlcnMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2NhdHRlci1jb250YWluZXInKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cnKTtcclxuXHJcbiAgICBzY2F0dGVyc1xyXG4gICAgICAgIC5kYXRhKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNjYXR0ZXJEYXRhRmlsdGVyZWQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdlZGl0YWJsZSBlZGl0YWJsZS1zY2F0dGVyIHNjYXR0ZXItY2lyY2xlLScgKyBpICsgJyBoaWdobGlnaHQtY2xhc3MnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2N4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN4VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2N5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN5VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJvcGFjaXR5XCIsIDAuOClcclxuICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3onKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRvZ2dsZVogJiYgekF4aXNEYXRhICYmIHR5cGVvZiB6QXhpc0RhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHpBeGlzRGF0YSkubGVuZ3RoID4gMCAmJiBzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS56XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB6KHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1bZGF0YVRhYmxlLnpdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2xvcjtcclxuICAgICAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2VyaWVzJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgc2NhdHRlckRhdGFGaWx0ZXJlZFtpXVtkYXRhVGFibGUuc2VyaWVzXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1bZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzY2F0dGVycztcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnNpbmdsZWF4aXMgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0U2luZ2xlQXhpc0RhdGEgPSBnZXRTaW5nbGVBeGlzRGF0YTtcclxuanZDaGFydHMucHJvdG90eXBlLmdldFNpbmdsZUF4aXNaID0gZ2V0U2luZ2xlQXhpc1o7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVBvaW50cyA9IGdlbmVyYXRlUG9pbnRzO1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU2luZ2xlIEF4aXMgQ2x1c3RlciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSB7IGNoYXJ0RGF0YTogY2hhcnQuZGF0YS5jaGFydERhdGEsIGRhdGFUYWJsZTogY2hhcnQuZGF0YS5kYXRhVGFibGUgfTtcclxuXHJcbiAgICAvL1NldCB0aGUgbGVnZW5kIERhdGEgdG8gdGhlIGxhYmVsIGZyb20gZGF0YVRhYmxlIEtleXNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEgPSBbY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLnhdO1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhID0gY2hhcnQuZ2V0U2luZ2xlQXhpc0RhdGEoY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLCBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUpO1xyXG5cclxuICAgIGlmIChjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NpemUnKSkge1xyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhLnpBeGlzRGF0YSA9IGNoYXJ0LmdldFNpbmdsZUF4aXNaKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEuY29sb3IgPSAncmVkJzsvL2NoYXJ0LnNldENoYXJ0Q29sb3JzIChjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgICAgIHZhciBzcGxpdERhdGEgPSB7fSwvL0lmIHRoZXJlIGlzIGEgc3BsaXQsIHRoZSBkYXRhIHRoYXQgaGFzIGJlZW4gc3BsaXRcclxuICAgICAgICBudW1WaXp6ZXMsLy9JZiB0aGVyZSBpcyBhIHNwbGl0LCB0aGUgbnVtYmVyIG9mIHNpbmdsZSBheGlzIGNsdXN0ZXJzIHRoYXQgYXJlIGNyZWF0ZWRcclxuICAgICAgICBjdXN0b21TaXplID0ge30sLy9JZiB0aGVyZSBpcyBhIHNwbGl0LCB0aGUgc3ZnIG5lZWRzIHRvIGJlIGEgY3VzdG9tIHByZWRlZmluZWQgaGVpZ2h0XHJcbiAgICAgICAgbWFyZ2luID0ge1xyXG4gICAgICAgICAgICB0b3A6IDQwLFxyXG4gICAgICAgICAgICBsZWZ0OiAxMDAsXHJcbiAgICAgICAgICAgIHJpZ2h0OiA3NSxcclxuICAgICAgICAgICAgYm90dG9tOiA1MCxcclxuICAgICAgICB9O1xyXG5cclxuICAgIC8vSWYgdGhlcmUgaXMgYSBzcGxpdCBvbiB0aGUgdml6LCBydW4gdGhyb3VnaCB0aGlzIGxvZ2ljXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc3BsaXREYXRhICE9IFwiXCIgJiYgY2hhcnQuX3ZhcnMuc3BsaXREYXRhICE9IFwibm9uZVwiKSB7XHJcbiAgICAgICAgLy9DaGVjayB0byBzZWUgaG93IG1hbnkgdml6emVzIG5lZWQgdG8gYmUgY3JlYXRlZCBiZWNhdXNlIG9mIHRoZSBzcGxpdFxyXG4gICAgICAgIGRlYnVnZ2VyXHJcbiAgICAgICAgdmFyIHNwbGl0RGF0YUtleXMgPSBbXTtcclxuICAgICAgICB2YXIgc3BsaXRPcHRpb25OYW1lID0gY2hhcnQuX3ZhcnMuc3BsaXREYXRhLnJlcGxhY2UoL18vZywgXCIgXCIpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYWRkVG9LZXlzID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzcGxpdERhdGFLZXlzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldW3NwbGl0T3B0aW9uTmFtZV0gPT09IHNwbGl0RGF0YUtleXNbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUb0tleXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWRkVG9LZXlzKSB7XHJcbiAgICAgICAgICAgICAgICBzcGxpdERhdGFLZXlzLnB1c2goY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldW3NwbGl0T3B0aW9uTmFtZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0NyZWF0ZSBPYmplY3Qgd2l0aCBrZXlzIGFuZCBhc3NpZ24gZWFjaCBlbGVtZW50IG9mIHRoZSBkYXRhIGFycmF5IHRvIGNvcnJlc3BvbmRpbmcgb2JqZWN0XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdERhdGFLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNwbGl0RGF0YVtzcGxpdERhdGFLZXlzW2ldXSA9IFtdOy8vQXNzaWduIGVtcHR5IGFycmF5IHRvIGVhY2ggbG9jYXRpb25cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQXNzaWduIERhdGEgZWxlbWVudHMgdG8gYXBwcm9wcmlhdGUgcGxhY2UgaW4gc3BsaXREYXRhIG9iamVjdFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNwbGl0RGF0YVtjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bc3BsaXRPcHRpb25OYW1lXV0ucHVzaChjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbnVtVml6emVzID0gc3BsaXREYXRhS2V5cy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGN1c3RvbVNpemUgPSB7fTtcclxuXHJcbiAgICAgICAgY3VzdG9tU2l6ZS5oZWlnaHQgPSAobnVtVml6emVzKSAqIDMwMDtcclxuXHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgbWFyZ2luLCBjdXN0b21TaXplKTtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVZpenplczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmdlbmVyYXRlUG9pbnRzKHNwbGl0RGF0YVtzcGxpdERhdGFLZXlzW2ldXSwgaSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vV2hlbiB0aGVyZSBpc24ndCBhIHNwbGl0LCB0aGUgYmFzZSBjYXNlXHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCBtYXJnaW4pO1xyXG4gICAgICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgICAgICBjaGFydC5kcmF3R3JpZGxpbmVzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVQb2ludHMoY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYodHlwZW9mIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUudGlja3MgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNpbmdsZUF4aXNaKGRhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc2l6ZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5zaXplLFxyXG4gICAgICAgIG1pbiA9IGRhdGFbMF1bc2l6ZV0sXHJcbiAgICAgICAgbWF4ID0gZGF0YVswXVtzaXplXTtcclxuICAgIC8vRmluZCBtaW4gYW5kIG1heCBvZiB0aGUgZGF0YVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG51bSA9IGRhdGFbaV1bc2l6ZV07XHJcbiAgICAgICAgaWYgKG51bSA+IG1heCkge1xyXG4gICAgICAgICAgICBtYXggPSBudW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bSA8IG1pbikge1xyXG4gICAgICAgICAgICBtaW4gPSBudW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAnbWF4JzogbWF4LFxyXG4gICAgICAgICdsYWJlbCc6IHNpemVcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQb2ludHMoZGF0YSwgeUxldmVsKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICB3aWR0aCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB6QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS56QXhpc0RhdGEsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBwb2ludENvbG9yID0gXCIjNjA5Y2RiXCIsXHJcbiAgICAgICAgY29sb3JlZFBvaW50ID0gXCIjZTg4YTE3XCI7XHJcblxyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICBjb25zdCBTUExJVF9DTFVTVEVSX0hFSUdIVCA9IDMwMDtcclxuICAgIGNvbnN0IFRSQU5TTEFURV9TUExJVF9DTFVTVEVSID0gMTUwO1xyXG5cclxuXHJcbiAgICAvL0lmIHRoZXJlJ3MgYSBzcGxpdCwgYWNjb3VudCBmb3IgdGhlIG11bHRpcGxlIGF4ZXNcclxuICAgIHZhciBjdXJyZW50QXhpc0hlaWdodDtcclxuICAgIGlmICh5TGV2ZWwgIT0gbnVsbCkge1xyXG4gICAgICAgIGN1cnJlbnRBeGlzSGVpZ2h0ID0gKHlMZXZlbCAqIFNQTElUX0NMVVNURVJfSEVJR0hUKSArIFRSQU5TTEFURV9TUExJVF9DTFVTVEVSOy8vRWFjaCBoZWlnaHQgaXMgMTAwcHhcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGN1cnJlbnRBeGlzSGVpZ2h0ID0gaGVpZ2h0IC8gMjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkUpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFID0gNC41O1xyXG4gICAgfVxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5OT0RFX01BWF9TSVpFKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSA9IDI1O1xyXG4gICAgfVxyXG5cclxuICAgIC8vQWRkIGEgcGF0aCBsaW5lIHRocm91Z2ggdGhlIGhlaWdodCBvZiB0aGUgYXhpc1xyXG4gICAgaWYgKHlMZXZlbCAhPSBudWxsKSB7XHJcbiAgICAgICAgc3ZnLmFwcGVuZChcImxpbmVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxyXG4gICAgICAgICAgICAuYXR0cihcIngyXCIsIGNvbnRhaW5lci53aWR0aClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCBjdXJyZW50QXhpc0hlaWdodClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCBjdXJyZW50QXhpc0hlaWdodClcclxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCJ3aGl0ZVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCBcIjIwcHhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCwgXCIgKyBUUkFOU0xBVEVfU1BMSVRfQ0xVU1RFUiArIFwiKVwiKTtcclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmRhdHVtKGRhdGEpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAwKVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZFswXVtjaGFydC5fdmFycy5zcGxpdERhdGEucmVwbGFjZSgvXy9nLCAnICcpXTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoLTg1LCAwKVwiKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB2YXIgc2ltdWxhdGlvbiA9IGQzLmZvcmNlU2ltdWxhdGlvbihkYXRhKVxyXG4gICAgICAgIC5hbHBoYURlY2F5KC4wNSlcclxuICAgICAgICAuZm9yY2UoXCJ4XCIsIGQzLmZvcmNlWChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4geChkW2RhdGFUYWJsZS54XSk7XHJcbiAgICAgICAgfSkuc3RyZW5ndGgoMSkpXHJcbiAgICAgICAgLmZvcmNlKFwieVwiLCBkMy5mb3JjZVkoY3VycmVudEF4aXNIZWlnaHQpKVxyXG4gICAgICAgIC5mb3JjZShcImNvbGxpZGVcIiwgZDMuZm9yY2VDb2xsaWRlKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vU2V0IGNvbGxpc2lvbiByYWRpdXMgZXF1YWwgdG8gdGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NpemUnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm0gPSAoZFtkYXRhVGFibGUuc2l6ZV0gLSB6QXhpc0RhdGEubWluKSAvICh6QXhpc0RhdGEubWF4IC0gekF4aXNEYXRhLm1pbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gKGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgLSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSAqIG5vcm0gKyBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9KS5zdHJlbmd0aCgxKSlcclxuICAgICAgICAuZm9yY2UoXCJjaGFyZ2VcIiwgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC02KSlcclxuICAgICAgICAuc3RvcCgpO1xyXG4gICAgLy9cclxuXHJcbiAgICAvL09uIERyYXcgTW92ZSBQb2ludHNcclxuICAgIGZ1bmN0aW9uIG1vdmVUb3dhcmREYXRhUG9zaXRpb24oYWxwaGEpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgZC54ICs9ICh4KGQueCkgLSBkLngpICogLjEgKiBhbHBoYTtcclxuICAgICAgICAgICAgZC55ICs9ICh5KGQueSkgLSBkLnkpICogLjA1ICogYWxwaGE7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyMDsgKytpKSBzaW11bGF0aW9uLnRpY2soKTtcclxuXHJcbiAgICB2YXIgY2VsbCA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNlbGxzXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgICAuZGF0YShkMy52b3Jvbm9pKClcclxuICAgICAgICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxyXG4gICAgICAgICAgICAueChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQueDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnkoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLnk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5wb2x5Z29ucyhkYXRhKVxyXG4gICAgICAgIClcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImNlbGwtY29udGFpbmVyXCIpO1xyXG5cclxuICAgIGNlbGxcclxuICAgICAgICAuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgLmF0dHIoXCJyXCIsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NpemUnKSAmJiBkICE9IG51bGwgJiYgZC5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybSA9IChkLmRhdGFbZGF0YVRhYmxlLnNpemVdIC0gekF4aXNEYXRhLm1pbikgLyAoekF4aXNEYXRhLm1heCAtIHpBeGlzRGF0YS5taW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihub3JtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSAoY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSAtIGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkUpICogbm9ybSArIGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsvL0lmIHRoZXJlIGlzIG9ubHkgMSBub2RlIG9uIHRoZSBjaGFydFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSAwOy8vRG9uJ3QgZGlzcGxheSB1bmRlZmluZWQgbm9kZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFOy8vRGVmYXVsdCBub2RlIHNpemUgb2YgMTVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3ZhbCA9IDM7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImN4XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEueDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsICYmIGQuZGF0YVtjaGFydC5fdmFycy5jb2xvckRhdGFDYXRlZ29yeV0gPT09IGNoYXJ0Ll92YXJzLmNvbG9yRGF0YUluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JlZFBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50Q29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAuOClcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcImJsYWNrXCIpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMSlcclxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBkLmRhdGFbY2hhcnQuX3ZhcnMuY29sb3JEYXRhQ2F0ZWdvcnldID09PSBjaGFydC5fdmFycy5jb2xvckRhdGFJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JlZFBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50Q29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNpbmdsZUF4aXNEYXRhKGRhdGEsIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBsYWJlbCxcclxuICAgICAgICBkYXRhVHlwZSxcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4LFxyXG4gICAgICAgIHZhbHVlcyA9IFtdO1xyXG5cclxuICAgIGlmIChkYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCd4JykpIHtcclxuICAgICAgICAgICAgbGFiZWwgPSBkYXRhVGFibGUueDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YVR5cGUgPSAnTlVNQkVSJztcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZXMucHVzaChkYXRhW2ldW2RhdGFUYWJsZS54XSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKTtcclxuICAgIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcblxyXG4gICAgLy9BZGQgYSAxMCUgYnVmZmVyIHRvIGJvdGggc2lkZXNcclxuICAgIG1pbiA9IE1hdGguZmxvb3IobWluIC0gKChtYXggLSBtaW4pICogLjEwKSk7XHJcbiAgICBtYXggPSBNYXRoLmNlaWwobWF4ICsgKChtYXggLSBtaW4pICogLjEwKSk7XHJcblxyXG4gICAgLy9Gb3IgYXhpcyBtaW4vbWF4IHdpZGdldFxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmhhc093blByb3BlcnR5KCd4TWluJykgJiYgY2hhcnQuX3ZhcnMueE1pbiAhPSAnbm9uZScpIHtcclxuICAgICAgICBtaW4gPSBjaGFydC5vcHRpb25zLnhNaW47XHJcbiAgICB9XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuaGFzT3duUHJvcGVydHkoJ3hNYXgnKSAmJiBjaGFydC5fdmFycy54TWF4ICE9ICdub25lJykge1xyXG4gICAgICAgIG1heCA9IGNoYXJ0Ll92YXJzLnhNYXg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAndmFsdWVzJzogdmFsdWVzLFxyXG4gICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlLFxyXG4gICAgICAgICdtaW4nOiBtaW4sXHJcbiAgICAgICAgJ21heCc6IG1heFxyXG4gICAgfVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc3VuYnVyc3QgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVTdW5idXJzdCA9IGdlbmVyYXRlU3VuYnVyc3Q7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFN1bmJ1cnN0IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRTdW5idXJzdENoYXJ0RGF0YVxyXG4gKiAgZ2V0cyBzdW5idXJzdCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGNoYXJ0LmNvbG9ycztcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG5cclxuICAgIHZhciBzdW5idXJzdE1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiAxNSxcclxuICAgICAgICByaWdodDogMTUsXHJcbiAgICAgICAgYm90dG9tOiAxNSxcclxuICAgICAgICBsZWZ0OiAxNVxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIHN1bmJ1cnN0TWFyZ2lucyk7XHJcbiAgICAvLyBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVTdW5idXJzdCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVTdW5idXJzdChjaGFydC5jdXJyZW50RGF0YSk7XHJcbn1cclxuXHJcbi8qKiBnZW5lcmF0ZVN1bmJ1cnN0XHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgc3VuYnVyc3Qgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgc3VuYnVyc3REYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVN1bmJ1cnN0KHN1bmJ1cnN0RGF0YSkge1xyXG5cclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgYWxsRmlsdGVyTGlzdCA9IFtdLFxyXG4gICAgICAgIHJlbGF0aW9uTWFwID0gY2hhcnQuZGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgY2hhcnROYW1lID0gY2hhcnQuY29uZmlnLm5hbWUsXHJcbiAgICAgICAgd2lkdGggPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICByYWRpdXMgPSAoTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyKSAtIDEwO1xyXG5cclxuICAgIGNoYXJ0LmNoaWxkcmVuID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcblxyXG4gICAgdmFyIG5ld0RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNoYXJ0LmNoaWxkcmVuKSk7Ly9jb3B5IG9mIHBpZSBkYXRhXHJcblxyXG4gICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIixkXCIpO1xyXG5cclxuICAgIHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgIC5yYW5nZShbMCwgMiAqIE1hdGguUEldKTtcclxuXHJcbiAgICB2YXIgeSA9IGQzLnNjYWxlU3FydCgpXHJcbiAgICAgICAgLnJhbmdlKFswLCByYWRpdXNdKTtcclxuXHJcbiAgICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKVxyXG4gICAgICAgIC5yYW5nZShjaGFydC5kYXRhLmNvbG9yXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgYyA9IGQzLnJnYihjKTsgYy5vcGFjaXR5ID0gMTsgcmV0dXJuIGM7IH0pKTtcclxuXHJcbiAgICAvLyB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkxMCk7XHJcblxyXG4gICAgdmFyIHBhcnRpdGlvbiA9IGQzLnBhcnRpdGlvbigpO1xyXG5cclxuICAgIHZhciBhcmMgPSBkMy5hcmMoKVxyXG4gICAgICAgIC5zdGFydEFuZ2xlKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigyICogTWF0aC5QSSwgeChkLngwKSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVuZEFuZ2xlKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigyICogTWF0aC5QSSwgeChkLngxKSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCB5KGQueTApKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vdXRlclJhZGl1cyhmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgeShkLnkxKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gIGFzc2lnbnMgdGhlIGRhdGEgdG8gYSBoaWVyYXJjaHkgdXNpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KGNoYXJ0LmNoaWxkcmVuLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLmNoaWxkcmVuO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcm9vdC5zdW0oZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC52YWx1ZTtcclxuICAgIH0pXHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInN1bmJ1cnN0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aClcclxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQpXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB3aWR0aCAvIDIgKyBcIixcIiArIChoZWlnaHQgLyAyKSArIFwiKVwiKTtcclxuXHJcblxyXG4gICAgdmlzLnNlbGVjdEFsbChcInBhdGhcIilcclxuICAgICAgICAuZGF0YShwYXJ0aXRpb24ocm9vdCkuZGVzY2VuZGFudHMoKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm5vZGVcIik7XHJcblxyXG4gICAgdmFyIHBhdGggPSB2aXMuc2VsZWN0QWxsKFwiLm5vZGVcIilcclxuICAgICAgICAuYXBwZW5kKFwicGF0aFwiKVxyXG4gICAgICAgIC5hdHRyKFwiZFwiLCBhcmMpXHJcbiAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZC5kYXRhLm5hbWUgPT09IFwicm9vdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBkLmNvbG9yID0gY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGQuY29sb3IgPSBjb2xvcihkLmRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IoZC5kYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgY2xpY2spXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcykge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gdmlzLnNlbGVjdEFsbChcIi5ub2RlXCIpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJyb3RhdGUoXCIgKyBjb21wdXRlVGV4dFJvdGF0aW9uKGQpICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZC55MCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZHhcIiwgXCI2XCIpIC8vIG1hcmdpblxyXG4gICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIikgLy8gdmVydGljYWwtYWxpZ25cclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEubmFtZSA9PT0gXCJyb290XCIgPyBcIlwiIDogZC5kYXRhLm5hbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjbGljayhkKSB7XHJcbiAgICAgICAgLy8gZmFkZSBvdXQgYWxsIHRleHQgZWxlbWVudHNcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcykge1xyXG4gICAgICAgICAgICB0ZXh0LnRyYW5zaXRpb24oKS5hdHRyKFwib3BhY2l0eVwiLCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZpcy50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDc1MClcclxuICAgICAgICAgICAgLnR3ZWVuKFwic2NhbGVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHhkID0gZDMuaW50ZXJwb2xhdGUoeC5kb21haW4oKSwgW2QueDAsIGQueDFdKSxcclxuICAgICAgICAgICAgICAgICAgICB5ZCA9IGQzLmludGVycG9sYXRlKHkuZG9tYWluKCksIFtkLnkwLCAxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgeXIgPSBkMy5pbnRlcnBvbGF0ZSh5LnJhbmdlKCksIFtkLnkwID8gMjAgOiAwLCByYWRpdXNdKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsgeC5kb21haW4oeGQodCkpOyB5LmRvbWFpbih5ZCh0KSkucmFuZ2UoeXIodCkpOyB9O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxyXG4gICAgICAgICAgICAuYXR0clR3ZWVuKFwiZFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJjKGQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwiZW5kXCIsIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBhbmltYXRlZCBlbGVtZW50J3MgZGF0YSBlIGxpZXMgd2l0aGluIHRoZSB2aXNpYmxlIGFuZ2xlIHNwYW4gZ2l2ZW4gaW4gZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLngwID4gZC54MCAmJiBlLngwIDwgZC54MSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgYSBzZWxlY3Rpb24gb2YgdGhlIGFzc29jaWF0ZWQgdGV4dCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmNUZXh0ID0gZDMuc2VsZWN0KHRoaXMucGFyZW50Tm9kZSkuc2VsZWN0KFwidGV4dFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFkZSBpbiB0aGUgdGV4dCBlbGVtZW50IGFuZCByZWNhbGN1bGF0ZSBwb3NpdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJjVGV4dC50cmFuc2l0aW9uKCkuZHVyYXRpb24oNzUwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJvcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwidmlzaWJsZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJyb3RhdGUoXCIgKyBjb21wdXRlVGV4dFJvdGF0aW9uKGUpICsgXCIpXCIgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geShkLnkwKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZGF0YS5uYW1lID09PSBcInJvb3RcIiA/IFwiXCIgOiBkLmRhdGEubmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wdXRlVGV4dFJvdGF0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gKHgoKGQueDAgKyBkLngxKSAvIDIpIC0gTWF0aC5QSSAvIDIpIC8gTWF0aC5QSSAqIDE4MDtcclxuICAgIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnRyZWVtYXAgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVUcmVlTWFwID0gZ2VuZXJhdGVUcmVlTWFwO1xyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFRyZWVNYXAgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFRyZWVNYXBEYXRhXHJcbiAqICBnZXRzIHRyZWVtYXAgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoY2hhcnQpIHtcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFRyZWVNYXBMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG4vKipzZXRUcmVlTWFwTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRUcmVlTWFwTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFydERhdGEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAobGVnZW5kQXJyYXkuaW5kZXhPZihkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcblxyXG4gICAgdmFyIHRyZWVNYXBNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogNDUsXHJcbiAgICAgICAgcmlnaHQ6IDUwLFxyXG4gICAgICAgIGxlZnQ6IDUwLFxyXG4gICAgICAgIGJvdHRvbTogMTMwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgdHJlZU1hcE1hcmdpbnMpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlVHJlZU1hcCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVUcmVlTWFwKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxuXHJcblxyXG59O1xyXG5cclxuLyoqIGdlbmVyYXRlVHJlZU1hcFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIHRyZWVtYXAgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgdHJlZU1hcERhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVHJlZU1hcCh0cmVlTWFwRGF0YSkge1xyXG5cclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IHRyZWVNYXBEYXRhLmNvbG9yLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgYWxsRmlsdGVyTGlzdCA9IFtdLFxyXG4gICAgICAgIHJlbGF0aW9uTWFwID0gY2hhcnQuZGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgdHJlZW1hcCA9IG51bGwsXHJcbiAgICAgICAgY2hhcnROYW1lID0gY2hhcnQuY29uZmlnLm5hbWU7XHJcblxyXG4gICAgY2hhcnQuY2hpbGRyZW4gPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICB2YXIgbmV3RGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hhcnQuY2hpbGRyZW4pKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gbGVnZW5kRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG5cclxuICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBqdkNoYXJ0cy5nZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoZGF0YUhlYWRlcnMsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSk7XHJcblxyXG5cclxuXHJcbiAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdEYXRhLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnQgPT09IG5ld0RhdGEuY2hpbGRyZW5bal1bcmVsYXRpb25NYXAuc2VyaWVzXSAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGEuY2hpbGRyZW5bal0uc2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmVlTWFwRGF0YUZpbHRlcmVkID0ge307XHJcbiAgICB0cmVlTWFwRGF0YUZpbHRlcmVkW1wiUGFyZW50XCJdID0gXCJUb3AgTGV2ZWxcIjtcclxuICAgIHRyZWVNYXBEYXRhRmlsdGVyZWQuY2hpbGRyZW4gPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0RhdGEuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAobmV3RGF0YS5jaGlsZHJlbltqXS5zaG93ICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0cmVlTWFwRGF0YUZpbHRlcmVkLmNoaWxkcmVuLnB1c2gobmV3RGF0YS5jaGlsZHJlbltqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICBhc3NpZ25zIHRoZSBkYXRhIHRvIGEgaGllcmFyY2h5IHVzaW5nIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeSh0cmVlTWFwRGF0YUZpbHRlcmVkLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLmNoaWxkcmVuO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHRyZWVtYXAgPSBkMy50cmVlbWFwKClcclxuICAgICAgICAuc2l6ZShbY29udGFpbmVyLndpZHRoLCBjb250YWluZXIuaGVpZ2h0XSlcclxuICAgICAgICAucGFkZGluZygyKTtcclxuXHJcbiAgICB2YXIgbm9kZXMgPSB0cmVlbWFwKHJvb3RcclxuICAgICAgICAuc3VtKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkW3JlbGF0aW9uTWFwLnNpemVdO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGIuaGVpZ2h0IC0gYS5oZWlnaHQgfHwgYi52YWx1ZSAtIGEudmFsdWU7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLmRlc2NlbmRhbnRzKCk7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCJnLnRyZWVtYXBcIikucmVtb3ZlKCk7XHJcbiAgICBzdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJ0cmVlbWFwXCIpO1xyXG5cclxuICAgIHZhciBub2RlID0gc3ZnLnNlbGVjdChcIi50cmVlbWFwXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgICAuZGF0YShyb290LmxlYXZlcygpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsMCknO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAvLyAuY2FsbChwb3NpdGlvbilcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLngxIC0gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnkxIC0gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgZC5kYXRhW3JlbGF0aW9uTWFwLnNlcmllc10pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgLjgpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgY2hhcnQuX3ZhcnMud2hpdGUpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgY2hhcnQuX3ZhcnMuc3Ryb2tlV2lkdGgpXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG4gICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGQzLnNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgcmVjdC5hdHRyKFwiZmlsbFwiLCBjaGFydC5fdmFycy5saWdodCk7XHJcbiAgICAgICAgICAgIHJlY3QudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGQzLnNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgcmVjdC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGQuZGF0YVtyZWxhdGlvbk1hcC5zZXJpZXNdKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlY3QudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbm9kZS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC8vIC5jYWxsKHBvc2l0aW9uKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDEgLSBkLngwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTEgLSBkLnkwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMywgMTgpXCIpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQuZHkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gbnVsbCA6IGQuZGF0YVtyZWxhdGlvbk1hcC5sYWJlbF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgLyogRG9uJ3QgZGlzcGxheSB0ZXh0IGlmIHRleHQgaXMgd2lkZXIgdGhhbiByZWN0ICovXHJcbiAgICB2YXIgdGVtcCA9IHN2Zy5zZWxlY3QoXCIudHJlZW1hcFwiKS5zZWxlY3RBbGwoXCJnXCIpLnNlbGVjdEFsbChcInRleHRcIik7XHJcbiAgICB0ZW1wLmF0dHIoXCJzdHlsZVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEJCb3goKS53aWR0aCA+PSAoZC54MSAtIGQueDApIC0gNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJkaXNwbGF5Om5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0QkJveCgpLmhlaWdodCA+PSAoZC55MSAtIGQueTApIC0gNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJkaXNwbGF5Om5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmNsb3VkID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQ2xvdWQgPSBnZW5lcmF0ZUNsb3VkO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDbG91ZCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0Q2xvdWREYXRhXHJcbiAqICBnZXRzIGNsb3VkIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGNoYXJ0LmNvbG9ycztcclxufTtcclxuXHJcbi8qKnNldENsb3VkTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDbG91ZExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaCgoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Lm9wdGlvbnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgY2xvdWRNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogMTUsXHJcbiAgICAgICAgcmlnaHQ6IDE1LFxyXG4gICAgICAgIGxlZnQ6IDE1LFxyXG4gICAgICAgIGJvdHRvbTogMTVcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBjbG91ZE1hcmdpbnMpO1xyXG4gICAgLy8gY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlQ2xvdWQnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQ2xvdWQoY2hhcnQuY3VycmVudERhdGEpO1xyXG59O1xyXG5cclxuLyoqIGdlbmVyYXRlQ2xvdWRcclxuICpcclxuICogcGFpbnRzIHRoZSBjbG91ZCAgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgY2xvdWQgRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVDbG91ZChjbG91ZERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgYWxsRmlsdGVyTGlzdCA9IFtdLFxyXG4gICAgICAgIHJlbGF0aW9uTWFwID0gY2hhcnQuZGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgY2hhcnROYW1lID0gY2hhcnQuY29uZmlnLm5hbWUsXHJcbiAgICAgICAgd2lkdGggPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICBtYXJnaW4gPSBjaGFydC5jb25maWcubWFyZ2luLFxyXG4gICAgICAgIG1pbixcclxuICAgICAgICBtYXg7XHJcblxyXG5cclxuICAgIHZhciBjYXRlZ29yaWVzID0gZDMua2V5cyhkMy5uZXN0KCkua2V5KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgaWYgKCFtaW4gJiYgIW1heCkge1xyXG4gICAgICAgICAgICBtaW4gPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICAgICAgbWF4ID0gZFtyZWxhdGlvbk1hcC52YWx1ZV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGRbcmVsYXRpb25NYXAudmFsdWVdID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICBtYXggPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZFtyZWxhdGlvbk1hcC52YWx1ZV0gPCBtaW4pIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IGRbcmVsYXRpb25NYXAudmFsdWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgIH0pLm1hcChjbG91ZERhdGEuY2hhcnREYXRhKSk7XHJcblxyXG4gICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKClcclxuICAgICAgICAucmFuZ2UoY2hhcnQuZGF0YS5jb2xvclxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IGMgPSBkMy5yZ2IoYyk7IGMub3BhY2l0eSA9IDAuODsgcmV0dXJuIGM7IH0pKTtcclxuXHJcbiAgICB2YXIgZm9udFNpemUgPSBkMy5zY2FsZVBvdygpLmV4cG9uZW50KDUpLmRvbWFpbihbMCwgMV0pLnJhbmdlKFsxMCwgODBdKTtcclxuXHJcbiAgICB2YXIgbGF5b3V0ID0gZDMubGF5b3V0LmNsb3VkKClcclxuICAgICAgICAudGltZUludGVydmFsKDEwKVxyXG4gICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSlcclxuICAgICAgICAud29yZHMoY2xvdWREYXRhLmNoYXJ0RGF0YSlcclxuICAgICAgICAucm90YXRlKGZ1bmN0aW9uIChkKSB7IHJldHVybiAwOyB9KVxyXG4gICAgICAgIC5mb250KCdSb2JvdG8nKVxyXG4gICAgICAgIC5mb250U2l6ZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9udFNpemUobWF4IC0gbWluICE9PSAwID8gKGRbcmVsYXRpb25NYXAudmFsdWVdIC0gbWluKSAvIChtYXggLSBtaW4pIDogMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFtyZWxhdGlvbk1hcC5sYWJlbF07IH0pXHJcbiAgICAgICAgLnNwaXJhbChcImFyY2hpbWVkZWFuXCIpXHJcbiAgICAgICAgLm9uKFwiZW5kXCIsIGRyYXcpXHJcbiAgICAgICAgLnN0YXJ0KCk7XHJcblxyXG4gICAgdmFyIHdvcmRjbG91ZCA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3dvcmRjbG91ZCcpXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgd2lkdGggLyAyICsgXCIsXCIgKyBoZWlnaHQgLyAyICsgXCIpXCIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYXcod29yZHMpIHtcclxuICAgICAgICB3b3JkY2xvdWQuc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuZGF0YShjbG91ZERhdGEuY2hhcnREYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd3b3JkJylcclxuICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5zaXplICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJmb250LWZhbWlseVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuZm9udDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGRbcmVsYXRpb25NYXAudmFsdWVdKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBbZC54LCBkLnldICsgXCIpcm90YXRlKFwiICsgZC5yb3RhdGUgKyBcIilcIjsgfSlcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudGV4dDsgfSlcclxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGlwRGF0YS5jb2xvciA9IGNvbG9yKGRbcmVsYXRpb25NYXAudmFsdWVdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiJdfQ==
